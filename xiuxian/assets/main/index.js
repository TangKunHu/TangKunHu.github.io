System.register("chunks:///_virtual/AD_SDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalFun.ts"],(function(t){"use strict";var n,e,o,r,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Component},function(t){i=t.em},function(t){c=t.glf}],execute:function(){var s;e._RF.push({},"7b3a5gFIv9F5YMt4WSduB3t","AD_SDK",void 0);var a=o.ccclass;o.property,t("AD_SDK",a("AD_SDK")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onDestroy=function(){i.remove("createPlayADEvent"),i.remove("directPlayAD")},o.onLoad=function(){i.add("createPlayADEvent",this.createPlayADEvent.bind(this)),i.add("directPlayAD",this.directPlayAD.bind(this))},o.createPlayADEvent=function(t,n){c.createButton(this.node,t,"AD_SDK","onBtnShowADs"+n)},o.onBtnShowADsGameMonetize=function(){"undefined"!=typeof sdk&&"undefined"!==sdk.showBanner&&sdk.showBanner()},o.directPlayAD=function(t){this["onBtnShowADs"+t]()},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/AddItemsLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var e,i,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,r=t.Component},function(t){o=t.em}],execute:function(){var c;i._RF.push({},"c3113X6rZpF2JCxWHJ/YmQZ","AddItemsLayer",void 0);var s=n.ccclass;n.property,t("AddItemsLayer",s("AddItemsLayer")(c=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._curItemIdString=void 0,e._curSelectTotal=void 0,e}e(i,t);var n=i.prototype;return n.inputItemNameString=function(t){this._curItemIdString=t.string,console.log("inputItemNameString",t.string)},n.inputItemTotalString=function(t){this._curSelectTotal=t.string,console.log("inputItemTotalString",t.string)},n.onBtnConfirm=function(){var t=parseInt(this._curSelectTotal);isNaN(t)?o.dispatch("tipsViewShow","数量输入错误，请重新输入"):o.dispatch("itemIsValid",this._curItemIdString)?(o.dispatch("addItemToSS",this._curItemIdString,t),o.dispatch("tipsViewShow","获得物品："+this._curItemIdString+"x"+t)):o.dispatch("tipsViewShow","物品名称输入错误，请重新输入")},n.onBtnOpenAddItemLayer=function(){this.node.active=!0},i}(r))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/Agent.ts",["cc","./commonDefine.ts","./Line.ts","./RVOMath.ts","./Simulator.ts","./Vector2.ts"],(function(i){"use strict";var t,e,s,n,o,r,a;return{setters:[function(i){t=i.cclegacy},function(i){e=i.KeyValuePair,s=i.ObserverObj},function(i){n=i.default},function(i){o=i.default},function(i){r=i.default},function(i){a=i.default}],execute:function(){t._RF.push({},"d8246SaSchO063ebx7y7tLI","Agent",void 0);i("default",function(){function i(){this.agentNeighbors_=[],this.obstacleNeighbors_=[],this.orcaLines_=[],this.position_=void 0,this.prefVelocity_=new a(0,0),this.velocity_=void 0,this.id_=void 0,this.maxNeighbors_=void 0,this.maxSpeed_=void 0,this.neighborDist_=void 0,this.radius_=void 0,this.timeHorizon_=void 0,this.timeHorizonObst_=void 0,this.needDelete_=!1,this.newVelocity_=new a(0,0)}var t=i.prototype;return t.update=function(){this.velocity_=this.newVelocity_;var i=a.addition(this.position_,a.multiply2(r.Instance.timeStep_,this.velocity_));this.position_=i},t.insertObstacleNeighbor=function(i,t){var s=i.next_,n=o.distSqPointLineSegment(i.point_,s.point_,this.position_);if(n<t){this.obstacleNeighbors_.push(new e(n,i));for(var r=this.obstacleNeighbors_.length-1;0!=r&&n<this.obstacleNeighbors_[r-1].Key;)this.obstacleNeighbors_[r]=this.obstacleNeighbors_[r-1],--r;this.obstacleNeighbors_[r]=new e(n,i)}},t.insertAgentNeighbor=function(i,t){if(i&&this!=i){var s=o.absSq(a.subtract(this.position_,i.position_));if(s<t.value){this.agentNeighbors_.length<this.maxNeighbors_&&this.agentNeighbors_.push(new e(s,i));for(var n=this.agentNeighbors_.length-1;0!=n&&s<this.agentNeighbors_[n-1].Key;)this.agentNeighbors_[n]=this.agentNeighbors_[n-1],--n;this.agentNeighbors_[n]=new e(s,i),this.agentNeighbors_.length==this.maxNeighbors_&&(t.value=this.agentNeighbors_[this.agentNeighbors_.length-1].Key)}}},t.computeNeighbors=function(){this.obstacleNeighbors_=[];var i=o.sqr(this.timeHorizonObst_*this.maxSpeed_+this.radius_);if(r.Instance.kdTree_.computeObstacleNeighbors(this,i),this.agentNeighbors_=[],this.maxNeighbors_>0){var t=new s;t.value=o.sqr(this.neighborDist_),r.Instance.kdTree_.computeAgentNeighbors(this,t)}},t.computeNewVelocity=function(){this.orcaLines_=[];for(var i=1/this.timeHorizonObst_,t=0;t<this.obstacleNeighbors_.length;++t){for(var e=this.obstacleNeighbors_[t].Value,l=e.next_,c=a.subtract(e.point_,this.position_),h=a.subtract(l.point_,this.position_),u=!1,d=0;d<this.orcaLines_.length;++d)if(o.det(a.subtract(a.multiply2(i,c),this.orcaLines_[d].point),this.orcaLines_[d].direction)-i*this.radius_>=-o.RVO_EPSILON&&o.det(a.subtract(a.multiply2(i,h),this.orcaLines_[d].point),this.orcaLines_[d].direction)-i*this.radius_>=-o.RVO_EPSILON){u=!0;break}if(!u){var _=o.absSq(c),p=o.absSq(h),v=o.sqr(this.radius_),y=a.subtract(l.point_,e.point_),b=a.multiply(a.multiply2(-1,c),y)/o.absSq(y),m=o.absSq(a.subtract(a.multiply2(-1,c),a.multiply2(b,y))),g=new n;if(b<0&&_<=v)e.convex_&&(g.point=new a(0,0),g.direction=o.normalize(new a(-c.y,c.x)),this.orcaLines_.push(g));else if(b>1&&p<=v)l.convex_&&o.det(h,l.direction_)>=0&&(g.point=new a(0,0),g.direction=o.normalize(new a(-h.y,h.x)),this.orcaLines_.push(g));else if(b>=0&&b<1&&m<=v)g.point=new a(0,0),g.direction=a.multiply2(-1,e.direction_),this.orcaLines_.push(g);else{var f=void 0,x=void 0;if(b<0&&m<=v){if(!e.convex_)continue;l=e;var N=o.sqrt(_-v);f=a.division(new a(c.x*N-c.y*this.radius_,c.x*this.radius_+c.y*N),_),x=a.division(new a(c.x*N+c.y*this.radius_,-c.x*this.radius_+c.y*N),_)}else if(b>1&&m<=v){if(!l.convex_)continue;e=l;var w=o.sqrt(p-v);f=a.division(new a(h.x*w-h.y*this.radius_,h.x*this.radius_+h.y*w),p),x=a.division(new a(h.x*w+h.y*this.radius_,-h.x*this.radius_+h.y*w),p)}else{if(e.convex_){var S=o.sqrt(_-v);f=a.division(new a(c.x*S-c.y*this.radius_,c.x*this.radius_+c.y*S),_)}else f=a.multiply2(-1,e.direction_);if(l.convex_){var q=o.sqrt(p-v);x=a.division(new a(h.x*q-h.y*this.radius_,h.x*this.radius_+h.y*q),p)}else x=a.multiply2(-1,e.direction_)}var L=e.previous_,I=!1,O=!1;e.convex_&&o.det(f,a.multiply2(-1,L.direction_))>=0&&(f=a.multiply2(-1,L.direction_),I=!0),l.convex_&&o.det(x,a.multiply2(-1,l.direction_))<=0&&(x=l.direction_,O=!0);var V=a.multiply2(i,a.subtract(e.point_,this.position_)),P=a.multiply2(i,a.subtract(l.point_,this.position_)),z=a.subtract(P,V),R=e==l?.5:a.multiply(a.subtract(this.velocity_,V),z)/o.absSq(z),T=a.multiply(a.subtract(this.velocity_,V),f),E=a.multiply(a.subtract(this.velocity_,P),x);if(R<0&&T<0||e==l&&T<0&&E<0){var F=o.normalize(a.subtract(this.velocity_,V));g.direction=new a(F.y,-F.x),g.point=a.addition(V,a.multiply2(this.radius_*i,F)),this.orcaLines_.push(g)}else if(R>1&&E<0){var H=o.normalize(a.subtract(this.velocity_,P));g.direction=new a(H.y,-H.x),g.point=a.addition(P,a.multiply2(this.radius_*i,H)),this.orcaLines_.push(g)}else{var k=R<0||R>1||e==l?o.RVO_POSITIVEINFINITY:o.absSq(a.subtract(this.velocity_,a.addition(V,a.multiply2(R,z)))),A=T<0?o.RVO_POSITIVEINFINITY:o.absSq(a.subtract(this.velocity_,a.addition(V,a.multiply2(T,f)))),D=E<0?o.RVO_POSITIVEINFINITY:o.absSq(a.subtract(this.velocity_,a.addition(P,a.multiply2(E,x))));if(k<=A&&k<=D)g.direction=a.multiply2(-1,e.direction_),g.point=a.addition(V,a.multiply2(this.radius_*i,new a(-g.direction.y,g.direction.x))),this.orcaLines_.push(g);else if(A<=D){if(I)continue;g.direction=f,g.point=a.addition(V,a.multiply2(this.radius_*i,new a(-g.direction.y,g.direction.x))),this.orcaLines_.push(g)}else O||(g.direction=a.multiply2(-1,x),g.point=a.addition(P,a.multiply2(this.radius_*i,new a(-g.direction.y,g.direction.x))),this.orcaLines_.push(g))}}}}for(var K=this.orcaLines_.length,M=1/this.timeHorizon_,Y=0;Y<this.agentNeighbors_.length;++Y){var j=this.agentNeighbors_[Y].Value;if(j){var B=a.subtract(j.position_,this.position_),C=a.subtract(this.velocity_,j.velocity_),G=o.absSq(B),J=this.radius_+j.radius_,Q=o.sqr(J),U=new n,W=new a;if(G>Q){var X=a.subtract(C,a.multiply2(M,B)),Z=o.absSq(X),$=a.multiply(X,B);if($<0&&o.sqr($)>Q*Z){var ii=o.sqrt(Z),ti=a.division(X,ii);U.direction=new a(ti.y,-ti.x),W=a.multiply2(J*M-ii,ti)}else{var ei=o.sqrt(G-Q);o.det(B,X)>0?U.direction=a.division(new a(B.x*ei-B.y*J,B.x*J+B.y*ei),G):U.direction=a.division(new a(B.x*ei+B.y*J,-B.x*J+B.y*ei),-G);var si=a.multiply(C,U.direction);W=a.subtract(a.multiply2(si,U.direction),C)}}else{var ni=1/r.Instance.timeStep_,oi=a.subtract(C,a.multiply2(ni,B)),ri=o.abs(oi),ai=a.division(oi,ri);U.direction=new a(ai.y,-ai.x),W=a.multiply2(J*ni-ri,ai)}U.point=a.addition(this.velocity_,a.multiply2(.5,W)),this.orcaLines_[this.orcaLines_.length]=U}}var li=new s(new a(this.newVelocity_.x,this.newVelocity_.y)),ci=this.linearProgram2(this.orcaLines_,this.maxSpeed_,this.prefVelocity_,!1,li);ci<this.orcaLines_.length&&this.linearProgram3(this.orcaLines_,K,ci,this.maxSpeed_,li),this.newVelocity_=li.value},t.linearProgram1=function(i,t,e,s,n,r){var l=a.multiply(i[t].point,i[t].direction),c=o.sqr(l)+o.sqr(e)-o.absSq(i[t].point);if(c<0)return!1;for(var h=o.sqrt(c),u=-l-h,d=-l+h,_=0;_<t;++_){var p=o.det(i[t].direction,i[_].direction),v=o.det(i[_].direction,a.subtract(i[t].point,i[_].point));if(o.fabs(p)<=o.RVO_EPSILON){if(v<0)return!1}else{var y=v/p;if(p>0?d=Math.min(d,y):u=Math.max(u,y),u>d)return!1}}if(n)a.multiply(s,i[t].direction)>0?r.value=a.addition(i[t].point,a.multiply2(d,i[t].direction)):r.value=a.addition(i[t].point,a.multiply2(u,i[t].direction));else{var b=a.multiply(i[t].direction,a.subtract(s,i[t].point));r.value=b<u?a.addition(i[t].point,a.multiply2(u,i[t].direction)):b>d?a.addition(i[t].point,a.multiply2(d,i[t].direction)):a.addition(i[t].point,a.multiply2(b,i[t].direction))}return!0},t.linearProgram2=function(i,t,e,s,n){s?n.value=a.multiply2(t,e):o.absSq(e)>o.sqr(t)?n.value=a.multiply2(t,o.normalize(e)):n.value=e;for(var r=0;r<i.length;++r)if(o.det(i[r].direction,a.subtract(i[r].point,n.value))>0){var l=new a(n.value.x,n.value.y);if(!this.linearProgram1(i,r,t,e,s,n))return n.value=l,r}return i.length},t.linearProgram3=function(i,t,e,s,r){for(var l=0,c=e;c<i.length;++c)if(o.det(i[c].direction,a.subtract(i[c].point,r.value))>l){for(var h=[],u=0;u<t;++u)h[h.length]=i[u];for(var d=t;d<c;++d){var _=new n,p=o.det(i[c].direction,i[d].direction);if(o.fabs(p)<=o.RVO_EPSILON){if(a.multiply(i[c].direction,i[d].direction)>0)continue;_.point=a.multiply2(.5,a.addition(i[c].point,i[d].point))}else _.point=a.addition(i[c].point,a.multiply2(o.det(i[d].direction,a.subtract(i[c].point,i[d].point))/p,i[c].direction));_.direction=o.normalize(a.subtract(i[d].direction,i[c].direction)),h[h.length]=_}var v=new a(r.value.x,r.value.y);this.linearProgram2(h,s,new a(-i[c].direction.y,i[c].direction.x),!0,r)<h.length&&(r.value=v),l=o.det(i[c].direction,a.subtract(i[c].point,r.value))}},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AnimCommonFun.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,o,t,r,i;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,t=n._decorator,r=n.find,i=n.Component}],execute:function(){var a;o._RF.push({},"0f7d6To5UtJmYQ+Wef5MWbK","AnimCommonFun",void 0);var u=t.ccclass;t.property,n("AnimCommonFun",u("AnimCommonFun")(a=function(n){function o(){return n.apply(this,arguments)||this}return e(o,n),o.prototype.afterPlayUpgradeAnim=function(){r("Canvas/menuLayer/TrainingLayer").getComponent("TrainingLayer").afterPlayUpgradeAnim()},o}(i))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){"use strict";var i,t,r,o,a,n,u,s,l,c,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,u=e.AudioClip,s=e.AudioSource,l=e.director,c=e.Component},function(e){d=e.em}],execute:function(){var h,m,f,p,y,g,b,A,P;a._RF.push({},"35f94alQIRIZaEOuFj6CMh/","AudioManager",void 0);var v=n.ccclass,M=n.property;e("AudioManager",(h=v("AudioManager"),m=M(u),f=M(s),p=M(s),h((b=i((g=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return i=e.call.apply(e,[this].concat(a))||this,r(i,"mainBGM",b,o(i)),r(i,"bgmPlayer",A,o(i)),r(i,"effectPlayer",P,o(i)),i}t(i,e);var a=i.prototype;return a.onDestroy=function(){d.remove("switchMainBgm"),d.remove("playOneShot"),d.remove("muteAudio"),d.remove("resumeAudio")},a.onLoad=function(){d.add("switchMainBgm",this.switchMainBgm.bind(this)),d.add("playOneShot",this.playOneShot.bind(this)),d.add("muteAudio",this.muteAudio.bind(this)),d.add("resumeAudio",this.resumeAudio.bind(this)),l.addPersistRootNode(this.node)},a.start=function(){this.switchMainBgm("/audio/music/刀剑如梦")},a.switchMainBgm=function(e){var i=this;this.bgmPlayer.stop(),d.dispatch("loadTheDirResources",e,(function(e){i.bgmPlayer.clip=e,i.bgmPlayer.play()}))},a.playOneShot=function(e){var i=this;d.dispatch("loadTheDirResources","/audio/effect/"+e,(function(e){i.effectPlayer.playOneShot(e)}))},a.muteAudio=function(){this.effectPlayer.mute=!1,this.bgmPlayer.mute=!1},a.resumeAudio=function(){this.effectPlayer.mute=!0,this.bgmPlayer.mute=!0},i}(c)).prototype,"mainBGM",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(g.prototype,"bgmPlayer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(g.prototype,"effectPlayer",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/BlackHole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./EnemySkill.ts"],(function(t){"use strict";var o,e,n,i,a,c,l,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,i=t.CircleCollider2D,a=t.Contact2DType},function(t){c=t.em},function(t){l=t.tagData},function(t){r=t.EnemySkill}],execute:function(){var s;e._RF.push({},"983ef2TfytMIbhvzd5+h4RV","BlackHole",void 0);var h=n.ccclass;n.property,t("BlackHole",h("BlackHole")(s=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this)._touchHero=!1,o._attackInterval=.05,o._gravitationSpeed=100,o}o(e,t);var n=e.prototype;return n.init=function(){this._damage=1,this._skillName="blackHole",this._duration=15,this.initCircleCollider(),this.node.getComponent(i).on(a.END_CONTACT,this.onEndContact,this)},n.onBeginContact=function(t,o){var e=this;console.log("onBeginContact black hole"),o.tag===l.hero&&(this._touchHero=!0,this.scheduleOnce((function(){e.heroInBlackHole(o)}),this._attackInterval),console.log("进入黑洞"))},n.onEndContact=function(t,o){console.log("离开黑洞"),this._touchHero=!1},n.heroInBlackHole=function(t){var o=this;if(console.log("heroInBlackHole"),this._touchHero){var e=this.node.getWorldPosition(),n=c.dispatch("getHeroWorldPos"),i=e.x-n.x,a=e.y-n.y,l=Math.sqrt(i*i+a*a),r=0==i?0:this._attackInterval/(l/this._gravitationSpeed)*i,s=0==a?0:this._attackInterval/(l/this._gravitationSpeed)*a;t.node.parent.setWorldPosition(n.x+r,n.y+s,n.z),c.dispatch("usingHeroControlFun","updateBloodProgress",-this._damage),this.scheduleOnce((function(){o.heroInBlackHole(t)}),this._attackInterval)}},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts","./PoolManager.ts","./Queue.ts","./MonsterData.ts"],(function(t){"use strict";var o,i,e,n,s,r,a,l,c,d,h,u,p,g,f,y,v,m,_,P,x,B,D,b;return{setters:[function(t){o=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.find,r=t.NodePool,a=t.Sprite,l=t.Animation,c=t.BoxCollider2D,d=t.UITransform,h=t.Size,u=t.Contact2DType,p=t.instantiate,g=t.Vec2,f=t.Component},function(t){y=t.em},function(t){v=t.tagData,m=t.groupIndex,_=t.ggd,P=t.attackInterval},function(t){x=t.glf},function(t){B=t.plm},function(t){D=t.Queue},function(t){b=t.monsterData}],execute:function(){var C;e._RF.push({},"ef2f9haQTxL5Jy9QffrqzGj","Boss",void 0);var S=n.ccclass;n.property,t("Boss",S("Boss")(C=function(t){function e(){for(var o,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this)._isTouchHero=!1,o._isTouchFriend1Skill1=!1,o._isTouchSpell=!1,o._normalDamage=99,o._sprite=void 0,o._bloodSprite=void 0,o._bossId=void 0,o._rawSpeed=void 0,o._curSpeed=void 0,o._canMove=!0,o._isInitData=!1,o._maxBlood=0,o._curBlood=0,o._skillData=void 0,o._normalParticlePrefab=void 0,o._sprintTipsPrefab=null,o._sprintDir=null,o._sprintDis=void 0,o._sprintSpeed=void 0,o}o(e,t);var n=e.prototype;return n.initBossInfo=function(t){this._normalParticlePrefab=s("/atom",this.node),B.addPoolToPools("normalParticle",new r,this._normalParticlePrefab),this._sprite=this.node.getChildByName("sprite"),this._bloodSprite=this.node.getChildByName("bloodProgressBg").getChildByName("bloodProgress").getComponent(a),this._bossId=t.id,this._rawSpeed=t.moveSpeed,this._curSpeed=t.moveSpeed,this._canMove=t.canMove,this._maxBlood=t.maxBlood,this._curBlood=t.maxBlood,this._normalDamage=t.normalDamage,this.initBossMoveAnim(t.animKey),this.updateBlood(0),this.initCollider(),this._isInitData=!0},n.initBossMoveAnim=function(t){var o=this;y.dispatch("loadTheDirResources","/anim/enemy/monster/"+t,(function(t){o._sprite.getComponent(l).defaultClip=t,o._sprite.getComponent(l).play()}))},n.initCollider=function(){var t=this._sprite.addComponent(c),o=this._sprite.getComponent(d),i=new h(o.contentSize.x,o.contentSize.y);t.tag=v.boss,t.size=i,t.group=m.enemy,t.on(u.BEGIN_CONTACT,this.onBeginContact,this),t.on(u.END_CONTACT,this.onEndContact,this)},n.onDestroy=function(){console.log("关闭所有回调"),this.unscheduleAllCallbacks()},n.start=function(){this.checkupIsInitData()},n.checkupIsInitData=function(){if(!this._isInitData)throw"未初始化boss信息";console.log("初始化boss信息")},n.update=function(t){_.stopAll||(this.updateSpriteDirection(),this.moveToHero(t))},n.moveToHero=function(t){if(this._canMove){var o=y.dispatch("getHeroWorldPos"),i=this.node.getWorldPosition(),e=o.x-i.x,n=o.y-i.y,s=Math.sqrt(e*e+n*n);if(s>=b.minGapWithHero2){var r=s/this._curSpeed,a=t/r*e,l=t/r*n;this.node.setWorldPosition(i.x+a,i.y+l,0)}}},n.updateSpriteDirection=function(){var t=y.dispatch("getHeroWorldPos").x-this.node.getChildByName("sprite").getWorldPosition().x,o=this.node.getChildByName("sprite").getScale();t>0?this.node.getChildByName("sprite").setScale(-Math.abs(o.x),o.y,o.z):t<0&&this.node.getChildByName("sprite").setScale(Math.abs(o.x),o.y,o.z)},n.accelerateToHero=function(t){var o=this;this.scheduleOnce((function(){o._curSpeed=o._rawSpeed}),t)},n.changeRotationByDir=function(t,o){if(0!=o.x||0!=o.y)if(0!=o.x)if(0!=o.y){var i=Math.sqrt(o.x*o.x+o.y*o.y),e=Math.abs(o.y)/i,n=Math.asin(e)/Math.PI*180;o.y>0?o.x>0?t.angle=180+n:t.angle=360-n:o.x>0?t.angle=180-n:t.angle=n}else o.x>0?t.angle=180:t.angle=0;else o.y>0?t.angle=-90:t.angle=90},n.loadPrefab=function(t,o){void 0===o&&(o=null);y.dispatch("loadTheDirResources","/prefabs/enemy/"+t,(function(t){o&&o(t)}))},n.initSprintData=function(){var t=this;this.loadPrefab("sprintTips",(function(o){t._sprintTipsPrefab=o})),this._sprintSpeed=this._skillData.sprint.speed},n.isToSprintHero=function(t,o,i,e){var n=this;if(void 0===t&&(t=0),void 0===o&&(o=null),void 0===i&&(i=null),void 0===e&&(e=1),this._canMove){var r=y.dispatch("getHeroWorldPos"),a=this.node.getWorldPosition(),c=r.x-a.x,h=r.y-a.y,u=Math.sqrt(c*c+h*h)+t;this._canMove=!1,this._sprintDir=x.getTwoPointFlyDir(r,a),this._sprintDis=u;var g=p(this._sprintTipsPrefab);g.getComponent(l).on("finished",(function(){n.node&&n.startSprint(g,o,i,e)})),g.getComponent(d).setContentSize(u,this.node.getChildByName("sprite").getComponent(d).width-20),this.changeRotationByDir(g,this._sprintDir),g.parent=s("Canvas/bulletLayer");var f=this.node.getWorldPosition();g.setWorldPosition(f)}},n.startSprint=function(t,o,i,e){var n=this;void 0===o&&(o=null),void 0===i&&(i=null);var s=1/60,r=this._sprintSpeed*s;i&&(i(),this.schedule(i,e)),this.schedule((function e(){var s=n.node.getWorldPosition();n.node.setWorldPosition(s.x+r*n._sprintDir.x,s.y+r*n._sprintDir.y,0),n._sprintDis-=r,n._sprintDis<=0&&(n._sprintDis=0,n.unschedule(e),i&&n.unschedule(i),n._canMove=!0,t.destroy(),o&&o())}),s)},n.onBeginContact=function(t,o){if(!_.stopAll)switch(o.tag){case v.hero:this._isTouchHero=!0,this.bossAttackHeroByCollider(t,o);break;case v.friend1Skill1:this._isTouchFriend1Skill1=!0,this.friendAttackBossByFriend1Skill1(t,o);break;case v.darts:this.heroAttackBossByDarts()}},n.onEndContact=function(t,o){switch(o.tag){case v.hero:this._isTouchHero=!1;break;case v.spell:this._isTouchSpell=!1;break;case v.friend1Skill1:this._isTouchFriend1Skill1=!1}},n.bossAttackHeroByCollider=function(t,o){var i=this;if(!_.stopAll&&this._isTouchHero){var e=this._normalDamage;y.dispatch("usingHeroControlFun","createBossDamageTex",-e);this.scheduleOnce((function(){i.bossAttackHeroByCollider(t,o)}),1)}},n.friendAttackBossByFriend1Skill1=function(t,o){var i=this;if(!_.stopAll&&this._isTouchFriend1Skill1){y.dispatch("createDamageTex",t.node,5,{x:0,y:20}),this.updateBlood(-5,!1),this.collectToTarget(t,o),this.scheduleOnce((function(){i.friendAttackBossByFriend1Skill1(t,o)}),P.f1s1)}},n.heroAttackBossByDarts=function(){console.log("boss被飞镖攻击 还没写")},n.updateBlood=function(t,o){void 0===o&&(o=!1),this._curBlood+=t,this._curBlood<=0?(this.unscheduleAllCallbacks(),this.node.destroy(),_.stopAll=!0,y.dispatch("passStage")):o&&this.bossIsRepelled(),this._curBlood>this._maxBlood&&(this._curBlood=this._maxBlood),this._bloodSprite.fillRange=this._curBlood/this._maxBlood},n.getBloodPercentage=function(){return this._curBlood/this._maxBlood},n.bossIsRepelled=function(){var t=y.dispatch("getHeroWorldPos"),o=this.node.getWorldPosition();o.subtract3f(t.x,t.y,t.z).normalize();var i=this.node.getPosition();this.node.setPosition(i.x+20*o.x,i.y+20*o.y,0)},n.collectToTarget=function(t,o){if(o){var i=o.node.getWorldPosition(),e=t.node.getWorldPosition();i.subtract3f(e.x,e.y,e.z).normalize();var n=this.node.getPosition();this.node.setPosition(n.x+20*i.x,n.y+20*i.y,0)}},n.getDistanceToHero=function(){var t=y.dispatch("getHeroWorldPos"),o=this.node.getWorldPosition(),i=t.x-o.x,e=t.y-o.y;return Math.sqrt(i*i+e*e)},n.pauseAnim=function(){this._sprite.getComponent(l).pause()},n.resumeAnim=function(){this._sprite.getComponent(l).resume()},n.getDirToHero=function(){var t=this.node.getWorldPosition(),o=y.dispatch("getHeroWorldPos"),i={x:0,y:0},e={x:o.x-t.x,y:o.y-t.y};if(0==e.x)i.x=0,i.y=Math.abs(e.y)/e.y;else if(0==e.y)i.x=Math.abs(e.x)/e.x,i.y=0;else{var n=Math.abs(e.x/e.y);n>=1?(i.x=Math.abs(e.x)/e.x,i.y=1/n*Math.abs(e.y)/e.y):(i.x=n*Math.abs(e.x)/e.x,i.y=Math.abs(e.y)/e.y)}return new g(i.x,i.y)},n.usingNormalParticleOneShot=function(t){if(void 0===t&&(t=1),!_.stopAll){var o=B.getFromPool("normalParticle"),i=this.getDirToHero();o.parent=s("Canvas/bulletLayer");var e=this.node.getWorldPosition();o.active=!0,o.setWorldPosition(e),o.getComponent("EnemySkill").init(this._skillData.normalParticle,i,t)}},n.usingNormalParticleTriShot=function(t,o){if(void 0===o&&(o=1),!_.stopAll)for(var e,n=i(t);!(e=n()).done;){var r=e.value,a=B.getFromPool("normalParticle"),l=this.getDirToHero();a.parent=s("Canvas/bulletLayer");var c=this.node.getWorldPosition();a.active=!0,a.setWorldPosition(c.x+r[0],c.y+r[1],c.z),a.getComponent("EnemySkill").init(this._skillData.normalParticle,l,o)}},n.usingNormalParticleTriangle=function(t){var o=this;void 0===t&&(t=1);for(var e=x.getTriangleRow(5),n=new D,r=e.length-1;r>=0;r--){for(var a=e[r],l=[],c=0;c<a.length;c++){var d=a[c],h=B.getFromPool("normalParticle");h.active=!0,h.setPosition(0,0,0),h.initPos=d,l.push(h)}n.enqueue(l)}this.schedule((function e(){if(!_.stopAll){var r=n.dequeue();if(r)for(var a,l=s("Canvas/bulletLayer"),c=i(r);!(a=c()).done;){var d=a.value;d.parent=l;var h=o.getDirToHero(),u=o.node.getWorldPosition();u.x+=d.initPos[0],u.y+=d.initPos[1],d.setWorldPosition(u),d.getComponent("EnemySkill").init(o._skillData.normalParticle,h,t)}else o.unschedule(e)}}),.2)},n.usingNormalParticleCircle=function(t,o,i){void 0===i&&(i=1);for(var e=x.getCirclePos(o,t),n=0;n<t;n++){var r=B.getFromPool("normalParticle");r.active=!0,r.setPosition(0,0,0);var a=s("Canvas/bulletLayer");r.parent=a;var l=e[n],c={x:l[0]/o,y:l[1]/o},d=new g(c.x,c.y),h=this.node.getWorldPosition();h.x+=l[0],h.y+=l[1],r.setWorldPosition(h),r.getComponent("EnemySkill").init(this._skillData.normalParticle,d,i)}},n.usingNormalParticleWithDoubleDir=function(t){if(console.log("向指定方向两端发射子弹"),!_.stopAll)for(var o,e=this.getVerticalDirToCurDir(t),n=i(e);!(o=n()).done;){var r=o.value,a=B.getFromPool("normalParticle");a.parent=s("Canvas/bulletLayer");var l=this.node.getWorldPosition();a.active=!0,a.setWorldPosition(l),a.getComponent("EnemySkill").init(this._skillData.normalParticle,r,.2)}},n.getVerticalDirToCurDir=function(t){return Math.abs(t.x/t.y)>1?[{x:t.y/t.x,y:-1},{x:-t.y/t.x,y:1}]:[{x:1,y:-t.x/t.y},{x:-1,y:t.x/t.y}]},e}(f))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"55df5YVGEBKA7c1Lpw5SE8w","Boss1",void 0);var i=n.ccclass;n.property,t("Boss1",i("Boss1")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:200,duration:3,moveSpeed:500,canAttackTimes:1},sprint:{speed:600}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){this.initSprintData();var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",1);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.isToSprintHero(200)}),3)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss10.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts","./Queue.ts","./Boss5.ts"],(function(e){"use strict";var t,s,o,n,i,r,l,a,u,c;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy,o=e._decorator,n=e.NodePool,i=e.find},function(e){r=e.em},function(e){l=e.ggd},function(e){a=e.plm},function(e){u=e.Queue},function(e){c=e.Boss5}],execute:function(){var h;s._RF.push({},"38559Ai7QdNXJgmM17rYiRi","Boss10",void 0);var d=o.ccclass;o.property,e("Boss10",d("Boss10")(h=function(e){function s(){for(var t,s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this)._skillData={1:299,2:600,3:1500,4:5e3},t}t(s,e);var o=s.prototype;return o.onLoad=function(){var e=r.dispatch("usingHeroBasePropertyFun","getBossDataById",10);e.canMove=!0,this._skillData[4]=e.normalDamage,a.addPoolToPools("greenThunder",new n,this.skillPrefab),this.initBossInfo(e),this.setBossStrategy()},o.setBossStrategy=function(){this.usingSkillGreenThunderAllTheTime(2),this.schedule(this.isUsingSkillPhotosynthesis,1),this.schedule(this.isAccelerateToHero,1),this.schedule(this.usingSkillCollectionGT,10)},o.usingSkillCollectionGT=function(){var e=this;if(!l.stopAll){var t=20;if(t<=0)throw new Error("error");for(var s=new u;t>0;){var o=a.getFromPool("greenThunder");s.enqueue(o),t--}this.schedule((function t(){if(!l.stopAll){var o=s.dequeue();if(o){o.getComponent("EnemySkill").init(e._skillData[1]);var n=r.dispatch("getHeroWorldPos");o.parent=i("Canvas/bulletLayer"),o.setWorldPosition(n.x,n.y+100,n.y)}else e.unschedule(t)}}),.3)}},s}(c))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss11.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"180b7Nc7T1I9JXlisKm21qb","Boss11",void 0);var i=a.ccclass;a.property,t("Boss11",i("Boss11")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:15e3,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",11);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){this.schedule(this.usingNormalParticleOneShot,1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss12.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,a,e,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;a._RF.push({},"896aakOwKlLHbKzbupToWnx","Boss12",void 0);var i=e.ccclass;e.property,t("Boss12",i("Boss12")(r=function(t){function a(){for(var s,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:2e4,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(a,t);var e=a.prototype;return e.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",12);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},e.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.5)}),1)},a}(n))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss13.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"5acb4oN5C5H8posdW1ncq4o","Boss13",void 0);var i=a.ccclass;a.property,t("Boss13",i("Boss13")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:25e3,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",13);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule(this.usingNormalParticleOneShot,1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss14.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"8c732Oeg6hHQ74LOj8F3GGK","Boss14",void 0);var i=a.ccclass;a.property,t("Boss14",i("Boss14")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:5e4,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",14);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss15.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PoolManager.ts","./Boss.ts"],(function(e){"use strict";var a,t,o,s,r,i,n,l,c;return{setters:[function(e){a=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,s=e.find,r=e.NodePool,i=e.instantiate},function(e){n=e.em},function(e){l=e.plm},function(e){c=e.Boss}],execute:function(){var u;t._RF.push({},"b6663v4MkRCBoa0Uv+wET6C","Boss15",void 0);var d=o.ccclass;o.property,e("Boss15",d("Boss15")(u=function(e){function t(){for(var a,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(a=e.call.apply(e,[this].concat(o))||this)._skillData={normalParticle:{name:"normalParticle",damage:9999,duration:3,moveSpeed:500,canAttackTimes:1},maxMS:800},a._darkMaskPrefab=void 0,a._blackHolePrefab=void 0,a}a(t,e);var o=t.prototype;return o.onLoad=function(){var e=n.dispatch("usingHeroBasePropertyFun","getBossDataById",15);e.canMove=!0,this._skillData.normalParticle.damage=e.normalDamage,this.initBossInfo(e),this._darkMaskPrefab=s("/darkMask",this.node),this._blackHolePrefab=s("/blackHole",this.node),l.addPoolToPools("blackHole",new r,this._blackHolePrefab),this.setBossStrategy()},o.setBossStrategy=function(){var e=this;this.schedule((function(){e.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){e.usingNormalParticleTriangle(.5)}),3)},o.usingDarkMask=function(){var e=i(this._darkMaskPrefab),a=n.dispatch("getHeroWorldPos");e.parent=s("Canvas/bulletLayer"),e.setWorldPosition(a.x,a.y,a.y),e.getComponent("DarkMask").init(),e.active=!0},o.usingBlackHole=function(){var e=l.getFromPool("blackHole"),a=n.dispatch("getHeroWorldPos");e.parent=s("Canvas/bulletLayer"),e.setWorldPosition(a.x,a.y,a.y),e.getComponent("BlackHole").init(),e.active=!0},o.isAccelerateToHero=function(){var e=this.getDistanceToHero();if(e>2e3){this._curSpeed=this._skillData.maxMS;var a=e/this._curSpeed;this.accelerateToHero(a)}},t}(c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/Boss16.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,o,a;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.em},function(t){a=t.Boss}],execute:function(){var r;e._RF.push({},"ed3a1o2EntN4IhKNxNxU2U/","Boss16",void 0);var i=n.ccclass;n.property,t("Boss16",i("Boss16")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:1e5,duration:3,moveSpeed:590,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",16);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss17.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"2536aJ15lBCmK8HflT+g/Y+","Boss17",void 0);var i=a.ccclass;a.property,t("Boss17",i("Boss17")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:15e4,duration:3,moveSpeed:550,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",17);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.5)}),3)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss18.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"f004avsNCJPFLB6jBzDV8yP","Boss18",void 0);var i=a.ccclass;a.property,t("Boss18",i("Boss18")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",18);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss19.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var e,s,a,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;s._RF.push({},"e3bf4iMRCBDgb90iQaGJqcm","Boss19",void 0);var i=a.ccclass;a.property,t("Boss19",i("Boss19")(r=function(t){function s(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:3e5,duration:3,moveSpeed:600,canAttackTimes:1}},e}e(s,t);var a=s.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",19);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},s}(o))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,a,e,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;a._RF.push({},"fc542EMUyJKIKaAkFryf1yq","Boss2",void 0);var i=e.ccclass;e.property,t("Boss2",i("Boss2")(r=function(t){function a(){for(var s,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:200,duration:3,moveSpeed:300,canAttackTimes:1}},s}s(a,t);var e=a.prototype;return e.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",2);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},e.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.4)}),1)},a}(n))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss20.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PoolManager.ts","./Boss15.ts"],(function(o){"use strict";var t,a,e,s,n,r,i,c;return{setters:[function(o){t=o.inheritsLoose},function(o){a=o.cclegacy,e=o._decorator,s=o.find,n=o.NodePool},function(o){r=o.em},function(o){i=o.plm},function(o){c=o.Boss15}],execute:function(){var l;a._RF.push({},"c4f9cQ1j5tAZrp9+Xp6yWpD","Boss20",void 0);var u=e.ccclass;e.property,o("Boss20",u("Boss20")(l=function(o){function a(){for(var t,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return(t=o.call.apply(o,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:22222,duration:4,moveSpeed:600,canAttackTimes:1},maxMS:1e3},t}return t(a,o),a.prototype.onLoad=function(){var o=r.dispatch("usingHeroBasePropertyFun","getBossDataById",20);o.canMove=!0,this._skillData.normalParticle.damage=o.normalDamage,this.initBossInfo(o),this._darkMaskPrefab=s("/darkMask",this.node),this._blackHolePrefab=s("/blackHole",this.node),i.addPoolToPools("blackHole",new n,this._blackHolePrefab),this.setBossStrategy()},a}(c))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss21.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"c6cb6PT7vpNGaFdQqCI0q/i","Boss21",void 0);var i=a.ccclass;a.property,t("Boss21",i("Boss21")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:5e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",21);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){this.schedule(this.usingNormalParticleOneShot,1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss22.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,a,e,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;a._RF.push({},"0cd64m8fg9BnLwiAW4MKZGK","Boss22",void 0);var i=e.ccclass;e.property,t("Boss22",i("Boss22")(r=function(t){function a(){for(var s,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:1121250,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(a,t);var e=a.prototype;return e.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",22);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},e.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.5)}),1)},a}(n))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss23.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"8c5dbh9/jdESZlSC1u0kBwG","Boss23",void 0);var i=a.ccclass;a.property,t("Boss23",i("Boss23")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1552500,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",23);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule(this.usingNormalParticleOneShot,1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss24.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,o,a,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"f8c64oT3bRKqZ58vFJtwlXZ","Boss24",void 0);var i=o.ccclass;o.property,t("Boss24",i("Boss24")(r=function(t){function e(){for(var s,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(s=t.call.apply(t,[this].concat(o))||this)._skillData={normalParticle:{name:"normalParticle",damage:1983750,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var o=e.prototype;return o.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",24);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},o.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss25.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"46d6cq/HJdK9IceKDBVqZJu","Boss25",void 0);var i=a.ccclass;a.property,t("Boss25",i("Boss25")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2415e3,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",25);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss26.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"0d2dfCet0VETa4w/FELU1aX","Boss26",void 0);var i=a.ccclass;a.property,t("Boss26",i("Boss26")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2846250,duration:3,moveSpeed:590,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",26);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss27.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,o,a;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.em},function(t){a=t.Boss}],execute:function(){var r;e._RF.push({},"d1398nBJDpGl7kLmR9bJiJ0","Boss27",void 0);var i=n.ccclass;n.property,t("Boss27",i("Boss27")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:3277500,duration:3,moveSpeed:550,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",27);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.5)}),3)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss28.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,o,a,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"e691coR7i9E3Zyx9b8iBlYf","Boss28",void 0);var i=o.ccclass;o.property,t("Boss28",i("Boss28")(r=function(t){function e(){for(var s,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(s=t.call.apply(t,[this].concat(o))||this)._skillData={normalParticle:{name:"normalParticle",damage:3708750,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var o=e.prototype;return o.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",28);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},o.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss29.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"eb391p2cnJH8pYHsxvZgjGa","Boss29",void 0);var i=n.ccclass;n.property,t("Boss29",i("Boss29")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:414e4,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",29);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,n,e,o,a;return{setters:[function(t){s=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){o=t.em},function(t){a=t.Boss}],execute:function(){var r;n._RF.push({},"d4074HDy7FNZLf5gXEgQD5h","Boss3",void 0);var i=e.ccclass;e.property,t("Boss3",i("Boss3")(r=function(t){function n(){for(var s,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:300,duration:3,moveSpeed:250,canAttackTimes:1},sprint:{speed:500}},s}s(n,t);var e=n.prototype;return e.onLoad=function(){this.initSprintData();var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",3);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},e.setBossStrategy=function(){var t=this;this.schedule((function(){t.isToSprintHero(0,(function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.4)}))}),7)},n}(a))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Boss30.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"29888jVvKZN86MjCSG56jNm","Boss30",void 0);var i=n.ccclass;n.property,t("Boss30",i("Boss30")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:4571250,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",30);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss31.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"6eee5jaZ7pGPIMJsqG85bFz","Boss31",void 0);var i=a.ccclass;a.property,t("Boss31",i("Boss31")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:5002500,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",31);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){this.schedule(this.usingNormalParticleOneShot,1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss32.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,r;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){r=t.Boss}],execute:function(){var n;e._RF.push({},"82246zHCfhBNrNurVb5WPev","Boss32",void 0);var i=a.ccclass;a.property,t("Boss32",i("Boss32")(n=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:5433750,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",32);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.5)}),1)},e}(r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss33.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"e061bJJJN1FC52i+nDkX+R4","Boss33",void 0);var i=a.ccclass;a.property,t("Boss33",i("Boss33")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:5865e3,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",33);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule(this.usingNormalParticleOneShot,1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss34.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"e81ccbDWc1KcLd3tUE0di9G","Boss34",void 0);var i=a.ccclass;a.property,t("Boss34",i("Boss34")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:6296250,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",34);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss35.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"edf1f2Mt5hHfKuYLCU95HCS","Boss35",void 0);var i=a.ccclass;a.property,t("Boss35",i("Boss35")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:6727500,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",35);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss36.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,o,a;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.em},function(t){a=t.Boss}],execute:function(){var r;e._RF.push({},"bb30fYTzmdBcr0E2KOxuTq5","Boss36",void 0);var i=n.ccclass;n.property,t("Boss36",i("Boss36")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:7158750,duration:3,moveSpeed:590,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",36);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss37.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"7bb6b/TCclM7aBbiekDZy1a","Boss37",void 0);var i=a.ccclass;a.property,t("Boss37",i("Boss37")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:8158750,duration:3,moveSpeed:550,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",37);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.5)}),3)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss38.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"055a11qjEVCO5aAQPScAJ30","Boss38",void 0);var i=a.ccclass;a.property,t("Boss38",i("Boss38")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:9158750,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",38);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss39.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"ab2601Ugg9ETJo8ifWIKYWt","Boss39",void 0);var i=a.ccclass;a.property,t("Boss39",i("Boss39")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:10158750,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",39);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,i;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){i=t.Boss}],execute:function(){var o;e._RF.push({},"e8fabmGkGRPNJ7BL7zkvOWx","Boss4",void 0);var r=n.ccclass;n.property,t("Boss4",r("Boss4")(o=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:600,duration:3,moveSpeed:400,canAttackTimes:1},sprint:{speed:500}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){this.initSprintData();var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",4);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),10),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.isToSprintHero(0,(function(){t.usingNormalParticleCircle(20,100,.5)}))}),7)},e}(i))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss40.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"ead3at/OO9PAbDAsRyG4sxI","Boss40",void 0);var i=a.ccclass;a.property,t("Boss40",i("Boss40")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:12158750,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",40);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss41.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"58a60a2sq1GvIVLuy9fJfYu","Boss41",void 0);var i=a.ccclass;a.property,t("Boss41",i("Boss41")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:14e6,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",41);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){this.schedule(this.usingNormalParticleOneShot,1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss42.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,a,e,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;a._RF.push({},"9da67ASZMxPaafWwKlt+T8e","Boss42",void 0);var i=e.ccclass;e.property,t("Boss42",i("Boss42")(r=function(t){function a(){for(var s,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:212e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(a,t);var e=a.prototype;return e.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",42);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},e.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.5)}),1)},a}(n))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss43.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"8dccbh6xrdCsYQ/mJW1FSQm","Boss43",void 0);var i=a.ccclass;a.property,t("Boss43",i("Boss43")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:284e6,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",43);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule(this.usingNormalParticleOneShot,1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss44.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"dcc57+wOSZJqLwluJl+GTRz","Boss44",void 0);var i=a.ccclass;a.property,t("Boss44",i("Boss44")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:356e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",44);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss45.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"2befavIa3JIJ5DWnq0u2dEX","Boss45",void 0);var i=a.ccclass;a.property,t("Boss45",i("Boss45")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:428e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",45);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss46.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"35c6ekZSyFOyaQMGQ3DAbfE","Boss46",void 0);var i=a.ccclass;a.property,t("Boss46",i("Boss46")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:5e7,duration:3,moveSpeed:590,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",46);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss47.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,o,a,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"0d3d0u+BFxEkqaxQouZjYUq","Boss47",void 0);var i=o.ccclass;o.property,t("Boss47",i("Boss47")(r=function(t){function e(){for(var s,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(s=t.call.apply(t,[this].concat(o))||this)._skillData={normalParticle:{name:"normalParticle",damage:572e6,duration:3,moveSpeed:550,canAttackTimes:1}},s}s(e,t);var o=e.prototype;return o.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",47);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},o.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.5)}),3)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss48.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"50dc3cl/RFENLgE6RMFTVGB","Boss48",void 0);var i=a.ccclass;a.property,t("Boss48",i("Boss48")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:644e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",48);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss49.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"99a76fLMotG5r8SFz5VidvH","Boss49",void 0);var i=a.ccclass;a.property,t("Boss49",i("Boss49")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:716e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",49);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts","./Boss.ts"],(function(e){"use strict";var t,s,i,o,n,a,l,r,h,c,u,d,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Prefab,r=e.NodePool,h=e.find,c=e.Animation},function(e){u=e.em},function(e){d=e.ggd},function(e){g=e.plm},function(e){y=e.Boss}],execute:function(){var p,f,m,P,v;n._RF.push({},"128f5xC/PJCIZMOXP3duFW3","Boss5",void 0);var k=a.ccclass,T=a.property;e("Boss5",(p=k("Boss5"),f=T(l),p((v=t((P=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(t,"skillPrefab",v,o(t)),t._skillData={1:15,2:300,3:500,4:50,normalParticle:{name:"normalParticle",damage:200,duration:3,moveSpeed:300,canAttackTimes:1}},t._photosynthesisTimes=2,t}s(t,e);var n=t.prototype;return n.onLoad=function(){var e=u.dispatch("usingHeroBasePropertyFun","getBossDataById",5);e.canMove=!0,this._skillData[4]=e.normalDamage,this._skillData.normalParticle.damage=e.normalDamage,g.addPoolToPools("greenThunder",new r,this.skillPrefab),this.initBossInfo(e),this.setBossStrategy()},n.usingSkillGreenThunder=function(){var e=g.getFromPool("greenThunder");e.getComponent("GreenThunder").init(this._skillData[1]);var t=u.dispatch("getHeroWorldPos");e.parent=h("Canvas/bulletLayer"),e.setWorldPosition(t.x,t.y+100,t.y)},n.usingSkillPhotosynthesis=function(e){var t=this;console.log("开启光合作用"),this._photosynthesisTimes--,this._photosynthesisTimes<0||(this.node.getChildByName("photosynthesis").active=!0,this.unschedule(this.recoveryHealthy),this.schedule(this.recoveryHealthy,1,e),this.scheduleOnce((function(){t.node.getChildByName("photosynthesis").active=!1}),e))},n.recoveryHealthy=function(){this.updateBlood(this._skillData[3])},n.bossAttackHeroByCollider=function(e,t){var s=this;if(!d.stopAll&&this._isTouchHero){u.dispatch("usingHeroControlFun","createBossDamageTex",-this._skillData[4]),this.usingNormalAttack();this.scheduleOnce((function(){s.bossAttackHeroByCollider(e,t)}),2)}},n.usingNormalAttack=function(){this._curSpeed=this._rawSpeed;var e=u.dispatch("getHeroWorldPos"),t=this.node.getWorldPosition(),s=e.x-t.x,i=e.y-t.y,o=0,n={x:50,y:0},a=1;Math.abs(s)>Math.abs(i)?s<0&&(o=180,n.x=-50,a=-1):i>0?(o=90,n.x=0,n.y=50):(o=270,n.x=0,n.y=-50);var l=this.node.getChildByName("attack");l.angle=o,l.setPosition(n.x,n.y),l.setScale(1,a),l.getComponent(c).play()},n.usingSkillGreenThunderAllTheTime=function(e){var t=this;this.schedule((function(){t.usingSkillGreenThunder()}),e)},n.setBossStrategy=function(){var e=this;this.schedule((function(){e.usingNormalParticleOneShot(.4)}),1),this.usingSkillGreenThunderAllTheTime(5),this.schedule(this.isUsingSkillPhotosynthesis,1),this.schedule(this.isAccelerateToHero,1)},n.isUsingSkillPhotosynthesis=function(){var e=this;this.getBloodPercentage()<.33&&(this.usingSkillPhotosynthesis(15),this.unschedule(this.isUsingSkillPhotosynthesis),this.scheduleOnce((function(){e.schedule(e.isUsingSkillPhotosynthesis,1)}),30))},n.isAccelerateToHero=function(){var e=this.getDistanceToHero();if(e>2e3){this._curSpeed=this._skillData[2];var t=e/this._curSpeed;this.accelerateToHero(t)}},t}(y)).prototype,"skillPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/Boss50.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,r;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){r=t.Boss}],execute:function(){var o;e._RF.push({},"796b8tGNr1JPpP2+Ph+rjmr","Boss50",void 0);var i=n.ccclass;n.property,t("Boss50",i("Boss50")(o=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:788e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",50);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(r))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss51.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"c24d60R10dJIIUgV5x+RjvI","Boss51",void 0);var i=a.ccclass;a.property,t("Boss51",i("Boss51")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:86e6,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",51);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){this.schedule(this.usingNormalParticleOneShot,1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss52.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,r;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){r=t.Boss}],execute:function(){var n;e._RF.push({},"4fe97l48rNBYoAri07VZ+ab","Boss52",void 0);var i=a.ccclass;a.property,t("Boss52",i("Boss52")(n=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:932e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",52);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.5)}),1)},e}(r))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss53.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"7f2deP2jUxBDKdbvFbC25DD","Boss53",void 0);var i=a.ccclass;a.property,t("Boss53",i("Boss53")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1004e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",53);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule(this.usingNormalParticleOneShot,1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss54.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"c326acxK1BJHIL2vk/t4jcQ","Boss54",void 0);var i=a.ccclass;a.property,t("Boss54",i("Boss54")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1076e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",54);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss55.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"637cc1br9VDeZzzaXkQS9pl","Boss55",void 0);var i=a.ccclass;a.property,t("Boss55",i("Boss55")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1148e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",55);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss56.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var e,s,a,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;s._RF.push({},"649eebPk9FLkbHIY17wa4NI","Boss56",void 0);var i=a.ccclass;a.property,t("Boss56",i("Boss56")(r=function(t){function s(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:122e6,duration:3,moveSpeed:590,canAttackTimes:1}},e}e(s,t);var a=s.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",56);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2)},s}(o))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss57.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"14a47h3daNB5LGYVG17qqnS","Boss57",void 0);var i=a.ccclass;a.property,t("Boss57",i("Boss57")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1292e5,duration:3,moveSpeed:550,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",57);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.5)}),3)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss58.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"562bd2Vr91BD5P2DKb7axf+","Boss58",void 0);var i=a.ccclass;a.property,t("Boss58",i("Boss58")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1364e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",58);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss59.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"4a34bh4XTtJl6dYGc/ssPjd","Boss59",void 0);var i=a.ccclass;a.property,t("Boss59",i("Boss59")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1436e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",59);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts","./Boss.ts"],(function(t){"use strict";var o,s,n,e,i,a,r;return{setters:[function(t){o=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator},function(t){e=t.em},function(t){i=t.ggd},function(t){a=t.glf},function(t){r=t.Boss}],execute:function(){var c;s._RF.push({},"cbd17JYL5tLZ7+85xQyo6UB","Boss6",void 0);var l=n.ccclass;n.property,t("Boss6",l("Boss6")(c=function(t){function s(){for(var o,s=arguments.length,n=new Array(s),e=0;e<s;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:1e3,duration:3,moveSpeed:800,canAttackTimes:1},sprint:{speed:500}},o}o(s,t);var n=s.prototype;return n.onLoad=function(){this.initSprintData();var t=e.dispatch("usingHeroBasePropertyFun","getBossDataById",6);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.2)}),8),this.schedule((function(){t.usingNormalParticleOneShot(.2)}),1),this.schedule((function(){if(!i.stopAll){var o=e.dispatch("getHeroWorldPos"),s=t.node.getWorldPosition();a.towPointDisGreaterThanValue(o,s,300)&&t.isToSprintHero(200,null,(function(){t.usingNormalParticleWithDoubleDir(t._sprintDir)}),.5)}}),3)},s}(r))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss60.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"8c5b4lmP+dAIbgnCFiu9IIq","Boss60",void 0);var i=n.ccclass;n.property,t("Boss60",i("Boss60")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:1508e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",60);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss61.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"54c590T8ftOiIt+g55YPXqR","Boss61",void 0);var i=a.ccclass;a.property,t("Boss61",i("Boss61")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:158e6,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",61);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){this.schedule(this.usingNormalParticleOneShot,1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss62.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,a,e,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;a._RF.push({},"a4934SpCyFMDqw6Qty3Frs9","Boss62",void 0);var i=e.ccclass;e.property,t("Boss62",i("Boss62")(r=function(t){function a(){for(var s,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:1652e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(a,t);var e=a.prototype;return e.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",62);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},e.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.5)}),1)},a}(n))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss63.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"b7292Pq0chCmrFxN8LX7ydP","Boss63",void 0);var i=a.ccclass;a.property,t("Boss63",i("Boss63")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1724e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",63);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule(this.usingNormalParticleOneShot,1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss64.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,o,a,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"bd08eUiGI9C873PoNWvPRlR","Boss64",void 0);var i=o.ccclass;o.property,t("Boss64",i("Boss64")(r=function(t){function e(){for(var s,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(s=t.call.apply(t,[this].concat(o))||this)._skillData={normalParticle:{name:"normalParticle",damage:1796e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var o=e.prototype;return o.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",64);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},o.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss65.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"84c1eRwyN1AU4aO44DVq/QM","Boss65",void 0);var i=a.ccclass;a.property,t("Boss65",i("Boss65")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1868e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",65);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss66.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,o,a,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"66828GjwTROXaoEzW5+NWGK","Boss66",void 0);var i=o.ccclass;o.property,t("Boss66",i("Boss66")(r=function(t){function e(){for(var s,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(s=t.call.apply(t,[this].concat(o))||this)._skillData={normalParticle:{name:"normalParticle",damage:194e6,duration:3,moveSpeed:590,canAttackTimes:1}},s}s(e,t);var o=e.prototype;return o.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",66);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},o.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss67.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"9a048Yj6kxBra+0IIBw8WyA","Boss67",void 0);var i=a.ccclass;a.property,t("Boss67",i("Boss67")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2012e5,duration:3,moveSpeed:550,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",67);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.5)}),3)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss68.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"a20ceG6T0FCFLrzQuv3q4xQ","Boss68",void 0);var i=a.ccclass;a.property,t("Boss68",i("Boss68")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2084e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",68);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss69.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var e,s,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;s._RF.push({},"866c009TDNIy7wdn+WoE25e","Boss69",void 0);var i=n.ccclass;n.property,t("Boss69",i("Boss69")(r=function(t){function s(){for(var e,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:2156e5,duration:3,moveSpeed:600,canAttackTimes:1}},e}e(s,t);var n=s.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",69);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},s}(o))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"62da8uVCTtGqIWCk1C5JA5+","Boss7",void 0);var i=a.ccclass;a.property,t("Boss7",i("Boss7")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:1500,duration:3,moveSpeed:400,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",7);t.canMove=!1,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.2)}),.8),this.schedule((function(){t.usingNormalParticleCircle(20,100,.2)}),3)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss70.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var e,s,n,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;s._RF.push({},"c80c3q7kt1KG5Vt3ye50fCf","Boss70",void 0);var i=n.ccclass;n.property,t("Boss70",i("Boss70")(r=function(t){function s(){for(var e,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:2228e5,duration:3,moveSpeed:600,canAttackTimes:1}},e}e(s,t);var n=s.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",70);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},s}(o))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss71.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"e0725ruwOFDgpsZiY45jkUa","Boss71",void 0);var i=a.ccclass;a.property,t("Boss71",i("Boss71")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:23e7,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",71);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){this.schedule(this.usingNormalParticleOneShot,1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss72.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,a,e,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;a._RF.push({},"cab9ahCnZBCtqDVB736+gor","Boss72",void 0);var i=e.ccclass;e.property,t("Boss72",i("Boss72")(r=function(t){function a(){for(var s,a=arguments.length,e=new Array(a),o=0;o<a;o++)e[o]=arguments[o];return(s=t.call.apply(t,[this].concat(e))||this)._skillData={normalParticle:{name:"normalParticle",damage:2372e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(a,t);var e=a.prototype;return e.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",72);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},e.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-160,0],[160,0]],.5)}),1)},a}(n))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/Boss73.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"e80ddsg8t9D07+Vd0o5Hnwd","Boss73",void 0);var i=a.ccclass;a.property,t("Boss73",i("Boss73")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2444e5,duration:3,moveSpeed:500,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",73);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule(this.usingNormalParticleOneShot,1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss74.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"77d1dduzFxAUr7nLKYIxhnx","Boss74",void 0);var i=n.ccclass;n.property,t("Boss74",i("Boss74")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:1796e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",74);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss75.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,o,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"21c4fa6DeBFNo2m5vCjXib6","Boss75",void 0);var i=a.ccclass;a.property,t("Boss75",i("Boss75")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2516e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",75);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleCircle(20,100,.5)}),4),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss76.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,a,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"e55a5u9uIpJ9q9WWpuV0Tng","Boss76",void 0);var i=n.ccclass;n.property,t("Boss76",i("Boss76")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:2588e5,duration:3,moveSpeed:590,canAttackTimes:1}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",76);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2),this.schedule((function(){t.usingNormalParticleOneShot(.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss77.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,o,a,n;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){a=t.em},function(t){n=t.Boss}],execute:function(){var r;e._RF.push({},"23dbbAiHO1G1p+KQX9Cm3q9","Boss77",void 0);var i=o.ccclass;o.property,t("Boss77",i("Boss77")(r=function(t){function e(){for(var s,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(s=t.call.apply(t,[this].concat(o))||this)._skillData={normalParticle:{name:"normalParticle",damage:266e6,duration:3,moveSpeed:550,canAttackTimes:1}},s}s(e,t);var o=e.prototype;return o.onLoad=function(){var t=a.dispatch("usingHeroBasePropertyFun","getBossDataById",77);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},o.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleTriShot([[0,0],[-180,0],[180,0]],.5)}),3)},e}(n))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss78.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,a,n,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;e._RF.push({},"de06fNfubdAELD1H6688mKU","Boss78",void 0);var i=a.ccclass;a.property,t("Boss78",i("Boss78")(r=function(t){function e(){for(var s,e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return(s=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2732e5,duration:3,moveSpeed:600,canAttackTimes:1}},s}s(e,t);var a=e.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",78);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss79.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var e,s,a,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;s._RF.push({},"e5c36XXIUZGmafPYKuYSoM8","Boss79",void 0);var i=a.ccclass;a.property,t("Boss79",i("Boss79")(r=function(t){function s(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2804e5,duration:3,moveSpeed:600,canAttackTimes:1}},e}e(s,t);var a=s.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",79);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},s}(o))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss8.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var s,e,n,o,a;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.em},function(t){a=t.Boss}],execute:function(){var r;e._RF.push({},"81043f3uMdLQ7Opin62L0cv","Boss8",void 0);var i=n.ccclass;n.property,t("Boss8",i("Boss8")(r=function(t){function e(){for(var s,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(s=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:2500,duration:3,moveSpeed:400,canAttackTimes:1,effects:["slow"]}},s}s(e,t);var n=e.prototype;return n.onLoad=function(){var t=o.dispatch("usingHeroBasePropertyFun","getBossDataById",8);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),.8),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2)},e}(a))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Boss80.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var e,s,a,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,a=t._decorator},function(t){n=t.em},function(t){o=t.Boss}],execute:function(){var r;s._RF.push({},"e5682K+c/FIE6hlK+alKKbH","Boss80",void 0);var i=a.ccclass;a.property,t("Boss80",i("Boss80")(r=function(t){function s(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._skillData={normalParticle:{name:"normalParticle",damage:2876e5,duration:3,moveSpeed:600,canAttackTimes:1}},e}e(s,t);var a=s.prototype;return a.onLoad=function(){var t=n.dispatch("usingHeroBasePropertyFun","getBossDataById",80);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},a.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleCircle(12,50,.5)}),2),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5)},s}(o))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Boss9.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Boss.ts"],(function(t){"use strict";var e,a,n,s,i,o,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,s=t.find,i=t.instantiate,o=t.Animation},function(t){r=t.em},function(t){c=t.Boss}],execute:function(){var l;a._RF.push({},"39b3bc1ckdF0KJK9yQwQ59E","Boss9",void 0);var u=n.ccclass;n.property,t("Boss9",u("Boss9")(l=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this)._skillData={normalParticle:{name:"normalParticle",damage:2500,duration:3,moveSpeed:500,canAttackTimes:1},ice:{name:"ice",damage:10,duration:5,moveSpeed:0,canAttackTimes:1/0,attackInterval:1,effects:["slow"]}},e}e(a,t);var n=a.prototype;return n.onLoad=function(){var t=r.dispatch("usingHeroBasePropertyFun","getBossDataById",9);t.canMove=!0,this._skillData.normalParticle.damage=t.normalDamage,this.initBossInfo(t),this.setBossStrategy()},n.setBossStrategy=function(){var t=this;this.schedule((function(){t.usingNormalParticleOneShot(.5)}),1),this.schedule((function(){t.usingNormalParticleTriangle(.5)}),5),this.schedule((function(){t.createTipsPrefab()}),6)},n.createTipsPrefab=function(){for(var t=this,e=s("tips",this.node),a=r.dispatch("getHeroWorldPos"),n=function(){var n=l[c],r=i(e);r.parent=s("Canvas/bulletLayer"),r.setWorldPosition(a.x+n[0],a.y+n[1],a.z),r.active=!0;var u=r.getComponent(o);u.on("finished",(function(){u&&(r.destroy(),t.createIce([a.x+n[0],a.y+n[1]]))}))},c=0,l=[[-200,0],[200,0],[0,-200],[0,200],[-200,-200],[200,-200],[-200,200],[200,200]];c<l.length;c++)n()},n.createIce=function(t){var e=s("icePrefab",this.node),a=i(e);a.parent=s("Canvas/bulletLayer"),a.setWorldPosition(t[0],t[1],0),a.active=!0,a.getComponent("EnemySkill").init(this._skillData.ice)},a}(c))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/Canvas.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PoolManager.ts"],(function(e){"use strict";var t,i,o,n,r,a,c,s,l,u,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,s=e.game,l=e.Game,u=e.Component},function(e){d=e.em},function(e){h=e.plm}],execute:function(){var v,p,f,g,m,y,N;r._RF.push({},"b39cal86yhCGYNmdUqX6+Oi","Canvas",void 0);var C=a.ccclass,b=a.property;e("Canvas",(v=C("Canvas"),p=b(c),f=b(c),v((y=t((m=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"childNode",y,n(t)),o(t,"needActiveNode",N,n(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.activeChildNodeFirst(),this.activeScriptByActiveNode(),s.on(l.EVENT_SHOW,this.gameShow,this),s.on(l.EVENT_HIDE,this.gameHide,this)},r.gameShow=function(){console.log("game show")},r.gameHide=function(){console.log("game hide"),d.dispatch("usingHeroControlFun","recoveryTouchRawState")},r.onDestroy=function(){h.clearAllNodePool()},r.start=function(){},r.activeChildNodeFirst=function(){for(var e=this.childNode,t=0;t<e.length;t++){var i=e[t];i&&(i.active=!0)}},r.activeScriptByActiveNode=function(){for(var e=this.needActiveNode,t=0;t<e.length;t++){var i=e[t];i&&(i.active=!0,i.active=!1)}},t}(u)).prototype,"childNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(m.prototype,"needActiveNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/CommonCallback.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager.ts"],(function(o){"use strict";var n,t,e,r,c;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,r=o.Component},function(o){c=o.plm}],execute:function(){var s;t._RF.push({},"3b59fGhdkFB26GOmbz41Qg5","CommonCallback",void 0);var i=e.ccclass;e.property,o("CommonCallback",i("CommonCallback")(s=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.destroyAnim=function(){this.node.destroy(),console.log("销毁节点")},e.recoveryAnim=function(o){c.putToPool(o,this.node,!0)},t}(r))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/commonDefine.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"e16c3I9G7NEdbIYnRaP3KWx","commonDefine",void 0);e("ObserverObj",(function(e){this.value=void 0,e&&(this.value=e)})),e("KeyValuePair",(function(e,i){this.Key=void 0,this.Value=void 0,this.Key=e,this.Value=i}));i._RF.pop()}}}));

System.register("chunks:///_virtual/ContinueArrow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,a,e,n,r,o;return{setters:[function(t){i=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator},function(t){n=t.em},function(t){r=t.tagData},function(t){o=t.Weapon}],execute:function(){var s;a._RF.push({},"87f25/FGrFC/JiaW2jrc41s","ContinueArrow",void 0);var c=e.ccclass;e.property,t("ContinueArrow",c("ContinueArrow")(s=function(t){function a(){return t.apply(this,arguments)||this}i(a,t);var e=a.prototype;return e.init=function(){this.initEquData(),this.clearCacheData(),this.initEquBoxCollider(r.sword),this.changeBulletRotationByFlyDir()},e.initEquData=function(){var t=n.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData"),i=n.dispatch("getHeroControlProperty","_curDirection"),a={x:i.x,y:i.y};0==a.x&&0==a.y&&(a.x=-1),this._damage=t.qData.effect.indexOf(1)>-1?0:t.lData.baseDamage,this._damageTimes=t.lData.damageTimes,this._duration=3,this._moveSpeed=700,this._backDis=10,this._attackInterval=2,this._canAttackTimes=1,this._weaponName="continueArrow",this._flyDir=a,this.initEquDataByExtraProperties(t)},a}(o))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/CurrentRoundMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){"use strict";var n,s,t,o,r,a,i,u,c;return{setters:[function(e){n=e.inheritsLoose},function(e){s=e.cclegacy,t=e._decorator,o=e.find,r=e.instantiate,a=e.Label,i=e.ScrollView,u=e.Component},function(e){c=e.em}],execute:function(){var d;s._RF.push({},"6a7ee8nKmNDa4S5L9g+V0KD","CurrentRoundMessage",void 0);var g=t.ccclass;t.property,e("CurrentRoundMessage",g("CurrentRoundMessage")(d=function(e){function s(){for(var n,s=arguments.length,t=new Array(s),o=0;o<s;o++)t[o]=arguments[o];return(n=e.call.apply(e,[this].concat(t))||this)._messagePrefab=void 0,n._messagePar=void 0,n}n(s,e);var t=s.prototype;return t.onDestroy=function(){c.remove("sendRoundMessage")},t.onLoad=function(){c.add("sendRoundMessage",this.sendRoundMessage.bind(this)),this._messagePrefab=o("Label",this.node),this._messagePar=o("ScrollView/view/content",this.node)},t.sendRoundMessage=function(e){var n=r(this._messagePrefab);n.parent=this._messagePar,n.getComponent(a).string=e,this._messagePar.parent.parent.getComponent(i).scrollToBottom(1),n.active=!0},s}(u))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/DangerWindToNear.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts","./Weapon.ts"],(function(t){"use strict";var i,e,o,n,a,s,r,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.em},function(t){a=t.tagData,s=t.ggd},function(t){r=t.plm},function(t){c=t.Weapon}],execute:function(){var l;e._RF.push({},"0edc4ajlY9IAobRGH2giiyP","DangerWindToNear",void 0);var h=o.ccclass;o.property,t("DangerWindToNear",h("DangerWindToNear")(l=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(i=t.call.apply(t,[this].concat(o))||this)._moveDistance=void 0,i}i(e,t);var o=e.prototype;return o.init=function(t){this._moveSpeed=200,this._moveDistance=300,this.addToAnimManger(),this._flyDir={x:t[0],y:t[1]},this.initSkillData()},o.initSkillData=function(){var t=n.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","八面危风");this._damage=t.baseDamage,this._damageTimes=t.damageTimes,this._duration=t.duration,this._backDis=0,this._canAttackTimes=1/0,this._attackInterval=1,this._weaponName=t.name2,this.initBoxCollider(a.sword)},o.weaponMove=function(t){if(!s.stopAll&&this._flyDir&&!(this._moveDistance<=0)&&0!=this._moveSpeed){var i=t*this._moveSpeed,e=this._flyDir.x*i,o=this._flyDir.y*i;this.node.setPosition(this.node.getPosition().x+e,this.node.getPosition().y+o,0),this._moveDistance-=i}},o.recoveryToPool=function(){this.removeAnimFromList(),r.putToPool(this._weaponName,this.node)},e}(c))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/DarkMask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./EnemySkill.ts"],(function(t){"use strict";var n,e,i,o,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.em},function(t){r=t.tagData},function(t){a=t.EnemySkill}],execute:function(){var s;e._RF.push({},"5651evCO91NHb+szJiF4jVe","DarkMask",void 0);var c=i.ccclass;i.property,t("DarkMask",c("DarkMask")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.init=function(){this.initCollider()},i.onBeginContact=function(t,n){n.tag===r.hero&&o.dispatch("usingHeroControlFun","addDebuffBanMove",2)},e}(a))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Darts.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts","./Weapon.ts"],(function(t){"use strict";var i,n,s,a,o,r,e,c;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator,a=t.find},function(t){o=t.em},function(t){r=t.tagData},function(t){e=t.plm},function(t){c=t.Weapon}],execute:function(){var l;n._RF.push({},"b4b92Q5gQxCeLttrvjhA8P8","Darts",void 0);var h=s.ccclass;t("Darts",h("Darts")(l=function(t){function n(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this)._isCanSplit=!1,i._isCanSplitTimes=0,i}i(n,t);var s=n.prototype;return s.init=function(t,i,n,s){void 0===s&&(s=!1),this.initWeaponInfo(i,t,n);var a=t.name;this.initBoxCollider(r[a]),this._isCanSplit=s},s.colliderMonster=function(t){this.isStopRun(t)||(this.updateMonsterBlood(t),this._canAttackTimes--,this._canAttackTimes<=0?this.recoveryToPool():this.changeFlyDir())},s.colliderBoss=function(t){this.isStopRun(t)||(this.updateBossBlood(t),this._canAttackTimes<=0?this.recoveryToPool():this.changeFlyDir())},s.changeFlyDir=function(){var t=Math.sin(30*Math.random());this._flyDir.x=-this._flyDir.x,this._flyDir.y=-this._flyDir.y;var i=this.getRotationDir(this._flyDir,t),n=this.getRotationDir(this._flyDir,-t);this._flyDir=i,this._isCanSplit&&(this.createSplitDarts(n),this._isCanSplit=!1)},s.getRotationDir=function(t,i){var n=t.x,s=t.y;return{x:n*Math.cos(i)-s*Math.sin(i),y:n*Math.sin(i)+s*Math.cos(i)}},s.createSplitDarts=function(t){var i=o.dispatch("getWeaponDataByIdOrName","darts"),n=e.getFromPool("darts"),s=a("Canvas/bulletLayer");n.parent=s;var r=this.node.getWorldPosition();n.setWorldPosition(r),n.getComponent("Darts").init(i,i.maxLevel,t)},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/DoomsdayStorm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,o,e,a,s,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){a=t.em},function(t){s=t.tagData,n=t.ggd},function(t){r=t.Weapon}],execute:function(){var c;o._RF.push({},"e313bmgRphMbYASEhPHN3HH","DoomsdayStorm",void 0);var h=e.ccclass;e.property,t("DoomsdayStorm",h("DoomsdayStorm")(c=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),a=0;a<o;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this)._moveDistance=void 0,i}i(o,t);var e=o.prototype;return e.init=function(t){this._moveSpeed=1e3,this._moveDistance=300,this.addToAnimManger(),this._flyDir={x:t[0],y:t[1]},this.initSkillData()},e.initSkillData=function(){var t=a.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","doomsdayStorm");this._damage=t.baseDamage,this._damageTimes=t.damageTimes,this._duration=t.duration,this._backDis=0,this._canAttackTimes=1/0,this._attackInterval=.3,this._weaponName=t.name2,this.initBoxCollider(s.sword)},e.weaponMove=function(t){if(!n.stopAll&&this._flyDir&&!(this._moveDistance<=0)&&0!=this._moveSpeed){var i=t*this._moveSpeed,o=this._flyDir.x*i,e=this._flyDir.y*i;this.node.setPosition(this.node.getPosition().x+o,this.node.getPosition().y+e,0),this._moveDistance-=i}},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PreLoad.ts"],(function(o){"use strict";var e,i,r,n,t,a,c,s,d,l,u;return{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.inheritsLoose,r=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){t=o.cclegacy,a=o._decorator,c=o.director,s=o.resources,d=o.Component},function(o){l=o.em},function(o){u=o.PreLoad}],execute:function(){var p,h,f,L,D;t._RF.push({},"16d7eG5vo9IBLdWMm1q6dEM","DynamicLoading",void 0);var g=a.ccclass,v=a.property;o("DynamicLoading",(p=g("DynamicLoading"),h=v(u),p((D=e((L=function(o){function e(){for(var e,i=arguments.length,t=new Array(i),a=0;a<i;a++)t[a]=arguments[a];return e=o.call.apply(o,[this].concat(t))||this,r(e,"preLoadScript",D,n(e)),e}i(e,o);var t=e.prototype;return t.onDestroy=function(){l.remove("loadTheDirResources"),l.remove("loadTheDir")},t.onLoad=function(){l.add("loadTheDirResources",this.loadTheDirResources.bind(this)),l.add("loadTheDir",this.loadTheDir.bind(this)),this.preLoadAllResources(),c.addPersistRootNode(this.node)},t.preLoadAllResources=function(){var o=this;s.loadDir("",(function(e,i,r){o.preLoadScript.updateLoadingProgress(e/i)}),(function(e,i){e?console.log(e):o.preLoadScript.showLoginLayer()}))},t.loadTheDir=function(o,e){void 0===e&&(e=null),s.loadDir(o,(function(o,i){o?console.log(o):e&&e(i)}))},t.loadTheDirResources=function(o,e,i){void 0===e&&(e=null),void 0===i&&(i=null),s.load(o,(function(o,r){o?i?i():console.log(o):e&&e(r)}))},e}(d)).prototype,"preLoadScript",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=L))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicSupFrame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts"],(function(t){"use strict";var e,n,i,o,s,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.find,s=t.UITransform,a=t.Component},function(t){r=t.ggConfig}],execute:function(){var c;n._RF.push({},"de945MOvbVNvopn+Rjsgvu4","DynamicSupFrame",void 0);var u=i.ccclass;i.property,t("DynamicSupFrame",u("DynamicSupFrame")(c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._L=null,e._R=null,e._U=null,e._D=null,e}return e(n,t),n.prototype.onLoad=function(){if(this._L=o("L",this.node),this._R=o("R",this.node),this._U=o("U",this.node),this._D=o("D",this.node),!r.dynamicSupFrame)return this._L.active=!1,this._R.active=!1,this._U.active=!1,void(this._D.active=!1);console.log("动态初始化 四叉树范围框"),this._L.getComponent(s).setContentSize(2,r.quadTreeRange.h),this._R.getComponent(s).setContentSize(2,r.quadTreeRange.h),this._U.getComponent(s).setContentSize(r.quadTreeRange.w,2),this._D.getComponent(s).setContentSize(r.quadTreeRange.w,2),this._L.setPosition(-r.quadTreeRange.w/2,0),this._R.setPosition(r.quadTreeRange.w/2,0),this._U.setPosition(0,r.quadTreeRange.h/2),this._D.setPosition(0,-r.quadTreeRange.h/2),this._L.active=!0,this._R.active=!0,this._U.active=!0,this._D.active=!0},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemySkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts"],(function(t){"use strict";var e,i,o,n,a,s,r,c,l,d,h,u,m,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,n=t.BoxCollider2D,a=t.UITransform,s=t.Size,r=t.Contact2DType,c=t.CircleCollider2D,l=t.Component},function(t){d=t.em},function(t){h=t.tagData,u=t.groupIndex,m=t.ggd},function(t){p=t.plm}],execute:function(){var f;i._RF.push({},"ad080WTW8JAq6c5uR79Xh4x","EnemySkill",void 0);var _=o.ccclass;o.property,t("EnemySkill",_("EnemySkill")(f=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._skillName=void 0,e._damage=void 0,e._flyDir=void 0,e._moveSpeed=void 0,e._duration=1/0,e._canAttackTimes=void 0,e._curData=null,e}e(i,t);var o=i.prototype;return o.init=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1),this._curData=t,this._skillName=t.name,this._damage=t.damage,this._duration=t.duration,this._moveSpeed=t.moveSpeed,t.canAttackTimes?this._canAttackTimes=t.canAttackTimes:this._canAttackTimes=1/0,this._flyDir=e,this.initCollider(i)},o.initCollider=function(t){void 0===t&&(t=1);var e=this.node.getComponent(n);e||(e=this.node.addComponent(n));var i=this.node.getComponent(a),o=new s(i.contentSize.x*t,i.contentSize.y*t);e.tag=h.enemySkill,e.size=o,e.group=u.enemySkill,e.on(r.BEGIN_CONTACT,this.onBeginContact,this)},o.initCircleCollider=function(t){void 0===t&&(t=1);var e=this.node.getComponent(c);e||(e=this.node.addComponent(c));var i=this.node.getComponent(a),o=new s(i.contentSize.x*t,i.contentSize.y*t);e.tag=h.enemySkill,e.radius=o.x/2,e.group=u.enemySkill,e.on(r.BEGIN_CONTACT,this.onBeginContact,this)},o.onBeginContact=function(t,e){e.tag==h.hero&&this.colliderHero(),e.tag==h.destroyWeapon&&this.recoveryPrefab()},o.colliderHero=function(){this._curData.hasOwnProperty("effects")&&this._curData.effects.indexOf("slow")>-1&&d.dispatch("usingHeroControlFun","addDebuffSlow",5,20),this._damage&&d.dispatch("usingHeroControlFun","createBossDamageTex",-this._damage),this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryPrefab()},o.recoveryPrefab=function(){p.putToPool(this._skillName,this.node)},o.destroyPrefab=function(){this.node.destroy()},o.update=function(t){this.weaponMove(t),this.weaponDuration(t)},o.weaponMove=function(t){if(!m.stopAll&&this._flyDir&&0!=this._moveSpeed&&this._duration!=1/0){var e=t*this._moveSpeed,i=this._flyDir.x*e,o=this._flyDir.y*e;this.node.setPosition(this.node.getPosition().x+i,this.node.getPosition().y+o,0)}},o.weaponDuration=function(t){m.stopAll||(this._duration-=t,this._duration<=0&&this.recoveryPrefab())},i}(l))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc","./globalData.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.ggd}],execute:function(){t._RF.push({},"65fecLrBN5EdbS9KOtfYHkX","EventManager",void 0);var r=function(){function e(){this.event={}}var t=e.prototype;return t.add=function(e,t){if(!e||!t)throw new Error("事件名称或回调函数未定义");if(this.event[e])throw new Error(e+",该事件名称已使用 请使用其它名称");this.event[e]={},this.event[e].callback=t},t.dispatch=function(e){if(!e)throw new Error("事件名称参数为空");if(!this.event[e])throw new Error("事件"+e+"未注册");for(var t=this.event[e].callback,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,r)},t.eventIsDefined=function(e){return!!this.event[e]},t.remove=function(e){if(!e)throw new Error("事件名称参数为空");if(!this.event[e])throw new Error("移除的事件不存在:"+e);delete this.event[e].callback,delete this.event[e]},t.showAllEvents=function(){console.log(this.event)},e}();console.log(n.versionCode);e("em",new r);t._RF.pop()}}}));

System.register("chunks:///_virtual/FanPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,o=e.Component}],execute:function(){var a;r._RF.push({},"e0b852hnStMuL8DCjNUMpIA","FanPrefab",void 0);var c=n.ccclass;n.property,e("FanPrefab",c("FanPrefab")(a=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var n=r.prototype;return n.start=function(){this.moveLikeParabola()},n.moveLikeParabola=function(){return console.log("还没写")},r}(o))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/FingerLikeWind.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(i){"use strict";var t,n,e,a,o,r,s;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,e=i._decorator,a=i.Animation},function(i){o=i.em},function(i){r=i.tagData},function(i){s=i.Weapon}],execute:function(){var c;n._RF.push({},"d9e90vRgkhOw65sE4SlWHaZ","FingerLikeWind",void 0);var d=e.ccclass;e.property,i("FingerLikeWind",d("FingerLikeWind")(c=function(i){function n(){return i.apply(this,arguments)||this}t(n,i);var e=n.prototype;return e.init=function(){this.addToAnimManger(),this.initSkillData()},e.initSkillData=function(){var i=o.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","fingerLikeWind");this._damage=i.baseDamage,this._damageTimes=i.damageTimes,this._duration=i.duration,this._backDis=0,this._canAttackTimes=1/0,this._attackInterval=.5,this._weaponName=i.name,this.node.parent=o.dispatch("getHeroControlProperty","node").getChildByName("skillParent"),this.initBoxCollider(r.sword)},e.update=function(i){this.weaponMove(i),this.weaponDuration(i),this.changeDirByMoveDir(90)},e.recoveryToPool=function(){this.removeAnimFromList(),this.node.destroy()},e.addToAnimManger=function(){var i=this.node.getComponent(a);o.dispatch("usingGameAnimManagerFun","addAnimToList",i)},e.removeAnimFromList=function(){var i=this.node.getComponent(a);o.dispatch("usingGameAnimManagerFun","removeAnimFromList",i)},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/FireBloom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,i,a,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,a=t._decorator},function(t){o=t.em},function(t){n=t.tagData},function(t){r=t.Weapon}],execute:function(){var s;i._RF.push({},"b247e+Qq1tGc6SfQssZUuHm","FireBloom",void 0);var c=a.ccclass;a.property,t("FireBloom",c("FireBloom")(s=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){this.initSkillData()},a.initSkillData=function(){var t=o.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","fireBloom");this._damage=t.baseDamage,this._moveSpeed=0,this._canAttackTimes=1/0,this._backDis=0,this._attackInterval=1,this._weaponName=t.name2,this.clearCacheData(),this.initBoxCollider(n.sword)},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/FlyingThunderGod.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(n){"use strict";var t,e,o,r,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,r=n.Component},function(n){i=n.em}],execute:function(){var s;e._RF.push({},"bd06bRw0gNOErD1VOHYGH9p","FlyingThunderGod",void 0);var u=o.ccclass;o.property,n("FlyingThunderGod",u("FlyingThunderGod")(s=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._isRun=!1,t}return t(e,n),e.prototype.update=function(n){var t=i.dispatch("getHeroWorldPos"),e=this.node.getWorldPosition(),o=t.x-e.x,r=t.y-e.y,s=Math.sqrt(o*o+r*r);!this._isRun&&s>800&&(console.log("超过800码，飞雷神标记消失"),i.dispatch("createTipsTex","超过2000码，飞雷神标记消失"),this._isRun=!0,i.dispatch("usingHeroControlFun","resetFlyingThunderGodCount"))},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/FlySword.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,i,o,s,n,r,a,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,s=t.BoxCollider2D},function(t){n=t.em},function(t){r=t.tagData,a=t.ggd},function(t){h=t.Weapon}],execute:function(){var l;i._RF.push({},"15dc2aBFdJGhJvhZGL29Vj/","FlySword",void 0);var c=o.ccclass;o.property,t("FlySword",c("FlySword")(l=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._curTargetRect=null,e._flyState=0,e}e(i,t);var o=i.prototype;return o.start=function(){var t=this,e=n.dispatch("getWeaponDataByIdOrName","flySword");this.init(e,2),this.schedule((function(){t.seekNearestEnemy()}),.5)},o.init=function(t,e){this.initWeaponInfo(e,t);t.name;this.initBoxCollider(r.sword,{x:-20,y:-20})},o.seekNearestEnemy=function(){if(!a.stopAll&&0===this._flyState){var t=n.dispatch("getCurMonsterQuadtree"),e=this.node.getComponent(s).worldAABB,i=t.retrieve(e);i.length&&(this._curTargetRect=i[Math.random()*i.length|0],this._flyState=1)}},o.update=function(t){0!=this._flyState&&(1==this._flyState?this.flyToTp(t):2==this._flyState&&this.flyToHero(t))},o.flyToTp=function(t){if(!a.stopAll){var e=this.node.getWorldPosition(),i=this._curTargetRect.x+this._curTargetRect.width/2-e.x,o=this._curTargetRect.y+this._curTargetRect.height/2-e.y,s=t*this._moveSpeed;if(s*s>=i*i+o*o)this.node.setPosition(this.node.getPosition().x+i,this.node.getPosition().y+o,0),this._curTargetRect=null,this._flyState=2;else{var n=s/Math.sqrt(i*i+o*o);i*=n,o*=n,this.node.setPosition(this.node.getPosition().x+i,this.node.getPosition().y+o,0)}}},o.flyToHero=function(t){if(!a.stopAll){var e=this.node.getWorldPosition(),i=n.dispatch("getHeroWorldPos"),o=i.x-e.x,s=i.y-e.y,r=t*this._moveSpeed*2;if(r*r>=o*o+s*s)this.node.setPosition(this.node.getPosition().x+o,this.node.getPosition().y+s,0),this._flyState=0;else{var h=r/Math.sqrt(o*o+s*s);o*=h,s*=h,this.node.setPosition(this.node.getPosition().x+o,this.node.getPosition().y+s,0)}}},i}(h))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameAnimManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts"],(function(n){"use strict";var i,t,e,a,s,o;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,a=n.Component},function(n){s=n.em},function(n){o=n.ggd}],execute:function(){var r;t._RF.push({},"1d4f9s3vJFHb4UKLxz8L+zJ","GameAnimManager",void 0);var u=e.ccclass;e.property,n("GameAnimManager",u("GameAnimManager")(r=function(n){function t(){for(var i,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(i=n.call.apply(n,[this].concat(e))||this)._animList=[],i}i(t,n);var e=t.prototype;return e.onDestroy=function(){s.remove("usingGameAnimManagerFun")},e.onLoad=function(){s.add("usingGameAnimManagerFun",this.usingGameAnimManagerFun.bind(this))},e.usingGameAnimManagerFun=function(n){for(var i=arguments.length,t=new Array(i>1?i-1:0),e=1;e<i;e++)t[e-1]=arguments[e];if(this[n]&&"function"==typeof this[n])return this[n].apply(this,t);throw n+" is not fun or undefined"},e.addAnimToList=function(n){o.stopAll&&n.pause(),this._animList.push(n)},e.removeAnimFromList=function(n){var i=this._animList.indexOf(n);if(!(i>-1))throw"anim is not in list.";this._animList.splice(i,1)},e.pauseAllAnim=function(){this._animList.forEach((function(n){n.pause()}))},e.resumeAllAnim=function(){console.log("恢复所有list中的动画"),this._animList.forEach((function(n){n.resume()}))},t}(a))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameMonetize.com-SDK.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"cb456kBbFJNn4k61gmkPq3v","GameMonetize.com-SDK",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var i,a,e,s,n;return{setters:[function(t){i=t.inheritsLoose},function(t){a=t.cclegacy,e=t._decorator,s=t.Component},function(t){n=t.em}],execute:function(){var r;a._RF.push({},"da9fbvdxjZG9pV0eUIh8xTd","GameReward",void 0);var d=e.ccclass;e.property,t("GameReward",d("GameReward")(r=function(t){function a(){for(var i,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._rewardList={today:99,lastTodaySignIn:999,sevenDaySignIn:{lastSignIn:99,continueDays:0},todayEquVideoShowTimes:0,versionReward1_0_3_2:!1},i._maxTodayEquVideoShowTimes=2,i}i(a,t);var e=a.prototype;return e.onLoad=function(){n.add("usingGameRewardFun",this.usingGameRewardFun.bind(this))},e.onDestroy=function(){n.remove("usingGameRewardFun")},e.start=function(){this.initRewardList()},e.initRewardList=function(){var t=n.dispatch("getTempData","gameRewardList");if(t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this._rewardList.hasOwnProperty(i)&&(this._rewardList[i]=t[i]);var a=(new Date).getDay();this._rewardList.today===a&&99!=this._rewardList.today||(this._rewardList.today=a,this._rewardList.todayEquVideoShowTimes=0),this.versionUpdateReward(),n.dispatch("savingToTempData","gameRewardList",this._rewardList)},e.versionUpdateReward=function(){this._rewardList.versionReward1_0_3_2||(this._rewardList.versionReward1_0_3_2=!0,n.dispatch("addItemToSS","破旧装备箱",5),n.dispatch("showGets",{"破旧装备箱":5}))},e.usingGameRewardFun=function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),e=1;e<i;e++)a[e-1]=arguments[e];if(this[t]&&"function"==typeof this[t])return this[t].apply(this,a);throw t+" is not fun or undefined"},e.signInToday=function(){if(this._rewardList.today==this._rewardList.lastTodaySignIn)return n.dispatch("tipsViewShow","今日已签到"),void(this._rewardList.lastTodaySignIn=this._rewardList.today);this._rewardList.lastTodaySignIn=this._rewardList.today,n.dispatch("addItemToSS","破旧装备箱",1),n.dispatch("addItemToSS","神秘钥匙",1),n.dispatch("showGets",{"破旧装备箱":1,"神秘钥匙":1}),n.dispatch("savingToTempData","gameRewardList",this._rewardList)},e.getContinueDays=function(){var t=(new Date).getDay()-this._rewardList.sevenDaySignIn.lastSignIn;return 1==t||-6==t||0==t?this._rewardList.sevenDaySignIn.continueDays:0},e.signInSevenDay=function(){var t=(new Date).getDay();if(this._rewardList.sevenDaySignIn.lastSignIn==t)return!1;var i=t-this._rewardList.sevenDaySignIn.lastSignIn;return 1==i||-6==i?(this._rewardList.sevenDaySignIn.lastSignIn=t,this._rewardList.sevenDaySignIn.continueDays++,this._rewardList.sevenDaySignIn.continueDays>7&&(this._rewardList.sevenDaySignIn.continueDays=1),n.dispatch("savingToTempData","gameRewardList",this._rewardList),!0):(this._rewardList.sevenDaySignIn.continueDays=1,this._rewardList.sevenDaySignIn.lastSignIn=t,n.dispatch("savingToTempData","gameRewardList",this._rewardList),!0)},e.todayEquVideoIsCanShow=function(){return this._rewardList.todayEquVideoShowTimes>=this._maxTodayEquVideoShowTimes},e.afterPlayEquVideo=function(){this._rewardList.todayEquVideoShowTimes++,n.dispatch("savingToTempData","gameRewardList",this._rewardList)},a}(s))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,u=e.Component},function(e){l=e.em}],execute:function(){var c,p,g,h,b,d,f;a._RF.push({},"8b950jW4AZPXobu7MumYqkU","GameSettings",void 0);var m=o.ccclass,v=o.property;e("GameSettings",(c=m("GameSettings"),p=v(s),g=v(s),c((d=t((b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"contentLabel",d,r(t)),i(t,"lvLabel",f,r(t)),t}n(t,e);var a=t.prototype;return a.onEnable=function(){this.updateHeroPropertiesView()},a.updateHeroPropertiesView=function(){var e="",t=l.dispatch("usingHeroBasePropertyFun","getTrainingData","name");e=e+l.dispatch("usingWeaponManagerFun","getWeaponDes")+l.dispatch("usingHeroControlFun","getHeroPropertiesDes")+l.dispatch("usingSkillManagerFun","getSSDes"),this.contentLabel.string=e,this.lvLabel.string=t},a.onBtnSettings=function(){this.node.active=!0,l.dispatch("usingHeroControlFun","pauseGame")},a.closeSetting=function(){this.node.active=!1,l.dispatch("usingHeroControlFun","resumeGame")},t}(u)).prototype,"contentLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(b.prototype,"lvLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameUrl.ts",["cc"],(function(i){"use strict";var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"3aae4J8o09Gs4/vxL+TUr7x","GameUrl",void 0);i("gUrl",new(function(){function i(){this.curUrl="https://www.xiulegexian.com:8083",this.list={},this.initUrl()}var t=i.prototype;return t.initUrl=function(){this.list.register=this.curUrl+"/xiuXian/player/registry",this.list.login=this.curUrl+"/xiuXian/player/login",this.list.savingData=this.curUrl+"/xiuXian/player/syncAccountMetadata",this.list.adClickCount=this.curUrl+"/xiuXian/statistics/adClick"},t.showAllUrl=function(){for(var i in this.list)if(Object.hasOwnProperty.call(this.list,i)){var t=this.list[i];console.log("key:",i),console.log("url:",t)}},i}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/GetsControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PoolManager.ts"],(function(e){"use strict";var t,o,r,n,s,a,i,c,l,u,h;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,n=e.find,s=e.NodePool,a=e.Sprite,i=e.Label,c=e.Color,l=e.Component},function(e){u=e.em},function(e){h=e.plm}],execute:function(){var d;o._RF.push({},"5b473lAki9LRptNA7qJChsV","GetsControl",void 0);var m=r.ccclass;r.property,e("GetsControl",m("GetsControl")(d=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this)._showList={1:[[0,0]],2:[[-70,0],[70,0]],3:[[-170,0],[0,0],[170,0]],4:[[-210,0],[-70,0],[70,0],[210,0]],5:[[-210,90],[-70,90],[70,90],[210,90],[-210,-65]],6:[[-210,90],[-70,90],[70,90],[210,90],[-210,-65],[-70,-65]],7:[[-210,90],[-70,90],[70,90],[210,90],[-210,-65],[-70,-65],[70,-65]],8:[[-210,90],[-70,90],[70,90],[210,90],[-210,-65],[-70,-65],[70,-65],[210,-65]]},t}t(o,e);var r=o.prototype;return r.onDestroy=function(){u.remove("showGets"),u.remove("closeGets")},r.onLoad=function(){u.add("showGets",this.showGets.bind(this)),u.add("closeGets",this.closeGets.bind(this));var e=n("/itemPrefab",this.node);h.addPoolToPools("SSLGetsItemPrefab",new s,e)},r.showGets=function(e){var t=this;this.node.active=!0;var o=n("bg/ScrollView/view/content",this.node),r=function(){var t=0;for(var o in e)t++;return t}(),s=this._showList[r],c=0;for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&function(){var r=e[l],n=u.dispatch("getItemDataByIdOrName",l),d=h.getFromPool("SSLGetsItemPrefab");d.active=!0,d.parent=o;var m=d.getComponent(a),p=n.loadUrl;n.loadUrl||(p="item_default"),p="images/items/"+p+"/spriteFrame",u.dispatch("loadTheDirResources",p,(function(e){return m.spriteFrame=e}));var v=t.getColorStrByQuality(n.quality),f=d.getChildByName("name").getComponent(i);f.color=v,f.string=r>1?n.name+"x"+r:n.name;var w=s[c];d.setPosition(w[0],w[1]),c++}()},r.closeGets=function(){this.node.active=!1;for(var e=n("bg/ScrollView/view/content",this.node);e.children.length;){var t=e.children[0];t.getComponent(a).spriteFrame=null,t.removeFromParent(),h.putToPool("SSLGetsItemPrefab",t)}},r.getColorStrByQuality=function(e){switch(e){case 1:return new c(89,154,101);case 2:return new c(114,140,199);case 3:return new c(164,116,207);case 4:return new c(198,92,55);case 5:return new c(227,161,90);default:return new c(255,255,255)}},o}(l))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/GiantArrow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Weapon.ts"],(function(t){"use strict";var a,i,e,r,n;return{setters:[function(t){a=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){r=t.em},function(t){n=t.Weapon}],execute:function(){var o;i._RF.push({},"ec3d6gpGP9LZY2dZNWvptHq","GiantArrow",void 0);var s=e.ccclass;e.property,t("GiantArrow",s("GiantArrow")(o=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var e=i.prototype;return e.init=function(){this.initEquData(),this.clearCacheData(),this.changeBulletRotationByFlyDir()},e.initEquData=function(){var t=r.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData"),a=r.dispatch("getHeroControlProperty","_curDirection"),i={x:a.x,y:a.y};0==i.x&&0==i.y&&(i.x=-1),this._damage=t.lData.baseDamage,this._damageTimes=t.lData.damageTimes,this._duration=3,this._moveSpeed=700,this._backDis=500,this._attackInterval=1,this._canAttackTimes=1/0,this._weaponName="giantArrow",this._flyDir=i,this.initEquDataByExtraProperties(t)},i}(n))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/GiantAxe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PoolManager.ts","./Weapon.ts"],(function(t){"use strict";var e,a,i,n,o,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,i=t._decorator,n=t.Animation},function(t){o=t.em},function(t){r=t.plm},function(t){s=t.Weapon}],execute:function(){var c;a._RF.push({},"6da2cXsSVNKY6q8qfR7UnJT","GiantAxe",void 0);var h=i.ccclass;i.property,t("GiantAxe",h("GiantAxe")(c=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var i=a.prototype;return i.init=function(){this.initEquData(),this.clearCacheData(),this.addToAnimManger();var t=o.dispatch("getHeroControlProperty","_curDirection");console.log("heroDir",t);var e={x:t.x,y:t.y};this._flyDir=e;var a=o.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");this._flyDir.x>0?a.qData.effect.indexOf(5005)>-1?this.node.getComponent(n).play("giantAxeR2"):this.node.getComponent(n).play("giantAxeR"):a.qData.effect.indexOf(5005)>-1?this.node.getComponent(n).play("giantAxeL2"):this.node.getComponent(n).play("giantAxeL")},i.initEquData=function(){var t=o.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");this._damage=t.lData.baseDamage,this._damageTimes=t.lData.damageTimes,this._duration=1/0,this._moveSpeed=0,this._backDis=150,this._attackInterval=2,this._canAttackTimes=1/0,this._weaponName="rotationAxe",this.initEquDataByExtraProperties(t)},i.recoveryToPool=function(){this.removeAnimFromList(),r.putToPool(this._weaponName,this.node)},i.createShockWaveBy1006or1007=function(){var t=o.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");if(t.qData.effect.indexOf(1006)>-1||t.qData.effect.indexOf(1007)>-1){var e=this.node.getWorldPosition();o.dispatch("usingWeaponManagerFun","createShockWave",e,this._flyDir)}},i.createShockWaveBy5005=function(t){var e=this.node.getWorldPosition();1==t?o.dispatch("usingWeaponManagerFun","createShockWave",e,this._flyDir):o.dispatch("usingWeaponManagerFun","createShockWave",e,{x:-this._flyDir.x,y:this._flyDir.y})},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/GiantSword.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PoolManager.ts","./Weapon.ts"],(function(t){"use strict";var a,e,i,n,o,r;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.em},function(t){o=t.plm},function(t){r=t.Weapon}],execute:function(){var s;e._RF.push({},"69924h81zxEnaSchCasauee","GiantSword",void 0);var c=i.ccclass;i.property,t("GiantSword",c("GiantSword")(s=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.init=function(){this.initEquData(),this.clearCacheData(),this.addToAnimManger()},i.initEquData=function(){var t=n.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");this._damage=t.lData.baseDamage,this._damageTimes=t.lData.damageTimes,this._duration=2,this._moveSpeed=700,this._backDis=50,this._attackInterval=2,this._canAttackTimes=1/0,this._weaponName="giantSword",this.initEquDataByExtraProperties(t)},i.recoveryToPool=function(){this.removeAnimFromList(),o.putToPool(this._weaponName,this.node)},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/globalData.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e.dynamicAtlasManager}],execute:function(){var r;e("tagData",void 0),a._RF.push({},"12677v3hZxChoqJeg+2NXbN","globalData",void 0),t.enabled=!1,function(e){e[e.hero=10]="hero",e[e.sword=11]="sword",e[e.fan=12]="fan",e[e.guard=13]="guard",e[e.spell=14]="spell",e[e.darts=15]="darts",e[e.friend1Skill1=16]="friend1Skill1",e[e.monster=17]="monster",e[e.wall=18]="wall",e[e.boss=19]="boss",e[e.fireBall=20]="fireBall",e[e.fireBallFire=21]="fireBallFire",e[e.trackDisappear=22]="trackDisappear",e[e.enemySkill=23]="enemySkill",e[e.obstacle=24]="obstacle",e[e.puppet=25]="puppet",e[e.destroyWeapon=26]="destroyWeapon",e[e.randomSkillReward=27]="randomSkillReward"}(r||(r=e("tagData",{})));e("groupIndex",{DEFAULT:Math.pow(2,0),enemy:Math.pow(2,1),self:Math.pow(2,2),obstacle:Math.pow(2,3),enemySkill:Math.pow(2,4),heroWeapon:Math.pow(2,5),itemInPlaying:Math.pow(2,6)}),e("attackInterval",{monsterCollideHero:1,guard:.5,spell:.1,f1s1:1/60,boss1:1,boss2:1}),e("ggd",{stopAll:!1,curStage:1,totalStage:80,isOpenAd:!0,platform:"wxGame",versionCode:"wx-v-1.0.3.2",curAdRewardType:"",stageProgress:1,userInfo:{isVisitor:!0,token:"",accountMetadata:null},phoneInfo:{imei:""},playAdTimes:0}),e("ggConfig",{framingInitMonster:!0,dynamicSupFrame:!1,quadTreeRange:{w:700,h:1300},adUnitIds:["adunit-e4f9eda3feb2de98","adunit-4fd8f9b38c4adb1f","adunit-6337803394072dcc"]});a._RF.pop()}}}));

System.register("chunks:///_virtual/globalFun.ts",["cc","./EventManager.ts","./globalData.ts"],(function(e){"use strict";var t,a,r,s,o,i;return{setters:[function(e){t=e.cclegacy,a=e.EventHandler,r=e.Button,s=e.native},function(e){o=e.em},function(e){i=e.ggd}],execute:function(){t._RF.push({},"449eazAx+VFQq/a5iitUUii","globalFun",void 0);e("glf",{createButton:function(e,t,s,o,i){if(void 0===i&&(i=""),e&&t&&s&&o){var c=new a;c.target=e,c.component=s,c.handler=o,c.customEventData=i;var n=t.getComponent(r);n||(n=t.addComponent(r)),n.clickEvents[0]=c}else console.log("参数错误 无法生成按钮 请重新设置")},getCirclePos:function(e,t){if(t<4)throw"圆上点数过少 请输入大于4的数字";if(t%4!=0)throw"生成的在圆上的点的总数错误，不是4的倍数"+t;for(var a=t/4,r=[],s=1;s<a;s++){var o=e*Math.sin(Math.PI/180*s/a*90),i=Math.sqrt(e*e-o*o);r.push([i,o],[i,-o],[-i,o],[-i,-o])}return r.push([0,e],[0,-e],[e,0],[-e,0]),r},getTimeDetail:function(){var e=new Date,t=function(e){return(Array(2).join("0")+e).slice(-2)};return e.getFullYear()+"."+(e.getMonth()+1)+"."+e.getDate()+"  "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())},getTriangleRow:function(e){for(var t=0,a=0,r=[],s=0;s<e;s++){var o=s+1;r[s]=[];for(var i=0;i<o;i++)o%2==0?r[s].push([t+50*i-50*Math.floor(o/2)+25,a]):r[s].push([t+50*i-50*Math.floor(o/2),a])}return r},playAd:function(){switch(i.platform){case"GooglePlay":s.reflection.callStaticMethod("com/cocos/game/AppActivity","createAds","()V");break;case"wxGame":o.dispatch("showWxVideoAd")}},afterPlayAdComplete:function(){switch(i.curAdRewardType){case"getItems":o.dispatch("getItemsRewardByAds");break;case"rebirthHero":o.dispatch("rebirthHero");break;case"getDoubleReward":o.dispatch("getDoubleReward");break;case"getAllUpgradeReward":o.dispatch("usingWeaponManagerFun","getAllUpgradeRewardComplete");break;case"updateUpgradeReward":o.dispatch("usingWeaponManagerFun","updateUpgradeRewardComplete");break;case"getEquBox":console.log("领取装备箱子");var e=Math.random();e>.995?(o.dispatch("addItemToSS","史诗装备箱",1),o.dispatch("showGets",{"史诗装备箱":1})):e>.98?(o.dispatch("addItemToSS","传说装备箱",1),o.dispatch("showGets",{"传说装备箱":1})):e>.8?(o.dispatch("addItemToSS","稀有装备箱",1),o.dispatch("showGets",{"稀有装备箱":1})):(o.dispatch("addItemToSS","实用装备箱",1),o.dispatch("showGets",{"实用装备箱":1})),o.dispatch("usingGameRewardFun","afterPlayEquVideo"),o.dispatch("usingHeroInfoLayerFun","isShowAdBtn");break;default:o.dispatch("tipsViewShow","参数类型错误："+i.curAdRewardType)}},afterPlayAdError:function(){switch(i.curAdRewardType){case"getItems":o.dispatch("tipsViewShow","获取奖励失败");break;case"rebirthHero":o.dispatch("closeRebirthAd");break;case"getDoubleReward":o.dispatch("closeGetDoubleRewardAd");break;case"getEquBox":case"getAllUpgradeReward":o.dispatch("tipsViewShow","获取奖励失败");break;case"updateUpgradeReward":o.dispatch("tipsViewShow","刷新奖励失败");break;default:o.dispatch("tipsViewShow","参数类型错误："+i.curAdRewardType)}},getTwoPointFlyDir:function(e,t){var a=e.x-t.x,r=e.y-t.y,s={x:0,y:0};return 0===a&&0===r?(s.x=1,s.y=0):0===a?(s.x=0,s.y=Math.abs(r)/r):0===r?(s.x=Math.abs(a)/a,s.y=0):Math.abs(a)>=Math.abs(r)?(s.x=Math.abs(a)/a,s.y=r/Math.abs(a)):(s.x=a/Math.abs(r),s.y=Math.abs(r)/r),s},towPointDisGreaterThanValue:function(e,t,a){var r=e.x-t.x,s=e.y-t.y;return r*r+s*s>a}});t._RF.pop()}}}));

System.register("chunks:///_virtual/GreenThunder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemySkill.ts"],(function(e){"use strict";var n,r,t,i;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator},function(e){i=e.EnemySkill}],execute:function(){var s;r._RF.push({},"fa205J2QNhCM6XEN0hsqKzD","GreenThunder",void 0);var u=t.ccclass;t.property,e("GreenThunder",u("GreenThunder")(s=function(e){function r(){return e.apply(this,arguments)||this}return n(r,e),r.prototype.init=function(e){this._skillName="greenThunder",this._damage=e,this.initCollider()},r}(i))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/Guard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,n,i,o,a,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.em},function(t){a=t.tagData,s=t.ggd},function(t){r=t.Weapon}],execute:function(){var c;n._RF.push({},"f0a2dmCnJBInb6cEYwE9QoG","Guard",void 0);var l=i.ccclass;t("Guard",l("Guard")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.init=function(t,e){this.initWeaponInfo(e,t);var n=t.name;this.initCircleCollider(a[n],-10)},i.colliderMonster=function(t){var e=this;if(s.stopAll)this.scheduleOnce((function(){e.colliderMonster(t)}),this._attackInterval);else if(this.isTouching(t)){var n=o.dispatch("usingHeroControlFun","getCurDamage")+this._damage;o.dispatch("createDamageTex",t.node,n,{x:0,y:20}),t.node.getComponent("Monster").updateBlood(-n),this.scheduleOnce((function(){e.colliderMonster(t)}),this._attackInterval)}},i.colliderBoss=function(t){var e=this;if(s.stopAll)this.scheduleOnce((function(){e.colliderBoss(t)}),this._attackInterval);else if(this.isTouching(t)){o.dispatch("createDamageTex",t.node,this._damage,{x:0,y:20});var n=t.node.parent.components[0];if(!n)throw"script name is different form node name.";var i=o.dispatch("usingHeroControlFun","getCurDamage")+this._damage;n.updateBlood(-i),this.scheduleOnce((function(){e.colliderBoss(t)}),this._attackInterval)}},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/HellFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,a,i,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,i=t._decorator},function(t){n=t.em},function(t){r=t.tagData},function(t){s=t.Weapon}],execute:function(){var o;a._RF.push({},"037bdybLU9JVYPgEIJ1NPSt","HellFire",void 0);var l=i.ccclass;i.property,t("HellFire",l("HellFire")(o=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var i=a.prototype;return i.init=function(){this.initSkillData()},i.initSkillData=function(){var t=n.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","hellFire");this._damage=t.baseDamage+(n.dispatch("usingHeroControlFun","getCurDamage")*t.damageTimes|0),this._moveSpeed=0,this._canAttackTimes=1/0,this._backDis=0,this._attackInterval=1,this._weaponName=t.name2,this.clearCacheData(),this.initBoxCollider(r.sword)},a}(s))||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/helpLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts"],(function(t){"use strict";var e,n,a,o,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.Component},function(t){s=t.em},function(t){r=t.ggd}],execute:function(){var i;n._RF.push({},"1aea51RUbNFdL7S/YxOX6C2","helpLayer",void 0);var c=a.ccclass;a.property,t("helpLayer",c("helpLayer")(i=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.onBtnUnlockAllStages=function(){r.stageProgress=80,s.dispatch("savingGlobalDataToTempData")},a.onBtnUnlockNextStages=function(){r.stageProgress>=80||(r.stageProgress++,s.dispatch("savingGlobalDataToTempData"))},a.onBtnOpenHelpLayer=function(){this.node.active=!0},a.onBtnCloseHelpLayer=function(){this.node.active=!1},a.onBtnOpenDamageImmunity=function(){s.dispatch("usingHeroControlFun","openDamageImmunity")},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/HeroBaseProperty.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){"use strict";var t,i,o,a,r,s,n,u,l,c,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,n=e._decorator,u=e.JsonAsset,l=e.director,c=e.Component},function(e){v=e.em}],execute:function(){var h,L,f,p,d,b,g,_,y,B,D,k,q,m,E,w,H;s._RF.push({},"18e13h041hCKrr/q+F1r+Zb","HeroBaseProperty",void 0);var P=n.ccclass,C=n.property;e("HeroBaseProperty",(h=P("HeroBaseProperty"),L=C(u),f=C(u),p=C(u),d=C(u),b=C(u),g=C(u),_=C(u),h((D=t((B=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"heroPropertyDataJson",D,a(t)),o(t,"trainingLvListJson",k,a(t)),o(t,"skillBookListJson",q,a(t)),o(t,"bossDataListJson",m,a(t)),o(t,"equQualityListJson",E,a(t)),o(t,"equEffectListJson",w,a(t)),o(t,"equLevelListJsonArr",H,a(t)),t._heroData=void 0,t._trainingLvList=void 0,t._skillBookList={},t._bossDataList={},t._equQualityList={},t._equLevelList={},t._equEffectList={},t._percentageBloodLv=void 0,t._percentageDamageLv=void 0,t._moveSpeedLv=void 0,t._percentageMoveSpeedLv=void 0,t._criticalHitRateLv=void 0,t._bonusBulletTotalLv=void 0,t._bonusBulletMoveSpeedLv=void 0,t._bonusBulletAttackTimesLv=void 0,t._recoveryHealthyLv=void 0,t._expAdditionLv=void 0,t._divineStoneAdditionLv=void 0,t._heroCurEqu={"法器":"","防具":"","鞋":""},t}i(t,e);var s=t.prototype;return s.onDestroy=function(){v.remove("usingHeroBasePropertyFun")},s.onLoad=function(){this._heroData=this.heroPropertyDataJson.json[0],this._trainingLvList=this.trainingLvListJson.json,this.initSkillBookData(),this.initBossConfigList(),this.initEquData(),v.add("usingHeroBasePropertyFun",this.usingHeroBasePropertyFun.bind(this)),l.addPersistRootNode(this.node)},s.start=function(){this.initHeroCurEqu()},s.initSkillBookData=function(){var e=this;this.skillBookListJson.json.forEach((function(t){var i=t.name,o=t.name2;e._skillBookList[i]=t,e._skillBookList[o]=t}))},s.initBossConfigList=function(){var e=this;this.bossDataListJson.json.forEach((function(t){var i=t.id;e._bossDataList[i]=t}))},s.initEquData=function(){var e,t=this,i=this.equQualityListJson.json,o=(e=[],t.equLevelListJsonArr.forEach((function(t){e=e.concat(t.json)})),e),a=this.equEffectListJson.json;i.forEach((function(e){var i=e.name;t._equQualityList[i]=e})),o.forEach((function(e){var i=e.name;t._equLevelList[i]=e})),a.forEach((function(e){var i=e.id;t._equEffectList[i]=e}))},s.initHeroCurEqu=function(){var e=v.dispatch("getTempData","curEquData");if(e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=e[t];this._heroCurEqu.hasOwnProperty(t)&&(this._heroCurEqu[t]=i)}},s.onEnable=function(){this.initBasePropertyLv()},s.initBasePropertyLv=function(){var e=v.dispatch("getTempData","HeroBasePropertyLvList");null==e&&(e={percentageBloodLv:1,percentageDamageLv:1,percentageMoveSpeedLv:1,moveSpeedLv:1,criticalHitRateLv:1,bonusBulletTotalLv:1,bonusBulletMoveSpeedLv:1,bonusBulletAttackTimesLv:1,recoveryHealthyLv:1,expAdditionLv:1,divineStoneAdditionLv:10}),this._percentageBloodLv=e.percentageBloodLv,this._percentageDamageLv=e.percentageDamageLv,this._percentageMoveSpeedLv=e.percentageMoveSpeedLv,this._moveSpeedLv=e.moveSpeedLv,this._criticalHitRateLv=e.criticalHitRateLv,this._bonusBulletTotalLv=e.bonusBulletTotalLv,this._bonusBulletMoveSpeedLv=e.bonusBulletMoveSpeedLv,this._bonusBulletAttackTimesLv=e.bonusBulletAttackTimesLv,this._recoveryHealthyLv=e.recoveryHealthyLv,this._expAdditionLv=e.expAdditionLv,this._divineStoneAdditionLv=e.divineStoneAdditionLv},s.savingLvData=function(){var e={percentageBloodLv:this._percentageBloodLv,percentageDamageLv:this._percentageDamageLv,moveSpeedLv:this._moveSpeedLv,percentageMoveSpeedLv:this._percentageMoveSpeedLv,criticalHitRateLv:this._criticalHitRateLv,bonusBulletTotalLv:this._bonusBulletTotalLv,bonusBulletMoveSpeedLv:this._bonusBulletMoveSpeedLv,bonusBulletAttackTimesLv:this._bonusBulletAttackTimesLv,recoveryHealthyLv:this._recoveryHealthyLv,expAdditionLv:this._expAdditionLv,divineStoneAdditionLv:this._divineStoneAdditionLv};v.dispatch("savingToTempData","HeroBasePropertyLvList",e)},s.usingHeroBasePropertyFun=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(this[e]&&"function"==typeof this[e])return this[e].apply(this,i);throw e+" is not fun or undefined"},s.getHeroBaseProperty=function(e){if(!this._heroData.hasOwnProperty(e))throw"不存在属性"+e;var t=this["_"+e+"Lv"];return t?this._heroData[e][t-1]:this._heroData[e][0]},s.getHeroBasePropertyLvDetail=function(e){if(!this._heroData.hasOwnProperty(e))throw"不存在属性"+e;return this._heroData[e]},s.getHeroBasePropertyCurLv=function(e){if(!this._heroData.hasOwnProperty(e))throw"不存在属性"+e;return this["_"+e+"Lv"]},s.upgradeBaseProperty=function(e){if(!this._heroData.hasOwnProperty(e))throw"不存在属性"+e;this["_"+e+"Lv"]++,this.savingLvData()},s.getTrainingData=function(e){var t=v.dispatch("getTempData","training");return null!==t?this._trainingLvList[t.curLv][e]:this._trainingLvList[0][e]},s.getAllAboutSkillBook=function(){return this.skillBookListJson.json},s.getSkillBookDataByIdOrName=function(e){if(this._skillBookList.hasOwnProperty(e))return this._skillBookList[e];throw e+" of _skillBookList is null"},s.getAllEquData=function(){return this._heroCurEqu},s.getEquNameByType=function(e){if(!this._heroCurEqu.hasOwnProperty(e))throw"当前装备类型 "+e+" 不存在";return this._heroCurEqu[e]},s.getEquDataByName=function(e){var t=e.indexOf("（");if(t<0)return null;var i=e.slice(0,t),o=e.slice(2),a=this._equQualityList[i],r=this._equLevelList[o];if(!a||!r)throw console.log("qKey",i),console.log("lKey",o),console.log("qValue",a),console.log("lValue",r),"q or l value is null";return{qData:a,lData:r}},s.switchEqu=function(e,t){if(!this._heroCurEqu.hasOwnProperty(e))throw"当前装备类型 "+e+" 不存在";this._heroCurEqu[e]=t,this.savingEquData()},s.savingEquData=function(){v.dispatch("savingToTempData","curEquData",this._heroCurEqu)},s.getCurHeroEqu=function(e){if(this._heroCurEqu.hasOwnProperty(e))return this._heroCurEqu[e];throw"type is error,cur type is "+e},s.getCurHeroUsingWeaponData=function(){var e=this.getCurHeroEqu("法器");return this.getEquDataByName(e)},s.getCurHeroUsingWeaponType=function(){var e=this._heroCurEqu.法器;if(!e)return"";var t=e.indexOf("（");return e.slice(2,t)},s.getEquEffectData=function(e){if(!this._equEffectList.hasOwnProperty(e))throw"词条"+e+"不存在";return this._equEffectList[e]},s.getBasePropertyValueByEqu=function(){var e={effectList:[],baseDamage:0,moveSpeed:0,blood:0,CHR:0,CHD:0,bonusCHD:0,bonusBulletTotal:0,bonusBulletAttackTimes:0,bonusMoveSpeed:0,bonusBackDis:0,slowResistance:0,damageReduce:0,slowPer:0};for(var t in console.log("this._heroCurEqu",this._heroCurEqu),this._heroCurEqu){var i=this._heroCurEqu[t];if(i){for(var o,a=this.getEquDataByName(i),s=a.lData,n=a.qData.effect,u=r(n);!(o=u()).done;){var l=o.value;e.effectList.indexOf(l)<0&&e.effectList.push(l)}for(var c in console.log("equData",a),s)if(e.hasOwnProperty(c)){var v=this.getValidValueByEffects(s[c],c,n);e[c]+=v}this.addEffectsValue(n,e)}}return console.log("BPV",e),e},s.addEffectsValue=function(e,t){for(var i,o=r(e);!(i=o()).done;){switch(i.value){case 5:t.slowPer+=.1;break;case 6:t.slowPer+=.2;break;case 7:t.slowPer+=.3;break;case 8:t.slowPer+=.4;break;case 2001:t.bonusCHD+=.1;break;case 2002:t.bonusCHD+=.2;break;case 2003:t.bonusCHD+=.3;break;case 2004:t.bonusBulletAttackTimes+=1;break;case 2005:t.bonusBulletAttackTimes+=2;break;case 2006:t.bonusBulletAttackTimes+=3;break;case 2007:t.slowResistance+=.5;break;case 2008:t.slowResistance+=.75;break;case 2009:t.slowResistance+=1;break;case 2010:t.damageReduce+=.1;break;case 2011:t.damageReduce+=.2;break;case 2012:t.damageReduce+=.3;break;case 2013:t.bonusCHD+=.1;break;case 2014:t.bonusCHD+=.2;break;case 2015:t.bonusCHD+=.3;break;case 2016:t.bonusMoveSpeed+=10;break;case 2017:t.bonusMoveSpeed+=20;break;case 2018:t.bonusMoveSpeed+=30;break;case 2019:t.bonusMoveSpeed+=40;break;case 2020:t.bonusMoveSpeed+=50;break;case 2021:t.bonusBackDis+=50;break;case 2022:t.bonusBackDis+=100;break;case 5007:t.bonusBulletTotal+=1;break;case 5008:t.bonusBulletTotal+=2;break;case 5009:t.bonusBulletTotal+=3}}},s.getValidValueByEffects=function(e,t,i){if(i.indexOf(1)>-1&&"baseDamage"==t)return 0;if(i.indexOf(3)>-1&&"baseDamage"==t)return.8*e;if(i.indexOf(4)>-1){if("blood"==t)return.5*e;if("CHR"==t)return 0;if("baseDamage"==t)return 0}return i.indexOf(1012)>-1?1.1*e:i.indexOf(1013)>-1?1.3*e:i.indexOf(1014)>-1?1.5*e:e},s.getBossDataById=function(e){if(this._bossDataList.hasOwnProperty(e))return this._bossDataList[e];throw e+" of _bossDataList is null"},t}(c)).prototype,"heroPropertyDataJson",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(B.prototype,"trainingLvListJson",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(B.prototype,"skillBookListJson",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(B.prototype,"bossDataListJson",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(B.prototype,"equQualityListJson",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(B.prototype,"equEffectListJson",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(B.prototype,"equLevelListJsonArr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=B))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/HeroCollider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts"],(function(e){"use strict";var t,o,n,i,r,a,s,l,c,u,h,d;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,i=e.BoxCollider2D,r=e.UITransform,a=e.Size,s=e.Contact2DType,l=e.Component},function(e){c=e.em},function(e){u=e.tagData,h=e.groupIndex,d=e.ggd}],execute:function(){var g;o._RF.push({},"5519573lqJDRowrqZ0eN66i","HeroCollider",void 0);var f=n.ccclass;n.property,e("HeroCollider",f("HeroCollider")(g=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this)._touchFireBallFire=!1,t._isInsideObs=!1,t}t(o,e);var n=o.prototype;return n.start=function(){this.openCollider()},n.openCollider=function(){var e=this.getComponent(i);e||(e=this.node.addComponent(i));var t=this.node.getComponent(r),o=new a(t.contentSize.x/2,t.contentSize.y);e.tag=u.hero,e.size=o,e.group=h.self,e.on(s.BEGIN_CONTACT,this.onBeginContact,this),e.on(s.END_CONTACT,this.onEndContact,this)},n.onBeginContact=function(e,t){var o=this;switch(t.tag){case u.fireBall:this.fireBallAttackHero();break;case u.fireBallFire:this._touchFireBallFire=!0,this.fireBallFireAttackHero();break;case u.obstacle:this._isInsideObs=!0,c.dispatch("usingHeroControlFun","changeMoveState",!1);this.schedule((function e(){o._isInsideObs?c.dispatch("usingHeroControlFun","ejectFormObs"):o.unschedule(e)}),.01);break;case u.randomSkillReward:t.node.destroy(),c.dispatch("usingHeroControlFun","selectUpgradeReward");break;default:if([u.boss,u.monster,u.enemySkill].indexOf(t.tag)>-1)break;throw new Error("未处理的碰撞开始："+e.tag+"与"+t.tag+"发生碰撞")}},n.onEndContact=function(e,t){switch(t.tag){case u.fireBallFire:this._touchFireBallFire=!1;break;case u.obstacle:console.log("碰撞障碍物 未处理"),this._isInsideObs=!1,c.dispatch("usingHeroControlFun","changeMoveState",!0)}},n.fireBallAttackHero=function(){if(!d.stopAll){c.dispatch("usingHeroControlFun","createBossDamageTex",-10)}},n.fireBallFireAttackHero=function(){var e=this;if(!d.stopAll&&this._touchFireBallFire){c.dispatch("usingHeroControlFun","createBossDamageTex",-8);this.scheduleOnce((function(){e.fireBallFireAttackHero()}),.5)}},o}(l))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/HeroControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./LevelManager.ts","./globalFun.ts"],(function(e){"use strict";var t,i,o,r,s,n,a,h,u,l,c,d,p,g,_,f,m,v,y,B,S,b,M,D,P,A,w,x,H,T,C,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e._decorator,h=e.Sprite,u=e.Node,l=e.JsonAsset,c=e.Label,d=e.Prefab,p=e.Material,g=e.input,_=e.Input,f=e.view,m=e.PhysicsSystem2D,v=e.EPhysics2DDrawFlags,y=e.find,B=e.Animation,S=e.Collider2D,b=e.Rect,M=e.game,D=e.BoxCollider2D,P=e.Color,A=e.instantiate,w=e.Component},function(e){x=e.em},function(e){H=e.ggd,T=e.tagData},function(e){C=e.LevelManager},function(e){R=e.glf}],execute:function(){var k,L,F,I,E,G,O,W,z,U,N,V,J,j,q,Q,Y,X,Z,K,$,ee,te,ie,oe,re,se;n._RF.push({},"4ed82YzdmNLu7le/hYjoBZp","HeroControl",void 0);var ne=a.ccclass,ae=a.property;e("HeroControl",(k=ne("HeroControl"),L=ae(h),F=ae(h),I=ae(u),E=ae(h),G=ae(l),O=ae(l),W=ae(c),z=ae(u),U=ae(d),N=ae(u),V=ae(d),J=ae([p]),k((Q=t((q=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,o(t,"bloodSprite",Q,r(t)),o(t,"shieldSprite",Y,r(t)),o(t,"heroSprite",X,r(t)),o(t,"expProgress",Z,r(t)),o(t,"expDataJson",K,r(t)),o(t,"heroPropertyDataJson",$,r(t)),o(t,"lvDescription",ee,r(t)),o(t,"GameUILayer",te,r(t)),o(t,"itemInPlaying",ie,r(t)),o(t,"curDirPar",oe,r(t)),o(t,"flyingThunderGodPrefab",re,r(t)),o(t,"heroMaterial",se,r(t)),t._flyingThunderGodCount=0,t._flyingThunderGodMark=void 0,t._spriteAnim=void 0,t._heroData=void 0,t._expData=void 0,t._curDirection={x:1,y:0},t._curAimDir={x:1,y:0},t._canMove=!1,t._LM=void 0,t._WM=void 0,t._baseBlood=void 0,t._bonusBlood=void 0,t._curBlood=void 0,t._baseMoveSpeed=void 0,t._bonusMoveSpeed=void 0,t._baseDamage=void 0,t._bonusDamage=void 0,t._criticalHitRate=void 0,t._bonusCriticalHitRate=void 0,t._bonusCriticalHitDamage=void 0,t._bonusBulletTotal=0,t._bonusBulletMoveSpeed=0,t._bonusBulletDuration=0,t._bonusBulletAttackTimes=0,t._bonusBackDis=0,t._recoveryHealthy=0,t._expAddition=0,t._divineStoneAddition=0,t._damageReduce=0,t._slowResistance=0,t._continueSlowPer=0,t._moveSpeedTimes=1,t._changeHeroMoveSpeedCountdown=0,t._tempCriticalHitRate=0,t._tempPercentageDamage=0,t._isDamageImmunity=!1,t._percentageDamage=void 0,t._percentageBlood=void 0,t._percentageMoveSpeed=void 0,t._bonusPercentageDamage=void 0,t._bonusPercentageBlood=void 0,t._bonusPercentageMoveSpeed=void 0,t._effectList=void 0,t._trackDisappearCountdown=0,t._shieldList={iceShield:!1,effect5006:!1},t._maxShield=0,t._curShield=0,t._openAutoScript=!1,t._deBuffList={banMove:!1,slow:{percent:0,value:0,time:0}},t._touchMoveId=void 0,t._touchShotId=void 0,t._heroPuppet=null,t._canRebirthByAdTimes=1,t._gameRunTimer=0,t}i(t,e);var n=t.prototype;return n.onDestroy=function(){x.remove("getHeroWorldPos"),x.remove("getTargetWorldPos"),x.remove("usingHeroControlFun"),x.remove("getHeroControlProperty"),x.remove("rebirthHero"),x.remove("closeRebirthAd"),g.off(_.EventType.TOUCH_START,this.touchStart,this),g.off(_.EventType.TOUCH_MOVE,this.touchMove,this),g.off(_.EventType.TOUCH_END,this.touchEnd,this)},n.onLoad=function(){var e=this;x.add("getHeroWorldPos",this.getHeroWorldPos.bind(this)),x.add("getTargetWorldPos",this.getTargetWorldPos.bind(this)),x.add("usingHeroControlFun",this.usingHeroControlFun.bind(this)),x.add("getHeroControlProperty",this.getHeroControlProperty.bind(this)),x.add("rebirthHero",this.rebirthHero.bind(this)),x.add("closeRebirthAd",this.closeRebirthAd.bind(this)),g.on(_.EventType.TOUCH_START,this.touchStart,this),g.on(_.EventType.TOUCH_MOVE,this.touchMove,this),g.on(_.EventType.TOUCH_END,this.touchEnd,this),this.initHeroData(),this.initComponents(),this.initOutScripts(),this._curDirection={x:0,y:0},this.schedule(this.continueRecoveryHealthy,1),this.createRandomSkill(),this.schedule((function(){H.stopAll||(e._gameRunTimer++,e.activeEffects())}),1)},n.createRandomSkill=function(){for(var e=this,t=1+5*Math.random()|0,i=[{x:-500,y:0},{x:500,y:0},{x:0,y:500},{x:0,y:500},{x:-500,y:500},{x:500,y:500},{x:-500,y:-500},{x:500,y:-500}],o=function(t){var o=i[t];x.dispatch("loadTheDirResources","images/items/skillBook/spriteFrame",(function(t){var i=A(e.itemInPlaying);i.parent=y("Canvas/bulletLayer"),i.setPosition(o.x,o.y,0),i.getComponent(h).spriteFrame=t,i.getComponent("ItemInPlaying").init(T.randomSkillReward)}))},r=0;r<t;r++)o(r)},n.start=function(){},n.showViewInfo=function(){console.log("view",f),console.log("getVisibleSize",f.getVisibleSize())},n.openPhysicalDraw=function(){m.instance.enable=!0,m.instance.debugDrawFlags=v.Aabb|v.Pair|v.CenterOfMass|v.Joint|v.Shape},n.initHeroData=function(){this._heroData=this.heroPropertyDataJson.json[0],this.initExpData(),this.initHeroDataByLv(),this.updateBloodProgress(0)},n.initExpData=function(){this._expData=this.expDataJson.json;var e={level:1,maxLevel:this._expData.length,curExp:0,levelMappingExpList:this._expData};this._LM=new C(e),this.lvDescription.string="LV:"+this._LM.level},n.initHeroDataByLv=function(){var e=x.dispatch("usingHeroBasePropertyFun","getBasePropertyValueByEqu");this._effectList=e.effectList,console.log("hero data",this._heroData),this._slowResistance=e.slowResistance,this._slowResistance>1||this._slowResistance,this._damageReduce=e.damageReduce,this._continueSlowPer=e.slowPer,this._baseBlood=x.dispatch("usingHeroBasePropertyFun","getTrainingData","blood")+e.blood,this._baseMoveSpeed=x.dispatch("usingHeroBasePropertyFun","getTrainingData","moveSpeed")+e.moveSpeed,this._baseMoveSpeed+=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","moveSpeed"),this._baseDamage=x.dispatch("usingHeroBasePropertyFun","getTrainingData","damage")+e.baseDamage,this._percentageBlood=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","percentageBlood"),this._percentageDamage=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","percentageDamage"),this._percentageMoveSpeed=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","percentageMoveSpeed"),this._percentageMoveSpeed=0,this._criticalHitRate=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","criticalHitRate")+e.CHR,this._bonusCriticalHitDamage=e.CHD+e.bonusCHD,this._bonusBulletTotal=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","bonusBulletTotal"),this._bonusBulletTotal=e.bonusBulletTotal,this._bonusBulletMoveSpeed=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","bonusBulletMoveSpeed")+e.bonusMoveSpeed,this._bonusBulletDuration=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","bonusBulletDuration"),this._bonusBulletAttackTimes=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","bonusBulletAttackTimes")+e.bonusBulletAttackTimes,this._bonusBackDis=e.bonusBackDis,this._recoveryHealthy=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","recoveryHealthy"),this._expAddition=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","expAddition")/100,this._divineStoneAddition=x.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty","divineStoneAddition")/100,this._bonusBlood=0,this._bonusMoveSpeed=0,this._bonusDamage=0,this._bonusCriticalHitRate=0,this._bonusPercentageBlood=0,this._bonusPercentageMoveSpeed=0,this._bonusPercentageDamage=0,this._curBlood=this.getMaxBlood(),this.updateBloodProgress(0)},n.getHeroPropertiesDes=function(){var e="英雄属性:\n",t="基础血量："+this._baseBlood+"\n",i="基础移速："+this._baseMoveSpeed+"\n",o="基础伤害："+this._baseDamage+"\n",r="基础暴击率："+this._criticalHitRate+"\n",s="血量百分比加成："+this._percentageBlood+"\n",n="伤害百分比加成："+this._percentageDamage+"\n",a="移速百分比加成："+this._percentageMoveSpeed+"\n",h="额外血量："+this._bonusBlood+"\n",u="额外移速："+this._bonusMoveSpeed+"\n",l="额外伤害："+this._bonusDamage+"\n",c="额外暴击率："+this._bonusCriticalHitRate+"\n",d="额外血量百分比加成："+this._bonusPercentageBlood+"\n",p="额外移速百分比加成："+this._bonusPercentageMoveSpeed+"\n",g="额外伤害百分比加成："+this._bonusPercentageDamage+"\n",_="临时暴击率："+this._tempCriticalHitRate+"\n",f="临时百分比加成："+this._tempPercentageDamage+"\n";return e+="当前血量："+this._curBlood+"/"+this.getMaxBlood()+"\n"+("当前护盾："+this._curShield+"\n")+("当前伤害："+this.getCurDamage()+"\n")+("当前移速："+this.getCurMoveSpeed()+"\n")+("当前暴击率："+this.getCurCHR()+"\n")+t+i+o+r+f+s+n+a+h+u+l+c+d+p+g+_},n.initComponents=function(){this._spriteAnim=y("sprite",this.node).getComponent(B)},n.initOutScripts=function(){this._WM=y("weapon",this.node).getComponent("WeaponManager")},n.update=function(e){this.heroMoveControl(e);var t=this._curDirection.x,i=this._curDirection.y,o=(-1*t+0*i)/(Math.sqrt(1)*Math.sqrt(t*t+i*i)),r=Math.acos(o)/Math.PI*180;this._curDirection.y>0&&(r=360-r),this.curDirPar.angle=r},n.heroMoveControl=function(e){if(this._canMove&&!H.stopAll){var t=this._curDirection;x.dispatch("usingMapLayerFun","updateMap",t);var i=this.getCurMoveSpeed(),o=this.isCollideObs(t.x*e*i,t.y*e*i);o?this.node.setPosition(this.node.position.x+o.x,this.node.position.y+o.y):this.node.setPosition(this.node.position.x+t.x*e*i,this.node.position.y+t.y*e*i)}},n.isCollideObs=function(e,t){for(var i,o=x.dispatch("usingMapLayerFun","getAllObs"),r=this.heroSprite.getWorldPosition(),n=this.heroSprite.getComponent(S),a=new b(n.worldAABB.x+e,n.worldAABB.y+t,n.worldAABB.width,n.worldAABB.height),h=s(o);!(i=h()).done;){var u=i.value,l=u.node.getWorldPosition();if(!this.getTwoPointDistance(r,l>300)&&this.rectIsIntersectsRect(a,u.worldAABB)){if(0!==e&&0!==t)return a=new b(n.worldAABB.x+e,n.worldAABB.y,n.worldAABB.width,n.worldAABB.height),this.rectIsIntersectsRect(a,u.worldAABB)?(a=new b(n.worldAABB.x,n.worldAABB.y+t,n.worldAABB.width,n.worldAABB.height),!this.rectIsIntersectsRect(a,u.worldAABB)&&{x:0,y:t}):{x:e,y:0};if(0===e&&0!==t){if(a=new b(n.worldAABB.x,n.worldAABB.y+t,n.worldAABB.width,n.worldAABB.height),!this.rectIsIntersectsRect(a,u.worldAABB))return{x:0,y:t}}else{if(0===e||0!==t)return!1;if(a=new b(n.worldAABB.x+e,n.worldAABB.y,n.worldAABB.width,n.worldAABB.height),!this.rectIsIntersectsRect(a,u.worldAABB))return{x:e,y:0}}}}return!1},n.getTwoPointDistance=function(e,t){var i=e.x-t.x,o=e.y-t.y;return Math.sqrt(i*i+o*o)},n.rectIsIntersectsRect=function(e,t){return e.intersects(t)},n.changeMoveState=function(e){this._canMove=e},n.touchStart=function(e){if(!H.stopAll){var t=e.getID();void 0===this._touchMoveId?(this._touchMoveId=t,this.heroMoveByTouchStart()):null==this._touchShotId?(this._touchShotId=t,this.heroShotByTouchStart(e)):this._touchMoveId===t?this.heroMoveByTouchStart():this._touchShotId===t?this.heroShotByTouchStart(e):console.log("暂未处理的第三次触摸 start")}},n.touchMove=function(e){if(!H.stopAll){var t=e.getID();t===this._touchMoveId?this.heroMoveByTouchMove(e):t===this._touchShotId?this.heroShotByTouchMove(e):console.log("暂未处理的第三次触摸 move")}},n.touchEnd=function(e){var t=e.getID();t===this._touchMoveId?this.heroMoveByTouchEnd():t===this._touchShotId?this.heroShotByTouchEnd():console.log("暂未处理的第三次触摸 end")},n.recoveryTouchRawState=function(){this._touchMoveId=void 0,this._touchShotId=void 0,this._canMove=!1},n.setDirByTouchOffset=function(e){if(0==e.x)this._curDirection.x=0,this._curDirection.y=Math.abs(e.y)/e.y;else if(0==e.y)this._curDirection.x=Math.abs(e.x)/e.x,this._curDirection.y=0;else{var t=Math.abs(e.x/e.y);t>=1?(this._curDirection.x=Math.abs(e.x)/e.x,this._curDirection.y=1/t*Math.abs(e.y)/e.y):(this._curDirection.x=t*Math.abs(e.x)/e.x,this._curDirection.y=Math.abs(e.y)/e.y)}this._curDirection.x<=0?this.heroSprite.setScale(1,1,1):this.heroSprite.setScale(-1,1,1)},n.continueRecoveryHealthy=function(){if(!H.stopAll){var e=Math.ceil(this.getMaxBlood()*this._recoveryHealthy);this.updateBloodProgress(e)}},n.heroMoveByTouchStart=function(){this._canMove=!0},n.heroMoveByTouchMove=function(e){var t=e.touch.getStartLocation(),i=e.touch.getLocation(),o={};o.x=i.x-t.x,o.y=i.y-t.y,0==o.x&&0==o.y||this.setDirByTouchOffset(o)},n.heroMoveByTouchEnd=function(){this._canMove=!1,this._touchMoveId=void 0},n.heroShotByTouchStart=function(e){console.log("射击开始"),this.updateShotDirByTouch(e)},n.heroShotByTouchMove=function(e){console.log("保持射击"),this.updateShotDirByTouch(e)},n.heroShotByTouchEnd=function(){console.log("射击结束"),this._touchShotId=void 0},n.updateShotDirByTouch=function(e){var t=f.getVisibleSize(),i=e.getLocationX()-t.width/2,o=e.getLocationY()-t.height/2;0===i&&0===o?(this._curAimDir.x=1,this._curAimDir.y=0):0===i?(this._curAimDir.x=0,this._curAimDir.y=Math.abs(o)/o):0===o?(this._curAimDir.x=Math.abs(i)/i,this._curAimDir.y=0):Math.abs(i)>=Math.abs(o)?(this._curAimDir.x=Math.abs(i)/i,this._curAimDir.y=o/Math.abs(i)):(this._curAimDir.x=i/Math.abs(o),this._curAimDir.y=Math.abs(o)/o),console.log("shotDir",this._curAimDir),console.log("x",i),console.log("y",o)},n.usingHeroControlFun=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(this[e]&&"function"==typeof this[e])return this[e].apply(this,i);throw e+" is not fun or undefined"},n.getHeroControlProperty=function(e){if(this.hasOwnProperty(e))return this[e];throw"hero control 中不存在属性："+e},n.pauseGame=function(){this._spriteAnim.pause(),H.stopAll=!0,x.dispatch("usingMonsterManagerFun","pauseAllAnim"),x.dispatch("usingGameAnimManagerFun","pauseAllAnim")},n.resumeGame=function(){y("Canvas/heroLayer/GameUILayer/passRewardLayer").active||(this._spriteAnim.resume(),H.stopAll=!1,x.dispatch("usingMonsterManagerFun","resumeAllAnim"),x.dispatch("usingGameAnimManagerFun","resumeAllAnim"))},n.getHeroWorldPos=function(){return this.heroSprite.getWorldPosition()},n.getRandomPosNearbyHero=function(e,t){var i=this.heroSprite.getWorldPosition();return i.x+=(e+Math.random()*t|0)*(Math.random()>.5?1:-1),i.y+=e+Math.random()*t|0*(Math.random()>.5?1:-1),i},n.getTargetWorldPos=function(){return this._heroPuppet?this._heroPuppet.getWorldPosition():this.heroSprite.getWorldPosition()},n.getRandomPosNearHero=function(e){void 0===e&&(e=200);var t=this.heroSprite.getWorldPosition(),i=Math.random()*e|0,o=Math.random()*e|0;return i=Math.random()>.5?i:-i,o=Math.random()>.5?o:-o,{x:t.x+i,y:t.y+o}},n.updatePercentageBloodProgress=function(e){var t=this.getMaxBlood()*e;this.updateBloodProgress(t)},n.updateBloodProgress=function(e){if(!H.stopAll){if(e<0)e=e*(1-(x.dispatch("usingSkillManagerFun","getPercentageReduceDamageFromSecretSkill")+this._damageReduce))|0,x.dispatch("createDamageTex",this.heroSprite,e,{x:0,y:50}),x.dispatch("usingSkillManagerFun","updateSecretSkillTimesAfterAttacked");e<0&&this._curShield>0?this.updateShieldProgress(e):(this._curBlood+=e,this._curBlood<0&&(this._curBlood=0,this.pauseGame(),H.isOpenAd&&this._canRebirthByAdTimes>0?(this._canRebirthByAdTimes--,this.showRebirthAd()):this.showGameOver()),this._curBlood>this.getMaxBlood()&&(this._curBlood=this.getMaxBlood()),this.bloodSprite.fillRange=this._curBlood/this.getMaxBlood())}},n.makeBloodFull=function(){this._curBlood=this.getMaxBlood(),this.bloodSprite.fillRange=this._curBlood/this.getMaxBlood()},n.showRebirthAd=function(){y("Canvas/heroLayer/GameUILayer/rebirthAd").active=!0},n.onBtnPlayAds=function(){H.curAdRewardType="rebirthHero",R.playAd(),y("Canvas/heroLayer/GameUILayer/rebirthAd").active=!1},n.rebirthHero=function(){var e=this;console.log("复活玩家"),this._isDamageImmunity=!0,this.scheduleOnce((function(){e._isDamageImmunity=!1}),5),this.makeBloodFull(),this.resumeGame()},n.closeRebirthAd=function(){y("Canvas/heroLayer/GameUILayer/rebirthAd").active=!1,this.showGameOver()},n.updateShieldProgress=function(e){this._curShield+=e,this._curShield=this._curShield>this._maxShield?this._maxShield:this._curShield,this._curShield>0?this.shieldSprite.fillRange=this._curShield/this._maxShield:(this._curShield=0,this.shieldSprite.node.parent.active=!1,e-=this._curShield,this.updateBloodProgress(e))},n.openShield=function(e,t){!1===this._shieldList[t]&&(this._shieldList[t]=!0,this._maxShield+=e),this._curShield+=e,this._curShield=this._curShield>this._maxShield?this._maxShield:this._curShield,this.shieldSprite.fillRange=this._curShield/this._maxShield,this.shieldSprite.node.parent.active=!0},n.showGameOver=function(){H.stopAll=!0,this._WM.isUsingSword(!1),this._spriteAnim.stop(),x.dispatch("endStage")},n.updateExpProgress=function(e){e*=1+this._expAddition,this._LM.addExp(e)&&(this.lvDescription.string="LV:"+this._LM.level,this.selectUpgradeReward(),this.updateBloodProgress(0));var t=this._LM.getExpProgress();t=null==t?0:t,this.expProgress.fillRange=t},n.selectUpgradeReward=function(){this.pauseGame(),y("selectWeapon",this.GameUILayer).active=!0,x.dispatch("updateSelectWeapon")},n.isPlayHeroAnim=function(e){e?(this._spriteAnim.resume(),console.log("继续播放")):(this._spriteAnim.pause(),console.log("停止播放"))},n.createBossDamageTex=function(e){this._isDamageImmunity||(x.dispatch("createDamageTex",this.node,e,{x:0,y:50}),this.updateBloodProgress(e))},n.restartGame=function(){H.stopAll=!1,M.restart()},n.updateBonusValue=function(e,t){console.log("刷新额外属性 ,还没写");var i="",o={1:.01,2:.02,3:.03,4:.04,5:.05};switch(e){case"blood":this._bonusPercentageBlood+=o[t],this._bonusPercentageBlood=(100*this._bonusPercentageBlood|0)/100;var r=(this._baseBlood+this._bonusBlood)*o[t]|0;this.updateBloodProgress(r),i="血量+"+100*o[t]+"%";break;case"damage":this._bonusPercentageDamage+=o[t],this._bonusPercentageDamage=(100*this._bonusPercentageDamage|0)/100,i="伤害+"+100*o[t]+"%";break;case"moveSpeed":this._bonusPercentageMoveSpeed+=o[t],this._bonusPercentageMoveSpeed=(100*this._bonusPercentageMoveSpeed|0)/100,i="移速+"+100*o[t]+"%";break;case"superArmor":this._bonusPercentageBlood+=o[t],this._bonusPercentageBlood=(100*this._bonusPercentageBlood|0)/100;var s=(this._baseBlood+this._bonusBlood)*o[t]|0;this.updateBloodProgress(s),i+="血量+"+100*o[t]+"%",this._bonusPercentageDamage+=o[t],this._bonusPercentageDamage=(100*this._bonusPercentageDamage|0)/100,i+="伤害+"+100*o[t]+"%";break;default:throw"strength type is error"}return i},n.openDamageImmunity=function(){this._isDamageImmunity=!0},n.ejectFormObs=function(){this.node.setPosition(this.node.position.x-5*this._curDirection.x,this.node.position.y-5*this._curDirection.y)},n.seekTreeFirstEnemyDir=function(){var e=x.dispatch("getCurMonsterQuadtree"),t=this.heroSprite.getComponent(D).worldAABB,i=e.retrieve(t);if(i.length){var o=i[0],r={x:o.x+o.width/2,y:o.y+o.height/2},s=x.dispatch("getHeroWorldPos");return R.getTwoPointFlyDir(r,s)}return null},n.seekTreeRandomNEnemyDir=function(e){var t=x.dispatch("getCurMonsterQuadtree"),i=this.heroSprite.getComponent(D).worldAABB,o=t.retrieve(i);if(o.length){for(var r=[],s=0;s<e;s++){var n=o[Math.random()*o.length|0],a={x:n.x+n.width/2,y:n.y+n.height/2},h=x.dispatch("getHeroWorldPos"),u=R.getTwoPointFlyDir(a,h);r.push(u)}return r}return null},n.seekTreeNEnemyPos=function(e){var t=x.dispatch("getCurMonsterQuadtree"),i=this.heroSprite.getComponent(D).worldAABB,o=t.retrieve(i);if(o.length){for(var r=[],s=Math.random()*o.length|0,n=0;n<e;n++){var a=o[s=s>=o.length?0:s],h={x:a.x+a.width/2,y:a.y+a.height/2};r.push(h),s++}return r}return null},n.seekTreeRandomOneEnemyPos=function(){var e=x.dispatch("getCurMonsterQuadtree"),t=this.heroSprite.getComponent(D).worldAABB,i=e.retrieve(t);if(i.length){var o=i[Math.random()*i.length|0];return{x:o.x+o.width/2,y:o.y+o.height/2}}return null},n.getMaxBlood=function(){return(this._baseBlood+this._bonusBlood)*(1+this._bonusPercentageBlood+this._percentageBlood)|0},n.getCurMoveSpeed=function(){if(this._deBuffList.banMove)return 0;var e=this._baseMoveSpeed+this._bonusMoveSpeed-this._deBuffList.slow.value*(1-this._slowResistance);e<0&&(e=0);var t=(this._deBuffList.slow.percent+this._continueSlowPer)*(1-this._slowResistance);return e*((this._moveSpeedTimes+this._bonusPercentageMoveSpeed+this._percentageMoveSpeed)*(1-t))+x.dispatch("usingSkillManagerFun","getMoveSpeedFromSecretSkill")|0},n.getCurDamage=function(){var e=this._baseDamage+this._bonusDamage,t=x.dispatch("usingSkillManagerFun","getDamageValueFromSecretSkill"),i=x.dispatch("usingSkillManagerFun","getPercentageDamageFromSecretSkill"),o=(e+t)*(1+this._bonusPercentageDamage+this._percentageDamage+i+this._tempPercentageDamage);return parseInt(o.toFixed())},n.getCurCHR=function(){var e=this._criticalHitRate+this._tempCriticalHitRate+this._bonusCriticalHitRate;return e+=x.dispatch("usingSkillManagerFun","getCHRFromSecretSkill")},n.isCriticalHit=function(){return 100*Math.random()<this.getCurCHR()},n.getCurCriticalHitDamage=function(){return 2+this._bonusCriticalHitDamage},n.addDebuffBanMove=function(e){var t=this;console.log("addDebuffBanMove"),this._deBuffList.banMove=!0;this.schedule((function i(){H.stopAll||--e<=0&&(t.unschedule(i),t._deBuffList.banMove=!1)}),1)},n.addDebuffSlow=function(e,t,i){console.log("addDebuffSlow"),x.dispatch("createTipsTex","减速"),this._deBuffList.slow.time=e,this._deBuffList.slow.value+=t,this._deBuffList.slow.percent+=0,this._deBuffList.slow.percent>1&&(this._deBuffList.slow.percent=1),this.unschedule(this.addDebuffSlowCallFun),this.schedule(this.addDebuffSlowCallFun,1)},n.addDebuffSlowCallFun=function(){H.stopAll||(this._deBuffList.slow.time--,this._deBuffList.slow.time<=0&&(this.unschedule(this.addDebuffSlowCallFun),this._deBuffList.slow.time=0,this._deBuffList.slow.percent=0,this._deBuffList.slow.value=0))},n.changeHeroMoveSpeed=function(e,t){this._moveSpeedTimes=e,this._changeHeroMoveSpeedCountdown=t,this.schedule(this.changeHeroMoveSpeedCountdownRun,1)},n.changeHeroMoveSpeedCountdownRun=function(){this._changeHeroMoveSpeedCountdown--,this._changeHeroMoveSpeedCountdown<=0&&(this._moveSpeedTimes=1,this._changeHeroMoveSpeedCountdown=0)},n.updateTempCriticalHitRate=function(e){this._tempCriticalHitRate+=e},n.updateBonusCriticalHitRate=function(e){this._bonusCriticalHitRate+=e},n.updateTempPercentageDamage=function(e){this._tempPercentageDamage+=e},n.updateBonusMoveSpeed=function(e){this._bonusMoveSpeed+=e},n.isOpenCollectGas=function(e){y("effect/collectGasEffect",this.node).active=e},n.isOpenLikeSpringBreeze=function(e){y("effect/likeSpringBreeze",this.node).active=e},n.isOpenThunderGodPower=function(e){y("effect/thunderGodPower",this.node).active=e},n.isOpenSnowEffect=function(e){y("effect/snowEffect",this.node).active=e},n.usingSkillTrackDisappear=function(e){console.log("usingSkillTrackDisappear",e),this._trackDisappearCountdown=e,this._isDamageImmunity=!0,this._spriteAnim.play("trackDisappear"),this.unschedule(this.trackDisappearSchedule),this.schedule(this.trackDisappearSchedule,1)},n.trackDisappearSchedule=function(){H.stopAll||(this._trackDisappearCountdown--,this._trackDisappearCountdown<=0&&(this._isDamageImmunity=!1,this._spriteAnim.play("heroRun"),this.node.getChildByName("sprite").getComponent(h).color=new P(255,255,255,255),this.unschedule(this.trackDisappearSchedule)))},n.usingSkillLionRoar=function(){var e=x.dispatch("usingMonsterManagerFun","getAllMonsterScript"),t=x.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","怒狮狂吼");e.forEach((function(e){e.getDistanceToHero()<300&&(e.monsterIsRepelled(150),e.addDebuffTimid(t.duration))}))},n.usingSkillIceShield=function(){var e=x.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","iceShield"),t=this.getMaxBlood()*e.damageTimes;this.openShield(t,"iceShield")},n.usingSkillMoveLikeShadow=function(){var e=this,t=x.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","moveLikeShadow"),i=this.getMaxBlood()*t.damageTimes;x.dispatch("loadTheDirResources","/prefabs/hero/weapon/moveLikeShadow",(function(t){var o=A(t),r=e.getHeroWorldPos();o.parent=y("Canvas/puppetLayer"),o.setWorldPosition(r),o.getComponent("MoveLikeShadow").init(i),e._heroPuppet=o}))},n.resetHeroPuppet=function(){this._heroPuppet=null},n.usingSkillFlyingThunderGod=function(){if(this._flyingThunderGodCount%2==0){console.log("留下标记");var e=A(this.flyingThunderGodPrefab);e.parent=y("Canvas/bulletLayer");var t=this.getHeroWorldPos();e.setWorldPosition(t),this._flyingThunderGodMark=e,this._flyingThunderGodCount++}else{console.log("回到标记");var i=this._flyingThunderGodMark.getWorldPosition();this.resetFlyingThunderGodCount(),this.node.setWorldPosition(i)}},n.resetFlyingThunderGodCount=function(){if(this._flyingThunderGodCount=0,this._flyingThunderGodMark){var e=this._flyingThunderGodMark;this._flyingThunderGodMark=null,e.destroy()}},n.activeEffects=function(){this._effectList.indexOf(5010)>-1&&this._gameRunTimer%50==0&&this.activeEffect5010(),this._effectList.indexOf(5006)>-1&&this._gameRunTimer%30==0&&this.activeEffect5006()},n.activeEffect5006=function(){x.dispatch("createTipsTex","重甲之魂");var e=.2*this.getMaxBlood()|0;this.openShield(e,"effect5006")},n.activeEffect5010=function(){var e=this;x.dispatch("createTipsTex","无敌风火轮"),this._isDamageImmunity=!0,this.switchMaterial(1);var t=10;this.schedule((function i(){H.stopAll||--t<=0&&(e.unschedule(i),e._isDamageImmunity=!1,e.switchMaterial(),x.dispatch("createTipsTex","无敌风火轮结束"))}),1)},n.switchMaterial=function(e){switch(void 0===e&&(e=0),e){case 0:this.heroSprite.getComponent(h).material=this.heroMaterial[0];break;case 1:this.heroSprite.getComponent(h).material=this.heroMaterial[1];break;default:console.warn("不存在材质index="+e)}},n.openHangupTest=function(){this._openAutoScript=!0,x.dispatch("usingWeaponManagerFun","usingMaxLvWeapon")},t}(w)).prototype,"bloodSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(q.prototype,"shieldSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(q.prototype,"heroSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(q.prototype,"expProgress",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(q.prototype,"expDataJson",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(q.prototype,"heroPropertyDataJson",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(q.prototype,"lvDescription",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(q.prototype,"GameUILayer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(q.prototype,"itemInPlaying",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(q.prototype,"curDirPar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(q.prototype,"flyingThunderGodPrefab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(q.prototype,"heroMaterial",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=q))||j));n._RF.pop()}}}));

System.register("chunks:///_virtual/HeroInfoLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts","./PoolManager.ts"],(function(e){"use strict";var t,a,r,i,o,n,s,c,l,u,h,p,d,g,m,f,y,v,B,b,S,P,I,w,C,D,_,H;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,c=e.SpriteFrame,l=e.Prefab,u=e.Node,h=e.find,p=e.NodePool,d=e.Sprite,g=e.Label,m=e.Animation,f=e.tween,y=e.Vec3,v=e.Color,B=e.RichText,b=e.ProgressBar,S=e.Slider,P=e.Tween,I=e.Component,w=e.instantiate},function(e){C=e.em},function(e){D=e.ggd},function(e){_=e.glf},function(e){H=e.plm}],execute:function(){var F,L,N,k,T,q,A,R,E,G,M,O,x,z,U,V,Q,j,J,K,Y,W,X;n._RF.push({},"506f9zuJdRKlbDiCkIyUYSC","HeroInfoLayer",void 0);var Z=s.ccclass,$=s.property;e("HeroInfoLayer",(F=Z("HeroInfoLayer"),L=$([c]),N=$(l),k=$(l),T=$(u),q=$(u),A=$(u),R=$(u),E=$(u),G=$(u),M=$([c]),F((z=t((x=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"selectBtnSF",z,i(t)),r(t,"HPPrefab",U,i(t)),r(t,"itemPrefab",V,i(t)),r(t,"HPPrefabPar",Q,i(t)),r(t,"itemPrefabPar",j,i(t)),r(t,"maskPar",J,i(t)),r(t,"guideFinger",K,i(t)),r(t,"adGetBox",Y,i(t)),r(t,"adGetEqu",W,i(t)),r(t,"itemQBg",X,i(t)),t._curSelectItemData=void 0,t._tipsViewNode=void 0,t._itemPrefabArr=[],t._propertyPrefabArr=[],t._btnArr=[],t._HPNode=void 0,t._SSNode=void 0,t._eqBtnList={},t._equPrefab=void 0,t._layerNode=[],t._config=["percentageBlood","percentageDamage","moveSpeed","criticalHitRate","bonusBulletMoveSpeed","bonusBulletAttackTimes","recoveryHealthy","expAddition","divineStoneAddition"],t._nameConfig={percentageBlood:"血量百分比加成",percentageDamage:"伤害百分比加成",percentageMoveSpeed:"移速百分比加成",moveSpeed:"基础移速",criticalHitRate:"暴击率",bonusBulletTotal:"法宝额外数量",bonusBulletMoveSpeed:"法宝额外飞行速度",bonusBulletAttackTimes:"法宝穿透次数",recoveryHealthy:"基础生命恢复",expAddition:"游戏内经验加成",divineStoneAddition:"灵石加成"},t._equProbabilityList={1:[.9,.99,1],2:[.4,.95,.99,1],3:[0,.5,.95,.99,1],4:[0,.2,.6,.95,1],5:[0,0,.2,.9,1]},t._equList=["巨剑","长剑","巨弩","连弩","巨斧","旋转斧","风火轮","筋斗云","重甲","法袍"],t._rewardConfig=void 0,t}a(t,e);var n=t.prototype;return n.onDestroy=function(){C.remove("usingHeroInfoLayerFun")},n.onLoad=function(){C.add("usingHeroInfoLayerFun",this.usingHeroInfoLayerFun.bind(this)),this._btnArr.push(h("selectBtnPar/btn1",this.node)),this._btnArr.push(h("selectBtnPar/btn2",this.node)),this._HPNode=h("/heroProperty",this.node),this._SSNode=h("/storageSpace",this.node),this._layerNode.push(this._HPNode,this._SSNode),this._tipsViewNode=h("/heroProperty/tipsViewShow",this.node),H.addPoolToPools("SSLItemPrefab",new p,this.itemPrefab),this.initRewardConfig()},n.initRewardConfig=function(){this._rewardConfig={"一阶宝箱":["一阶妖丹","一阶道法果","一阶功法残卷","灵石","炼气丹","一阶功法整卷"],"一阶宝箱Ratio":[30,5,5,500,5,.5],"二阶宝箱":["二阶妖丹","二阶道法果","二阶功法残卷","灵石","筑基丹","二阶功法整卷"],"二阶宝箱Ratio":[30,5,4,5e3,5,.3],"三阶宝箱":["三阶妖丹","三阶道法果","三阶功法残卷","灵石","金元丹","三阶功法整卷"],"三阶宝箱Ratio":[30,5,3,5e4,5,.1],"四阶宝箱":["四阶妖丹","四阶道法果","四阶功法残卷","灵石","元婴丹","四阶功法整卷"],"四阶宝箱Ratio":[30,5,1,5e5,5,.1],"五阶宝箱":["五阶妖丹","五阶道法果","五阶功法残卷","灵石","化神丹","五阶功法整卷"],"五阶宝箱Ratio":[30,5,1,5e6,5,.1],"一阶功法整卷":[],"一阶功法整卷Ratio":[],"二阶功法整卷":[],"二阶功法整卷Ratio":[],"三阶功法整卷":[],"三阶功法整卷Ratio":[],"四阶功法整卷":[],"四阶功法整卷Ratio":[],"五阶功法整卷":[],"五阶功法整卷Ratio":[]};var e=C.dispatch("usingHeroBasePropertyFun","getAllAboutSkillBook");for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];switch(a.lv){case 1:this._rewardConfig.一阶功法整卷.push(a.name),this._rewardConfig.一阶功法整卷Ratio.push(a.rareRatio);break;case 2:this._rewardConfig.二阶功法整卷.push(a.name),this._rewardConfig.二阶功法整卷Ratio.push(a.rareRatio);break;case 3:this._rewardConfig.三阶功法整卷.push(a.name),this._rewardConfig.三阶功法整卷Ratio.push(a.rareRatio);break;case 4:this._rewardConfig.四阶功法整卷.push(a.name),this._rewardConfig.四阶功法整卷Ratio.push(a.rareRatio);break;case 5:this._rewardConfig.五阶功法整卷.push(a.name),this._rewardConfig.五阶功法整卷Ratio.push(a.rareRatio);break;default:throw"暂未处理："+a.lv+"阶功法。"}}console.log("_rewardConfig",this._rewardConfig)},n.onEnable=function(){C.dispatch("getGuideData").HeroInfoLayer||this.startHeroInfoLayerGuide(),this.onSelectBtn(null,"2"),h("/itemDetail/ProgressBar",this.node).active=!1,h("/itemDetail",this.node).active=!1,this.initHeroCurEqu()},n.start=function(){this.isShowAdBtn(),this.initHeroProperty()},n.usingHeroInfoLayerFun=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];if(this[e]&&"function"==typeof this[e])return this[e].apply(this,a);throw e+" is not fun or undefined"},n.isShowAdBtn=function(){D.isOpenAd?this.adGetBox.active=!0:this.adGetBox.active=!1,D.isOpenAd&&!C.dispatch("usingGameRewardFun","todayEquVideoIsCanShow")?this.adGetEqu.active=!0:this.adGetEqu.active=!1},n.initHeroProperty=function(){for(var e=this,t=function(t){var a=e._config[t],r=C.dispatch("usingHeroBasePropertyFun","getHeroBasePropertyCurLv",a),i=w(e.HPPrefab);i.parent=e.HPPrefabPar;var o=i.getChildByName("icon").getComponent(d),n="images/icons/baseProperty/icon_"+a+"/spriteFrame";C.dispatch("loadTheDirResources",n,(function(e){return o.spriteFrame=e})),i.getChildByName("description").getComponent(g).string="Lv:"+r+"\n"+e._nameConfig[a],i.getChildByName("value").getComponent(g).string=C.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty",a);var s=i.getChildByName("upgrade");_.createButton(e.node,i.getChildByName("icon"),"HeroInfoLayer","onBtnBaseProperty",a),_.createButton(e.node,s,"HeroInfoLayer","onBtnUpgrade",a),e._propertyPrefabArr.push(i)},a=0;a<this._config.length;a++)t(a)},n.onSelectBtn=function(e,t){switch(null!==e&&C.dispatch("playOneShot","common/通用按键"),this.updateBtnSF(parseInt(t)-1),t){case"1":this.onBtn1();break;case"2":this.onBtn2();break;default:throw"p is err,current p is "+t}},n.updateBtnSF=function(e){var t=this;this._btnArr.forEach((function(a,r){a.getComponent(d).spriteFrame=r==e?t.selectBtnSF[2*r+1]:t.selectBtnSF[2*r]}))},n.onBtn1=function(){this.openLayer(this._HPNode),C.dispatch("getGuideData").HeroInfoLayerProperty||this.startPropertyGuide()},n.onBtn2=function(){this.updateStorageSpace(),this.openLayer(this._SSNode),C.dispatch("getGuideData").HeroInfoLayerSpace||this.startSpaceGuide()},n.openLayer=function(e){this._layerNode.forEach((function(t){t.active=e==t}))},n.onBtnBaseProperty=function(e,t){console.log("p",t);var a=this.getUpgradeDescription(t);this.tipsViewShow(a,3)},n.onBtnUpgrade=function(e,t){this.guideFinger.active=!1,C.dispatch("getGuideData").TrainingLayer||C.dispatch("initMainMenuByGuideData");var a=this.isCanUpgrade(t);if(a){C.dispatch("reduceItemFromSS",a,1),C.dispatch("usingHeroBasePropertyFun","upgradeBaseProperty",t);var r=C.dispatch("usingHeroBasePropertyFun","getHeroBasePropertyCurLv",t),i=C.dispatch("usingHeroBasePropertyFun","getHeroBaseProperty",t),o=e.target.parent;o.getChildByName("description").getComponent(g).string="Lv:"+r+"\n"+this._nameConfig[t];var n=o.getChildByName("value");n.getComponent(g).string=i,n.getComponent(m).play()}},n.isCanUpgrade=function(e){var t=C.dispatch("usingHeroBasePropertyFun","getHeroBasePropertyCurLv",e);if(t>=50)return C.dispatch("tipsViewShow","已到达最大等级 无法升级"),!1;var a="",r=Math.ceil(t/10);switch(r){case 1:a="一阶道法果";break;case 2:a="二阶道法果";break;case 3:a="三阶道法果";break;case 4:a="四阶道法果";break;case 5:a="五阶道法果";break;default:console.warn("itemLv is "+r)}return C.dispatch("getItemTotalByIdOrName",a)>0?a:(C.dispatch("tipsViewShow",a+"不足,无法升级"),!1)},n.getUpgradeDescription=function(e){var t=C.dispatch("usingHeroBasePropertyFun","getHeroBasePropertyCurLv",e),a=C.dispatch("usingHeroBasePropertyFun","getHeroBasePropertyLvDetail",e);console.log("lv",t),console.log("lvDetail",a);var r="";return a.forEach((function(e,t){r+=t+1+":"+e+", "})),r},n.tipsViewShow=function(e,t){void 0===e&&(e="请传参"),void 0===t&&(t=1),this._tipsViewNode.children[0].getComponent(g).string=e;var a=f().to(.5,{scale:new y(1,1,1)},{onUpdate:function(e,t){var a=e.getComponent(d).color;e.getComponent(d).color=v.lerp(new v,a,new v(a.r,a.g,a.b,255),t)}}),r=f().to(.5,{scale:new y(1,1,1)},{onUpdate:function(e,t){var a=e.getComponent(d).color;e.getComponent(d).color=v.lerp(new v,a,new v(a.r,a.g,a.b,0),t)}}),i=f().delay(t);f(this._tipsViewNode).sequence(a,i,r).start()},n.updateStorageSpace=function(){for(var e=this;this._itemPrefabArr.length>0;){var t=this._itemPrefabArr.shift();H.putToPool("SSLItemPrefab",t)}var a=C.dispatch("getItemList"),r=function(t){var r=a[t];if("灵石"==t||"3"==t)return"continue";var i=C.dispatch("getItemDataByIdOrName",t),o=H.getFromPool("SSLItemPrefab");o.parent=e.itemPrefabPar,o.getChildByName("itemBg").getComponent(d).spriteFrame=e.itemQBg[i.quality-1],e.initPrefabLv(o,i);var n=o.getChildByName("sprite").getComponent(d),s=i.loadUrl;i.loadUrl||(s="item_default"),s="images/items/"+s+"/spriteFrame",C.dispatch("loadTheDirResources",s,(function(e){return n.spriteFrame=e}),(function(){C.dispatch("loadTheDirResources","images/items/item_default/spriteFrame",(function(e){return n.spriteFrame=e}))})),o.getChildByName("total").getComponent(g).string=r,o.itemName=i.name,e._itemPrefabArr.push(o),_.createButton(e.node,o.getChildByName("itemBg"),"HeroInfoLayer","onBtnItem",t)};for(var i in a)r(i)},n.initPrefabLv=function(e,t){var a=e.getChildByName("lv").getComponent(g);if("装备"==t.type&&t.lv){console.log("初始化阶");a.string={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"}[t.lv]}else a.string=""},n.onBtnItem=function(e,t){console.log("onBtnItem",t),this.guideFinger.active=!1;var a=C.dispatch("getItemDataByIdOrName",t);switch(this._curSelectItemData=a,a.type){case"材料":this.showItemDetail([0]);break;case"消耗品":"道法果"==a.type2&&C.dispatch("getGuideData").HeroInfoLayerProperty,this.showItemDetail([0,1]);break;case"others":console.log("others 还没写");break;case"可合成材料":this.showItemDetail([0,2]);break;case"装备":this.showItemDetail([0,1]);break;default:console.warn("未处理的类型："+a.type)}},n.viewEquDetail=function(e){var t=e.target;this._curSelectItemData=t.data,this.showItemDetail()},n.showItemDetail=function(e){void 0===e&&(e=[]),console.log("showItemDetail",this._curSelectItemData);var t=this.getColorStrByQuality(this._curSelectItemData.quality-1);this.maskPar.getChildByName("name").getComponent(B).string=t+this._curSelectItemData.name+"</color>",this.maskPar.getChildByName("description").getComponent(B).string=this._curSelectItemData.description,"装备"==this._curSelectItemData.type&&this.showEquDetail(),this.maskPar.getChildByName("btnPar").children.forEach((function(t,a){e.indexOf(a)>-1?t.active=!0:t.active=!1})),this.maskPar.active=!0},n.showEquDetail=function(){console.log("展示装备详情");for(var e,t=C.dispatch("usingHeroBasePropertyFun","getEquDataByName",this._curSelectItemData.name),a=t.qData.effect,r="",i=o(a);!(e=i()).done;){var n=e.value,s=C.dispatch("usingHeroBasePropertyFun","getEquEffectData",n);console.log("effect",s),r=r+this.getColorStrByType(s.type-1)+s.name+":"+s.description+"</color>\n"}t.lData.baseDamage&&(r=r+"基础伤害:+"+t.lData.baseDamage+"\n"),t.lData.damageTimes&&(r=r+"伤害加成倍数:+"+t.lData.damageTimes+"\n"),t.lData.attackInterval&&(r=r+"攻击间隔:"+t.lData.attackInterval+"\n"),t.lData.blood&&(r=r+"血量:+"+t.lData.blood+"\n"),t.lData.CHR&&(r=r+"暴击率:+"+t.lData.CHR+"\n"),t.lData.moveSpeed&&(r=r+"移动速度:+"+t.lData.moveSpeed+"\n"),console.log("showEquDetail",r),this.maskPar.getChildByName("description").getComponent(B).string=r},n.getColorStrByType=function(e){return["<color=#757575>","<color=#A474CF>","<color=#DDA75A>"][e]},n.getColorStrByQuality=function(e){return["<color=#599A65>","<color=#728CC7>","<color=#A474CF>","<color=#C65C37>","<color=#DDA75A>"][e]},n.onBtnSell=function(){this.showProgressBar(),this.showItemDetail([3,4])},n.onBtnConfirmSell=function(){console.log("确定卖出");var e=h("/itemDetail/ProgressBar",this.node).getComponent(b).progress,t=this._curSelectItemData,a=C.dispatch("getItemTotalByIdOrName",t.name);a=Math.floor(a*e);var r=t.price*a;C.dispatch("reduceItemFromSS",t.name,a),C.dispatch("addItemToSS","灵石",r),this.updateStorageSpace(),this.maskPar.active=!1,h("Canvas/menuLayer/title/lingshiTotalBg/total").getComponent(g).string=C.dispatch("getItemTotalByIdOrName","灵石"),this.closeProgressBar()},n.onBtnCancelSell=function(){this.closeItemDetail()},n.showProgressBar=function(){var e=h("/itemDetail/ProgressBar",this.node);e.getComponent(b).progress=0,e.getComponent(S).progress=0;var t=C.dispatch("getItemTotalByIdOrName",this._curSelectItemData.name);e.getChildByName("Label").getComponent(g).string="数量：0/"+t+"\n价格：0",e.active=!0},n.closeProgressBar=function(){h("/itemDetail/ProgressBar",this.node).active=!1},n.slideProgressBar=function(e){var t=h("/itemDetail/ProgressBar",this.node),a=e.progress;t.getComponent(b).progress=a;var r=C.dispatch("getItemTotalByIdOrName",this._curSelectItemData.name),i=Math.floor(r*a),o=i*this._curSelectItemData.price;t.getChildByName("Label").getComponent(g).string="数量："+i+"/"+r+"\n价格："+o},n.onBtnUsing=function(){if("装备"==this._curSelectItemData.type)return this.closeItemDetail(),void this.switchEqu();switch(this._curSelectItemData.type2){case"道法果":this.closeItemDetail(),this.onSelectBtn(null,"1");break;case"丹药":this.closeItemDetail(),C.dispatch("switchMainMenuLayer",null,"3");break;case"功法":this.closeItemDetail(),C.dispatch("switchMainMenuLayer",null,"5");break;case"宝箱":this.openTreasureChest();break;case"装备箱":this.openEquBox();break;default:console.warn("未处理的类型"+this._curSelectItemData.type2)}},n.openEquBox=function(){C.dispatch("reduceItemFromSS",this._curSelectItemData.name,1),this.maskPar.active=!1;var e=this.getEquByBoxType();for(var t in C.dispatch("showGets",e),e)Object.prototype.hasOwnProperty.call(e,t)&&C.dispatch("addItemToSS",t,e[t]);this.updateStorageSpace()},n.getEquByBoxType=function(){var e={},t=this._equProbabilityList[this._curSelectItemData.quality];if(!t)throw"probabilityArray is error";for(var a,r=["破旧","实用","稀有","传说","史诗"],i=Math.random(),o=0;o<t.length;o++){if(t[o]>i){a=r[o];break}}if(!a)throw"quality is error.";var n=a+this._equList[Math.random()*this._equList.length|0]+"（一阶）";return e[n]=1,console.log("equ",n),e},n.openTreasureChest=function(){C.dispatch("reduceItemFromSS",this._curSelectItemData.name,1),this.maskPar.active=!1;var e=this._curSelectItemData.name,t=this._rewardConfig[e],a=this._rewardConfig[e+"Ratio"],r={};if(a.every((function(e){return e<=1}))){for(var i,o=Math.random(),n=0;n<a.length;n++){if(a[n]>=o){i=n;break}}r[t[i]]=1}else for(var s=0;s<t.length;s++){var c=t[s],l=a[s];if(l>1){var u=Math.random()*l|0;u>0&&(r[c]=u)}else Math.random()<l&&(r[c]=1)}for(var p in console.log("gets",r),C.dispatch("showGets",r),r)Object.prototype.hasOwnProperty.call(r,p)&&(console.log("key",p),C.dispatch("addItemToSS",p,r[p]));this.updateStorageSpace();var d=C.dispatch("getItemTotalByIdOrName","灵石");h("Canvas/menuLayer/title/lingshiTotalBg/total").getComponent(g).string=d},n.onBtnMerge=function(){this.maskPar.active=!1;var e=this._curSelectItemData,t=C.dispatch("getItemTotalByIdOrName",e.name);if(t<e.mergeDemandTotal)C.dispatch("tipsViewShow",e.name+"数量不足，无法合成");else{var a=Math.floor(t/e.mergeDemandTotal),r=a*e.mergeDemandTotal;C.dispatch("reduceItemFromSS",e.name,r),C.dispatch("addItemToSS",e.mergeTarget,a);var i={};i[e.mergeTarget]=a,C.dispatch("showGets",i),this.updateStorageSpace()}},n.closeItemDetail=function(){this.closeProgressBar(),this.maskPar.active=!1},n.initHeroCurEqu=function(){var e=C.dispatch("usingHeroBasePropertyFun","getAllEquData");for(var t in e){var a=e[t];if(a){var r=C.dispatch("getItemDataByIdOrName",a);this.takeEqu(t,r)}}},n.switchEqu=function(){var e=this._curSelectItemData,t=e.type2,a=C.dispatch("usingHeroBasePropertyFun","getEquNameByType",t);a&&C.dispatch("addItemToSS",a,1),this.takeEqu(t,e),C.dispatch("usingHeroBasePropertyFun","switchEqu",t,e.name),C.dispatch("reduceItemFromSS",e.name,1),this.updateStorageSpace()},n.takeEqu=function(e,t){var a=t.loadUrl;a||(a="item_default"),a="images/items/"+a+"/spriteFrame",h("heroInfoBg/"+e,this.node).getComponent(d).spriteFrame=this.itemQBg[t.quality-1];var r=h("heroInfoBg/"+e+"/sprite",this.node).getComponent(d);r.node.data=t,_.createButton(this.node,r.node,"HeroInfoLayer","viewEquDetail"),C.dispatch("loadTheDirResources",a,(function(e){return r.spriteFrame=e}));var i=h("heroInfoBg/"+e+"/label",this.node).getComponent(g);if(console.log("data.lv",t.lv),t.lv){i.string={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"}[t.lv]}else i.string=""},n.startHeroInfoLayerGuide=function(){C.dispatch("setGuideData","HeroInfoLayer",!0),h("Canvas/menuLayer/guideFinger").active=!1},n.startSpaceGuide=function(){C.dispatch("addItemToSS","一阶道法果",1);C.dispatch("tipsViewShow","获得物品一阶道法果x1"),this.updateStorageSpace();var e=null;console.log("this._itemPrefabArr",this._itemPrefabArr);for(var t,a=o(this._itemPrefabArr);!(t=a()).done;){var r=t.value;if("一阶道法果"==r.itemName){e=r;break}}if(e){var i=this.guideFinger;i.active=!0,i.parent=e,i.setPosition(0,150,0);var n=f().by(.5,{position:new y(0,-100,0)}),s=f().by(.5,{position:new y(0,100,0)}),c=f(i).sequence(n,s);(c=f(i).repeatForever(c)).tag(2),c.start()}C.dispatch("setGuideData","HeroInfoLayerSpace",!0)},n.startPropertyGuide=function(){P.stopAllByTag(2),C.dispatch("openGuideTips","点击属性末端的按钮+，可以提升相应的属性。一阶道法果可以提升1到10级的基础属性。当等级到达一定程度后必须使用更高阶的道法果提升属性。");var e=this._propertyPrefabArr[1],t=this.guideFinger;t.active=!0,t.parent=e.getChildByName("upgrade"),t.setPosition(0,200,0);var a=f().by(.5,{position:new y(0,-100,0)}),r=f().by(.5,{position:new y(0,100,0)}),i=f(t).sequence(a,r);(i=f(t).repeatForever(i)).tag(2),i.start(),C.dispatch("setGuideData","HeroInfoLayerProperty",!0)},t}(I)).prototype,"selectBtnSF",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"HPPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(x.prototype,"itemPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(x.prototype,"HPPrefabPar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(x.prototype,"itemPrefabPar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(x.prototype,"maskPar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(x.prototype,"guideFinger",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(x.prototype,"adGetBox",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(x.prototype,"adGetEqu",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(x.prototype,"itemQBg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=x))||O));n._RF.pop()}}}));

System.register("chunks:///_virtual/HeroWeapon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.Component}],execute:function(){var c;o._RF.push({},"e8855FX8i9K5KSg1caZAyvx","HeroWeapon",void 0);var u=n.ccclass;n.property,e("HerpWeapon",u("HeroWeapon")(c=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.start=function(){},n.update=function(e){},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["cc","./globalData.ts"],(function(e){"use strict";var t,o,n;return{setters:[function(e){t=e.cclegacy,o=e.sys},function(e){n=e.ggd}],execute:function(){t._RF.push({},"feea6/nvANI9aAqPuZStDYe","HttpRequest",void 0);e("hr",new(function(){function e(){}var t=e.prototype;return t.get=function(e,t,o,n,a){void 0===n&&(n=null),void 0===a&&(a=null);var r=new XMLHttpRequest,s=t,u="?";for(var l in s){var i=l+"="+s[l];u+="?"==u?i:"&"+i}console.log("get:请求路径",e+u),r.open("GET",e+u),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),this.xhrBindCallback(r,o,n,a),r.send()},t.post=function(e,t,o,n,a){if(void 0===n&&(n=null),void 0===a&&(a=null),"object"!=typeof t)return console.log("参数不是对象 传输错误");var r=new XMLHttpRequest;r.open("POST",e),this.setRequestHeader(r),this.xhrBindCallback(r,o,n,a),r.send(JSON.stringify(t))},t.setRequestHeader=function(e){e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("version",101),e.setRequestHeader("nonce",Date.now());var t=n.phoneInfo.imei;if(t)e.setRequestHeader("imei",t);else{var a=o.localStorage.getItem("imei");a||(a=this.randomCreateImei(),o.localStorage.setItem("imei",a)),e.setRequestHeader("imei",a)}"Android"==o.os?e.setRequestHeader("os","ANDROID"):"iOS"==o.os?e.setRequestHeader("os","IOS"):e.setRequestHeader("os","PC"),n.userInfo.token&&e.setRequestHeader("Authorization","Bearer "+n.userInfo.token)},t.randomCreateImei=function(){for(var e=[],t="0123456789abcdef",o=0;o<36;o++)e[o]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.xhrBindCallback=function(e,t,o,n){var a=this;e.onreadystatechange=function(){if(4==e.readyState)if(e.status>=200&&e.status<=207){var o=JSON.parse(e.responseText);t?t(o):a.runDefaultCompleteCallback(o)}else console.log("xhr.status",e.status)},e.onerror=function(){1==e.readyState&&0==e.status?o?o("断网"):a.runDefaultErrorCallback("断网"):o?o("未知错误"):a.runDefaultErrorCallback("未知错误")},e.timeout=6e4,e.ontimeout=function(e){n?n(e):a.runDefaultTimeoutCallback(e)}},t.runDefaultCompleteCallback=function(e){console.log("run Default Complete Callback"),console.log("response",e)},t.runDefaultErrorCallback=function(e){console.log("run Default Error Callback"),console.log("string",e)},t.runDefaultTimeoutCallback=function(e){console.log("run default timeout callback"),console.log("e",e)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/IceCone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,i,n,a,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){a=t.em},function(t){o=t.tagData},function(t){s=t.Weapon}],execute:function(){var c;i._RF.push({},"9e8786GKzVCk5+Ipdf+NqEC","IceCone",void 0);var r=n.ccclass;n.property,t("IceCone",r("IceCone")(c=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(t,e){this.initSkillData(t,e),a.dispatch("playOneShot","battle/frozen")},n.initSkillData=function(t,e){this._damage=t.damage,this._duration=t.duration,this._moveSpeed=t.moveSpeed,this._canAttackTimes=t.canAttackTimes,this._backDis=0,this._attackInterval=.5,this._weaponName=t.name,this._flyDir=e,this.clearCacheData(),this.initBoxCollider(o.sword),this.changeBulletRotationByFlyDir()},n.colliderMonster=function(t){if(!this.isStopRun(t)&&!this.isHasAttacked(t.node.uuid)){this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--;var e=t.node.getComponent("Monster");e&&e.addDebuffFrozen(5),this._canAttackTimes<=0&&this.recoveryToPool()}},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/IceSpiritNeedle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,i,o,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){n=t.tagData},function(t){s=t.Weapon}],execute:function(){var r;i._RF.push({},"abb99lVTjpIqZrYUR8CaJ9y","IceSpiritNeedle",void 0);var c=o.ccclass;o.property,t("IceSpiritNeedle",c("IceSpiritNeedle")(r=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var o=i.prototype;return o.init=function(t,e,i){this.initWeaponInfo(e,t,i),this.initBoxCollider(n.sword),this.changeBulletRotationByFlyDir()},o.colliderMonster=function(t){if(!this.isStopRun(t)&&!this.isHasAttacked(t.node.uuid)){this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--;var e=t.node.getComponent("Monster");e&&e.addDebuffFrozen(5),this._canAttackTimes<=0&&this.recoveryToPool()}},i}(s))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemInPlaying.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts"],(function(n){"use strict";var t,e,o,i,r,a,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.BoxCollider2D,r=n.UITransform,a=n.Size,s=n.Component},function(n){c=n.groupIndex}],execute:function(){var u;e._RF.push({},"307a1uXdiNOzpvFIWfS7b4k","ItemInPlaying",void 0);var l=o.ccclass;o.property,n("ItemInPlaying",l("ItemInPlaying")(u=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e.prototype.init=function(n){var t=this.node.getComponent(i);t||(t=this.node.addComponent(i));var e=this.node.getComponent(r),o=new a(e.contentSize.x,e.contentSize.y);t.size=o,t.tag=n,t.group=c.itemInPlaying},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ItemManager.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"6c3eaMSS1FJZpq6wdRN9a3f","ItemManager",void 0);t("ItemManger",function(){function t(){this._itemList={}}var i=t.prototype;return i.addItem=function(t,i){this._itemList.hasOwnProperty(t)?this._itemList[t]+=i:this.addNewItemToList(t,i)},i.addNewItemToList=function(t,i){this._itemList[t]=i},i.reduceItem=function(t,i){return!!this._itemList.hasOwnProperty(t)&&(!!this.itemIsEnough(t,i)&&(this._itemList[t]-=i,0===this._itemList[t]&&this.clearItemFromList(t),!0))},i.itemIsEnough=function(t,i){return this._itemList.hasOwnProperty(t)&&this._itemList[t]>=i},i.clearItemFromList=function(t){delete this._itemList[t]},i.getItemTotal=function(t){return this._itemList.hasOwnProperty(t)?this._itemList[t]:0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/JavaToJs.ts",["cc","./GameUrl.ts","./globalData.ts","./HttpRequest.ts","./globalFun.ts"],(function(){"use strict";var t,n,i,o,a;return{setters:[function(n){t=n.cclegacy},function(t){n=t.gUrl},function(t){i=t.ggd},function(t){o=t.hr},function(t){a=t.glf}],execute:function(){t._RF.push({},"6afb3R+E1RDQZa7ECl6M7ZS","JavaToJs",void 0),window.javaToJs={javaUsingJsFunByBridge:function(){a.afterPlayAdComplete();var t=n.list.adClickCount;o.post(t,null,(function(){}))},initPhoneImei:function(t){i.phoneInfo.imei=t}},t._RF.pop()}}}));

System.register("chunks:///_virtual/JustOneSwordDivideWorld.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,e,s,n,a,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Vec2},function(t){a=t.em},function(t){o=t.tagData},function(t){r=t.Weapon}],execute:function(){var l;e._RF.push({},"5e483mBHcFKd7tMJmx5es+4","JustOneSwordDivideWorld",void 0);var h=s.ccclass;s.property,t("JustOneSwordDivideWorld",h("JustOneSwordDivideWorld")(l=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var s=e.prototype;return s.init=function(){this.initSkillData(),this.playThisWeaponAudio(3)},s.playThisWeaponAudio=function(t){for(var i=0;i<t;i++)this.scheduleOnce((function(){a.dispatch("playOneShot","battle/spell")}),i)},s.initSkillData=function(){var t=a.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","一剑隔世");this._damage=t.baseDamage,this._damageTimes=t.damageTimes,this._duration=1/0,this._moveSpeed=0,this._canAttackTimes=1/0,this._backDis=0,this._attackInterval=.5,this._weaponName=t.name2,this._flyDir=new n(-.25,-1),this.clearCacheData(),this.initBoxCollider(o.sword),this.changeBulletRotationByFlyDir()},s.colliderMonster=function(t){this.isStopRun(t)||this.isHasAttacked(t.node.uuid)||(this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryToPool())},s.changeBulletRotationByFlyDir=function(){if(0!=this._flyDir.x||0!=this._flyDir.y)if(0!=this._flyDir.x)if(0!=this._flyDir.y){var t=Math.sqrt(this._flyDir.x*this._flyDir.x+this._flyDir.y*this._flyDir.y),i=Math.sin(Math.abs(this._flyDir.y)/t),e=90*Math.asin(i);this._flyDir.y>0?this._flyDir.x>0?this.node.angle=180+e:this.node.angle=360-e:this._flyDir.x>0?this.node.angle=180-e:this.node.angle=e}else this._flyDir.x>0?this.node.angle=180:this.node.angle=0;else this._flyDir.y>0?this.node.angle=-90:this.node.angle=90},s.recoveryToPool=function(){this.node.destroy()},e}(r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/KdTree.ts",["cc","./Obstacle.ts","./RVOMath.ts","./Simulator.ts","./Vector2.ts"],(function(t){"use strict";var e,i,n,s,_;return{setters:[function(t){e=t.cclegacy},function(t){i=t.default},function(t){n=t.default},function(t){s=t.default},function(t){_=t.default}],execute:function(){e._RF.push({},"a7407QBpWlOnaiR+sD4b0nc","KdTree",void 0);var a=function(){this.obstacle_=void 0,this.left_=void 0,this.right_=void 0},r=function(){this.begin_=void 0,this.end_=void 0,this.left_=void 0,this.right_=void 0,this.maxX_=void 0,this.maxY_=void 0,this.minX_=void 0,this.minY_=void 0},h=function(){function t(t,e){this.a_=void 0,this.b_=void 0,this.a_=t,this.b_=e}return t.Lessthan=function(t,e){return t.a_<e.a_||!(e.a_<t.a_)&&t.b_<e.b_},t.LessthanOrEqual=function(e,i){return e.a_==i.a_&&e.b_==i.b_||t.Lessthan(e,i)},t.Morethan=function(e,i){return!t.LessthanOrEqual(e,i)},t.MorethanOrEqual=function(e,i){return!t.Lessthan(e,i)},t}();t("default",function(){function t(){this.agents_=void 0,this.obstacleTree_=void 0,this.agentTree_=void 0,this.MAX_LEAF_SIZE=10}var e=t.prototype;return e.buildAgentTree=function(){if(null==this.agents_||this.agents_.length!=s.Instance.agents_.length){this.agents_=new Array(s.Instance.agents_.length);for(var t=0;t<this.agents_.length;++t)this.agents_[t]=s.Instance.agents_[t];this.agentTree_=[];for(var e=2*this.agents_.length,i=0;i<e;++i)this.agentTree_[i]=new r}0!=this.agents_.length&&this.buildAgentTreeRecursive(0,this.agents_.length,0)},e.buildAgentTreeRecursive=function(t,e,i){this.agentTree_[i].begin_=t,this.agentTree_[i].end_=e,this.agentTree_[i].minX_=this.agentTree_[i].maxX_=this.agents_[t].position_.x,this.agentTree_[i].minY_=this.agentTree_[i].maxY_=this.agents_[t].position_.y;for(var n=t+1;n<e;++n)this.agentTree_[i].maxX_=Math.max(this.agentTree_[i].maxX_,this.agents_[n].position_.x),this.agentTree_[i].minX_=Math.min(this.agentTree_[i].minX_,this.agents_[n].position_.x),this.agentTree_[i].maxY_=Math.max(this.agentTree_[i].maxY_,this.agents_[n].position_.y),this.agentTree_[i].minY_=Math.min(this.agentTree_[i].minY_,this.agents_[n].position_.y);if(e-t>this.MAX_LEAF_SIZE){for(var s=this.agentTree_[i].maxX_-this.agentTree_[i].minX_>this.agentTree_[i].maxY_-this.agentTree_[i].minY_,_=.5*(s?this.agentTree_[i].maxX_+this.agentTree_[i].minX_:this.agentTree_[i].maxY_+this.agentTree_[i].minY_),a=t,r=e;a<r;){for(;a<r&&(s?this.agents_[a].position_.x:this.agents_[a].position_.y)<_;)++a;for(;r>a&&(s?this.agents_[r-1].position_.x:this.agents_[r-1].position_.y)>=_;)--r;if(a<r){var h=this.agents_[a];this.agents_[a]=this.agents_[r-1],this.agents_[r-1]=h,++a,--r}}var o=a-t;0==o&&(++o,++a,++r),this.agentTree_[i].left_=i+1,this.agentTree_[i].right_=i+2*o,this.buildAgentTreeRecursive(t,a,this.agentTree_[i].left_),this.buildAgentTreeRecursive(a,e,this.agentTree_[i].right_)}},e.buildObstacleTree=function(){this.obstacleTree_=new a;for(var t=s.Instance.obstacles_.length,e=[],i=0;i<t;++i)e[e.length]=s.Instance.obstacles_[i];this.obstacleTree_=this.buildObstacleTreeRecursive(e)},e.buildObstacleTreeRecursive=function(t){if(t&&0!=t.length){for(var e=new a,r=0,o=t.length,g=t.length,u=0;u<t.length;++u){for(var c=0,l=0,f=t[u],T=f.next_,v=0;v<t.length;++v)if(u!=v){var p=t[v],b=p.next_,m=n.leftOf(f.point_,T.point_,p.point_),x=n.leftOf(f.point_,T.point_,b.point_);if(m>=-n.RVO_EPSILON&&x>=-n.RVO_EPSILON?++c:(m<=n.RVO_EPSILON&&x<=n.RVO_EPSILON||++c,++l),h.MorethanOrEqual(new h(Math.max(c,l),Math.min(c,l)),new h(Math.max(o,g),Math.min(o,g))))break}h.Lessthan(new h(Math.max(c,l),Math.min(c,l)),new h(Math.max(o,g),Math.min(o,g)))&&(o=c,g=l,r=u)}for(var d=new Array(o),O=new Array(g),R=0,M=0,y=r,q=t[y],A=q.next_,X=0;X<t.length;++X)if(y!=X){var E=t[X],I=E.next_,L=n.leftOf(q.point_,A.point_,E.point_),Y=n.leftOf(q.point_,A.point_,I.point_);if(L>=-n.RVO_EPSILON&&Y>=-n.RVO_EPSILON)d[R++]=t[X];else if(L<=n.RVO_EPSILON&&Y<=n.RVO_EPSILON)O[M++]=t[X];else{var S=n.det(_.subtract(A.point_,q.point_),_.subtract(E.point_,q.point_))/n.det(_.subtract(A.point_,q.point_),_.subtract(E.point_,I.point_)),N=_.addition(E.point_,_.multiply2(S,_.subtract(I.point_,E.point_))),w=new i;w.point_=N,w.previous_=E,w.next_=I,w.convex_=!0,w.direction_=E.direction_,w.id_=s.Instance.obstacles_.length,s.Instance.obstacles_.push(w),E.next_=w,I.previous_=w,L>0?(d[R++]=E,O[M++]=w):(O[M++]=E,d[R++]=w)}}return e.obstacle_=q,e.left_=this.buildObstacleTreeRecursive(d),e.right_=this.buildObstacleTreeRecursive(O),e}},e.computeObstacleNeighbors=function(t,e){this.queryObstacleTreeRecursive(t,e,this.obstacleTree_)},e.queryObstacleTreeRecursive=function(t,e,i){if(t&&i){var s=i.obstacle_,a=s.next_,r=n.leftOf(s.point_,a.point_,t.position_);this.queryObstacleTreeRecursive(t,e,r>=0?i.left_:i.right_),n.sqr(r)/n.absSq(_.subtract(a.point_,s.point_))<e&&(r<0&&t.insertObstacleNeighbor(i.obstacle_,e),this.queryObstacleTreeRecursive(t,e,r>=0?i.right_:i.left_))}},e.computeAgentNeighbors=function(t,e){this.queryAgentTreeRecursive(t,e,0)},e.queryAgentTreeRecursive=function(t,e,i){var s=this.agentTree_[i];if(s.end_-s.begin_<=this.MAX_LEAF_SIZE)for(var _=s.begin_;_<s.end_;++_)t.insertAgentNeighbor(this.agents_[_],e);else{var a=n.sqr(Math.max(0,this.agentTree_[this.agentTree_[i].left_].minX_-t.position_.x))+n.sqr(Math.max(0,t.position_.x-this.agentTree_[this.agentTree_[i].left_].maxX_))+n.sqr(Math.max(0,this.agentTree_[this.agentTree_[i].left_].minY_-t.position_.y))+n.sqr(Math.max(0,t.position_.y-this.agentTree_[this.agentTree_[i].left_].maxY_)),r=this.agentTree_[this.agentTree_[i].right_],h=n.sqr(Math.max(0,r.minX_-t.position_.x))+n.sqr(Math.max(0,t.position_.x-r.maxX_))+n.sqr(Math.max(0,r.minY_-t.position_.y))+n.sqr(Math.max(0,t.position_.y-r.maxY_));a<h?a<e.value&&(this.queryAgentTreeRecursive(t,e,this.agentTree_[i].left_),h<e.value&&this.queryAgentTreeRecursive(t,e,this.agentTree_[i].right_)):h<e.value&&(this.queryAgentTreeRecursive(t,e,this.agentTree_[i].right_),a<e.value&&this.queryAgentTreeRecursive(t,e,this.agentTree_[i].left_))}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LandFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Weapon.ts"],(function(n){"use strict";var t,e,o,i,r,a,c,s,l;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.Vec3,r=n.tween,a=n.Sprite,c=n.Color},function(n){s=n.tagData},function(n){l=n.Weapon}],execute:function(){var u;e._RF.push({},"d10f9QDfTpDZ6uVQLtL8rGF","LandFire",void 0);var p=o.ccclass;o.property,n("LandFire",p("LandFire")(u=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this)._canMove=!1,t}t(e,n);var o=e.prototype;return o.init=function(n,t,e){this.initWeaponInfo(t,n,e),this.initBoxCollider(s.sword,{x:-20,y:-20}),this.playShotAnim()},o.onDisable=function(){this.node.setScale(new i(1,1,1))},o.update=function(n){this.weaponDuration(n)},o.playShotAnim=function(){r(this.node).by(.5,{scale:new i(1.5,1.5,1),eulerAngles:new i(0,0,360),position:new i(280*this._flyDir.x,280*this._flyDir.y,0)},{onUpdate:function(n,t){var e=n.getComponent(a).color;n.getComponent(a).color=c.lerp(new c,e,new c(e.r,e.g,e.b,255),t)}}).start()},e}(l))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"0208bjby31EyYWzQE6+eHxF","LevelManager",void 0);e("LevelManager",function(){function e(e){this.level=void 0,this.maxLevel=void 0,this.curExp=void 0,this.maxExp=void 0,this.levelMappingExpList=void 0,this.level=e.level,this.maxLevel=e.maxLevel,this.curExp=e.curExp,this.levelMappingExpList=e.levelMappingExpList,this.maxExp=this.levelMappingExpList[this.maxLevel-1].exp,console.log("levelManager",this)}var i=e.prototype;return i.addExp=function(e){return this.curExp>=this.maxExp||this.level>=this.maxLevel?console.log("经验已满"):(this.curExp+=e,this.curExp>=this.maxExp&&(this.curExp=this.maxExp),this.isUpgrade()?(this.upgrade(),!0):void 0)},i.isUpgrade=function(){return this.curExp>=this.levelMappingExpList[this.level].exp},i.upgrade=function(){for(var e,i=this.maxLevel,t=this.level+1;t<i;t++){var s=this.levelMappingExpList[t-1].exp;if(s>this.curExp){e=t-1;break}t==i-1&&s<=this.curExp&&(e=this.maxLevel)}var l=e-this.level;this.level=e,console.log("等级+"+l)},i.getExpProgress=function(){if(1==this.level)return this.curExp/this.levelMappingExpList[this.level].exp;var e=this.levelMappingExpList[this.level-1].exp,i=this.levelMappingExpList[this.level-0].exp;return(this.curExp-e)/(i-e)},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Line.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"16d4fsGg3tB07jSF7VMrygh","Line",void 0);t("default",(function(){this.direction=void 0,this.point=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/LongSword.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Weapon.ts"],(function(t){"use strict";var a,e,i,n,o;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.em},function(t){o=t.Weapon}],execute:function(){var r;e._RF.push({},"64c68hfauRPQbF9S6+/53EU","LongSword",void 0);var s=i.ccclass;i.property,t("LongSword",s("LongSword")(r=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.init=function(t){this.initEquData(t),this.clearCacheData(),this.changeBulletRotationByFlyDir()},i.initEquData=function(t){var a=n.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");this._damage=a.lData.baseDamage,this._damageTimes=a.lData.damageTimes,this._duration=2,this._moveSpeed=700,this._backDis=50,this._attackInterval=2,this._canAttackTimes=1/0,this._weaponName="longSword",this._flyDir=t,this.initEquDataByExtraProperties(a)},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./PassRewardLayer.ts","./Agent.ts","./KdTree.ts","./Line.ts","./Obstacle.ts","./RVOConfig.ts","./RVOMath.ts","./Simulator.ts","./Vector2.ts","./commonDefine.ts","./Boss.ts","./Boss1.ts","./Boss10.ts","./Boss11.ts","./Boss12.ts","./Boss13.ts","./Boss14.ts","./Boss15.ts","./Boss16.ts","./Boss17.ts","./Boss18.ts","./Boss19.ts","./Boss2.ts","./Boss20.ts","./Boss21.ts","./Boss22.ts","./Boss23.ts","./Boss24.ts","./Boss25.ts","./Boss26.ts","./Boss27.ts","./Boss28.ts","./Boss29.ts","./Boss3.ts","./Boss30.ts","./Boss31.ts","./Boss32.ts","./Boss33.ts","./Boss34.ts","./Boss35.ts","./Boss36.ts","./Boss37.ts","./Boss38.ts","./Boss39.ts","./Boss4.ts","./Boss40.ts","./Boss41.ts","./Boss42.ts","./Boss43.ts","./Boss44.ts","./Boss45.ts","./Boss46.ts","./Boss47.ts","./Boss48.ts","./Boss49.ts","./Boss5.ts","./Boss50.ts","./Boss51.ts","./Boss52.ts","./Boss53.ts","./Boss54.ts","./Boss55.ts","./Boss56.ts","./Boss57.ts","./Boss58.ts","./Boss59.ts","./Boss6.ts","./Boss60.ts","./Boss61.ts","./Boss62.ts","./Boss63.ts","./Boss64.ts","./Boss65.ts","./Boss66.ts","./Boss67.ts","./Boss68.ts","./Boss69.ts","./Boss7.ts","./Boss70.ts","./Boss71.ts","./Boss72.ts","./Boss73.ts","./Boss74.ts","./Boss75.ts","./Boss76.ts","./Boss77.ts","./Boss78.ts","./Boss79.ts","./Boss8.ts","./Boss80.ts","./Boss9.ts","./Monster.ts","./MonsterData.ts","./MonsterLeader.ts","./MonsterManager.ts","./BlackHole.ts","./DarkMask.ts","./EnemySkill.ts","./GreenThunder.ts","./CommonCallback.ts","./GameAnimManager.ts","./StageManager.ts","./AnimCommonFun.ts","./EventManager.ts","./GameUrl.ts","./HttpRequest.ts","./JavaToJs.ts","./PoolManager.ts","./Queue.ts","./VersionNotice.ts","./globalData.ts","./globalFun.ts","./HeroCollider.ts","./HeroControl.ts","./HeroWeapon.ts","./Puppet.ts","./ContinueArrow.ts","./GiantArrow.ts","./GiantAxe.ts","./GiantSword.ts","./LongSword.ts","./RotationAxe.ts","./RotationAxePar.ts","./ShockWave.ts","./CurrentRoundMessage.ts","./GameSettings.ts","./DangerWindToNear.ts","./Darts.ts","./DoomsdayStorm.ts","./FanPrefab.ts","./FingerLikeWind.ts","./FireBloom.ts","./FlySword.ts","./FlyingThunderGod.ts","./Guard.ts","./HellFire.ts","./IceCone.ts","./IceSpiritNeedle.ts","./JustOneSwordDivideWorld.ts","./LandFire.ts","./MoveLikeFire.ts","./MoveLikeShadow.ts","./SamadhiTrueFire.ts","./SkillManager.ts","./SkyThunder.ts","./Spell.ts","./SpiritBullet.ts","./Sword.ts","./SwordRain.ts","./Taijihuan.ts","./ThousandsSwordToTomb.ts","./ThunderFissionBead.ts","./ThunderRunning.ts","./Thundercloud.ts","./Weapon.ts","./weaponManager.ts","./ItemInPlaying.ts","./MapLayer.ts","./ShowLayer.ts","./AddItemsLayer.ts","./GetsControl.ts","./HeroInfoLayer.ts","./MainMenu.ts","./MainMenuGuide.ts","./MakePillsLayer.ts","./MergeEquLayer.ts","./PrizeHallLayer.ts","./SelectStageLayer.ts","./SkillBookLayer.ts","./TrainingLayer.ts","./UpgradeEquLvLayer.ts","./Canvas.ts","./Quadtree.ts","./DynamicLoading.ts","./PreLoad.ts","./AD_SDK.ts","./GameMonetize.com-SDK.ts","./testAds.ts","./wxGame.ts","./DynamicSupFrame.ts","./AudioManager.ts","./GameReward.ts","./HeroBaseProperty.ts","./ItemManager.ts","./LevelManager.ts","./SavingManager.ts","./StorageSpace.ts","./TipView.ts","./helpLayer.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts"],(function(e){"use strict";var n,t,i,a,o,r,s,l,u,c,h,d,p,L,y,g,m,v;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.SpriteFrame,l=e.Node,u=e.JsonAsset,c=e.find,h=e.director,d=e.sys,p=e.Label,L=e.Sprite,y=e.Component},function(e){g=e.em},function(e){m=e.ggd},function(e){v=e.glf}],execute:function(){var f,N,S,b,_,B,I,C,M,A,F,w,T,k,P,H,z;o._RF.push({},"4e87avhPWxNFp2OmdXxirn8","MainMenu",void 0);var O=r.ccclass,E=r.property;e("MainMenu",(f=O("MainMenu"),N=E([s]),S=E([l]),b=E([s]),_=E(u),B=E(l),I=E(l),C=E(l),f((F=n((A=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,i(n,"selectBtnSF",F,a(n)),i(n,"btnArr",w,a(n)),i(n,"menuBtnSF",T,a(n)),i(n,"trainingLvListJson",k,a(n)),i(n,"versionNotice",P,a(n)),i(n,"gets",H,a(n)),i(n,"upgradeEquLvLayer",z,a(n)),n._layerNode=[],n._SSLNode=void 0,n._HILNode=void 0,n._TLNode=void 0,n._MPNode=void 0,n._SBNode=void 0,n._PHNode=void 0,n._AINode=void 0,n}t(n,e);var o=n.prototype;return o.onDestroy=function(){g.remove("switchMainMenuLayer")},o.onLoad=function(){g.add("switchMainMenuLayer",this.onSelectBtn.bind(this)),this._SSLNode=c("Canvas/menuLayer/SelectStageLayer"),this._HILNode=c("Canvas/menuLayer/HeroInfoLayer"),this._TLNode=c("Canvas/menuLayer/TrainingLayer"),this._MPNode=c("Canvas/menuLayer/MakePillsLayer"),this._SBNode=c("Canvas/menuLayer/SkillBookLayer"),this._PHNode=c("Canvas/menuLayer/PrizeHallLayer"),this._AINode=c("Canvas/menuLayer/AddItemsLayer"),this._layerNode.push(this._SSLNode,this._HILNode,this._TLNode,this._MPNode,this._SBNode,this._PHNode,this._AINode),this.onSelectBtn(null,"1"),h.preloadScene("game"),this.versionNotice.active=!0,this.versionNotice.active=!1,this.gets.active=!0,this.gets.active=!1},o.start=function(){this.initAccountInfo(),this.initLvInfo(),this.initLingshiTotal()},o.initAccountInfo=function(){var e=d.localStorage.getItem("loginInfo");e?(e=JSON.parse(e),c("Canvas/menuLayer/title/heroBaseInfoBg/nickname").getComponent(p).string=e.account):c("Canvas/menuLayer/title/heroBaseInfoBg/nickname").getComponent(p).string="游客"},o.initLvInfo=function(){var e=g.dispatch("getTempData","training");if(null===e)c("Canvas/menuLayer/title/heroBaseInfoBg/curLv").getComponent(p).string="江湖好手";else{var n=this.trainingLvListJson.json[e.curLv].name;c("Canvas/menuLayer/title/heroBaseInfoBg/curLv").getComponent(p).string=n}},o.initLingshiTotal=function(){var e=g.dispatch("getItemTotalByIdOrName","灵石");c("Canvas/menuLayer/title/lingshiTotalBg/total").getComponent(p).string=e},o.onSelectBtn=function(e,n){switch(this.updateBtnSF(parseInt(n)-1),n){case"1":null!==e&&g.dispatch("playOneShot","common/进入试炼场"),this.openLayer(this._SSLNode);break;case"2":null!==e&&g.dispatch("playOneShot","common/点击人物界面"),this.openLayer(this._HILNode);break;case"3":null!==e&&g.dispatch("playOneShot","common/点击修行界面"),this.openLayer(this._TLNode);break;case"4":null!==e&&g.dispatch("playOneShot","common/点击炼丹界面"),this.openLayer(this._MPNode);break;case"5":null!==e&&g.dispatch("playOneShot","common/点击秘籍界面"),this.openLayer(this._SBNode);break;case"6":this.openLayer(this._PHNode);break;case"7":this.openLayer(this._AINode);break;default:throw"p is err,current p is "+n}},o.updateBtnSF=function(e){var n=this;this.btnArr.forEach((function(t,i){t.getComponent(L).spriteFrame=i==e?n.menuBtnSF[2*i+1]:n.menuBtnSF[2*i]}))},o.openLayer=function(e){this._layerNode.forEach((function(n){n.active=e==n}))},o.onBtnAds=function(e,n){m.curAdRewardType=n,v.playAd()},o.onBtnOpenUpgradeEquLvLayer=function(){this.upgradeEquLvLayer.active=!0},o.onBtnSignInToday=function(){g.dispatch("usingGameRewardFun","signInToday")},n}(y)).prototype,"selectBtnSF",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=n(A.prototype,"btnArr",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(A.prototype,"menuBtnSF",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(A.prototype,"trainingLvListJson",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(A.prototype,"versionNotice",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(A.prototype,"gets",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(A.prototype,"upgradeEquLvLayer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){"use strict";var i,t,a,n,r,s,o,u,d,g,l,h,p,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,o=e.Node,u=e.Label,d=e.find,g=e.Tween,l=e.tween,h=e.Vec3,p=e.Component},function(e){c=e.em}],execute:function(){var y,D,v,f,b,T,m,L,B,G,M;r._RF.push({},"920c8P13D9PMoxejKCPOzEK","MainMenuGuide",void 0);var P=s.ccclass,F=s.property;e("MainMenuGuide",(y=P("MainMenuGuide"),D=F(o),v=F([o]),f=F(o),b=F(u),y((L=i((m=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,a(i,"guideFinger",L,n(i)),a(i,"btnArr",B,n(i)),a(i,"guideTipsBg",G,n(i)),a(i,"guideTipsLabel",M,n(i)),i._guideData={SelectStageLayer:!1,HeroInfoLayer:!1,HeroInfoLayerSpace:!1,HeroInfoLayerProperty:!1,TrainingLayer:!1,MakePillsLayer:!1,SkillBookLayer:!1},i}t(i,e);var r=i.prototype;return r.onDestroy=function(){c.remove("getGuideData"),c.remove("setGuideData"),c.remove("initMainMenuByGuideData"),c.remove("openGuideTips")},r.onLoad=function(){c.add("getGuideData",this.getGuideData.bind(this)),c.add("setGuideData",this.setGuideData.bind(this)),c.add("initMainMenuByGuideData",this.initMainMenuByGuideData.bind(this)),c.add("openGuideTips",this.openGuideTips.bind(this))},r.start=function(){var e=c.dispatch("getTempData","guideData");if(e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this._guideData.hasOwnProperty(i)&&(this._guideData[i]=e[i]);c.dispatch("savingToTempData","guideData",this._guideData),this.initMainMenuByGuideData()},r.initMainMenuByGuideData=function(){if(console.log("通过新手引导数据初始化主菜单"),console.log("guide data",this._guideData),this._guideData.SelectStageLayer)if(this._guideData.HeroInfoLayer)if(this._guideData.TrainingLayer)if(this._guideData.MakePillsLayer){if(!this._guideData.SkillBookLayer){this.hideBtnsFromIndexStart(5),g.stopAllByTag(1);var e=d("Canvas/menuLayer/selectBtnPar/btn5").getWorldPosition();this.guideFinger.active=!0,this.guideFinger.setWorldPosition(e.x,e.y+150,e.z),this.playGuideAnim1()}}else{this.hideBtnsFromIndexStart(4),g.stopAllByTag(1);var i=d("Canvas/menuLayer/selectBtnPar/btn4").getWorldPosition();this.guideFinger.active=!0,this.guideFinger.setWorldPosition(i.x,i.y+150,i.z),this.playGuideAnim1()}else{this.hideBtnsFromIndexStart(3),g.stopAllByTag(1);var t=d("Canvas/menuLayer/selectBtnPar/btn3").getWorldPosition();this.guideFinger.active=!0,this.guideFinger.setWorldPosition(t.x,t.y+150,t.z),this.playGuideAnim1()}else{this.hideBtnsFromIndexStart(2),g.stopAllByTag(1),this.guideTipsLabel.string="主角菜单包括仓库和属性。在仓库界面可以查看、使用、出售你的物品。在属性界面可以通过道法果提升自己的基础面板属性。",this.guideTipsBg.active=!0;var a=d("Canvas/menuLayer/selectBtnPar/btn2").getWorldPosition();this.guideFinger.active=!0,this.guideFinger.setWorldPosition(a.x,a.y+150,a.z),this.playGuideAnim1()}else this.hideBtnsFromIndexStart(1),d("Canvas/menuLayer/SelectStageLayer/guideSelectStage").active=!0,this.guideTipsLabel.string="点击关卡,开始游戏。\n海量怪兽等你挑战！",this.guideTipsBg.active=!0,this._guideData.SelectStageLayer=!0,c.dispatch("savingToTempData","guideData",this._guideData)},r.setGuideData=function(e,i){if(void 0===i&&(i=!0),!this._guideData.hasOwnProperty(e))throw"set guide data error."+e+" is invalid";this._guideData[e]=i,c.dispatch("savingToTempData","guideData",this._guideData)},r.playGuideAnim1=function(){var e=l().by(.5,{position:new h(0,-100,0)}),i=l().by(.5,{position:new h(0,100,0)}),t=l(this.guideFinger).sequence(e,i);(t=l(this.guideFinger).repeatForever(t)).tag(1),t.start()},r.hideBtnsFromIndexStart=function(e){for(var i=0;i<this.btnArr.length;i++)this.btnArr[i].active=!(i>=e)},r.closeGuideTips=function(){this.guideTipsLabel.string="",this.guideTipsBg.active=!1},r.getGuideData=function(){return this._guideData},r.openGuideTips=function(e){this.guideTipsLabel.string=e,this.guideTipsBg.active=!0},i}(p)).prototype,"guideFinger",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(m.prototype,"btnArr",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(m.prototype,"guideTipsBg",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(m.prototype,"guideTipsLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=m))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/MakePillsLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalFun.ts","./PoolManager.ts"],(function(e){"use strict";var t,i,a,n,l,r,o,s,m,c,u,p,d,h,g,P,f,y,b,v,L,T,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,o=e._decorator,s=e.Prefab,m=e.SpriteFrame,c=e.Node,u=e.Material,p=e.find,d=e.NodePool,h=e.instantiate,g=e.Sprite,P=e.Label,f=e.Color,y=e.tween,b=e.Vec3,v=e.Component},function(e){L=e.em},function(e){T=e.glf},function(e){C=e.plm}],execute:function(){var D,I,_,B,M,N,S,w,F,x,k,O,E,z,A,G,R,H,U;r._RF.push({},"55a8d2wX7hDXZkw04oDRSeH","MakePillsLayer",void 0);var X=o.ccclass,V=o.property;e("MakePillsLayer",(D=X("MakePillsLayer"),I=V(s),_=V(s),B=V([m]),M=V(c),N=V(u),S=V(u),w=V(c),F=V(s),D((O=t((k=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return t=e.call.apply(e,[this].concat(l))||this,a(t,"pillPrefab",O,n(t)),a(t,"itemPrefab",E,n(t)),a(t,"pillSF",z,n(t)),a(t,"itemPar",A,n(t)),a(t,"grayMaterial",G,n(t)),a(t,"defaultMaterial",R,n(t)),a(t,"guideFinger",H,n(t)),a(t,"tipsPrefab",U,n(t)),t._curPillData=void 0,t._pillPar=void 0,t._pillPrefabArr=[],t._itemPrefabArr=[],t._pillListConfig=[{id:4,name:"炼气丹",imageIndex:0,description:"提升修为，通过妖丹炼制",consumeTotal:10,consumeItemName:"一阶妖丹",consumeLingshi:50},{id:5,name:"筑基丹",imageIndex:1,description:"提升修为，通过妖丹炼制",consumeTotal:10,consumeItemName:"二阶妖丹",consumeLingshi:500},{id:6,name:"金元丹",imageIndex:2,description:"提升修为，通过妖丹炼制",consumeTotal:10,consumeItemName:"三阶妖丹",consumeLingshi:5e3},{id:7,name:"元婴丹",imageIndex:3,description:"提升修为，通过妖丹炼制",consumeTotal:10,consumeItemName:"四阶妖丹",consumeLingshi:5e4},{id:8,name:"化神丹",imageIndex:4,description:"提升修为，通过妖丹炼制",consumeTotal:10,consumeItemName:"五阶妖丹",consumeLingshi:5e5}],t}i(t,e);var r=t.prototype;return r.onLoad=function(){this._pillPar=p("/selectPill/sliding/content",this.node),C.addPoolToPools("MPLItemPrefab",new d,this.itemPrefab),this.initPillList(),this._curPillData=this._pillListConfig[0],this.updatePillState(this._pillPrefabArr[0]);var e=new d;C.addPoolToPools("tipsTex",e,this.tipsPrefab),this.initStoveBtn()},r.initPillList=function(){var e=this;this._pillListConfig.forEach((function(t,i){var a=h(e.pillPrefab);a.parent=e._pillPar,a.getChildByName("sprite").getComponent(g).spriteFrame=e.pillSF[t.imageIndex],a.getChildByName("name").getComponent(P).string=t.name;var n=L.dispatch("getItemTotalByIdOrName",t.name);a.getChildByName("total").getComponent(P).string=n,a.data=t,T.createButton(e.node,a,"MakePillsLayer","onBtnPill"),e._pillPrefabArr.push(a)}))},r.updatePillList=function(){for(var e,t=l(this._pillPrefabArr);!(e=t()).done;){var i=e.value,a=i.data,n=L.dispatch("getItemTotalByIdOrName",a.name);i.getChildByName("total").getComponent(P).string=n}},r.initStoveBtn=function(){var e=this,t=p("/stove",this.node),i=function(){e.onBtnMakePill()};t.on(c.EventType.TOUCH_START,(function(){e.onBtnMakePill(),e.schedule(i,.1)}),this),t.on(c.EventType.TOUCH_END,(function(){e.unschedule(i)}),this)},r.onEnable=function(){this.updateMaterialDemand(),L.dispatch("getGuideData").MakePillsLayer||this.startMakePillsLayerGuide()},r.onBtnPill=function(e){var t=e.target;this._curPillData=t.data,console.log("_curPillData",this._curPillData),L.dispatch("playOneShot","common/通用按键"),this.updatePillState(t),this.updateMaterialDemand()},r.updatePillState=function(e){this._pillPrefabArr.forEach((function(t){t.getChildByName("name").getComponent(P).color=t===e?new f(255,204,0,255):new f(255,255,255,255)}))},r.updateMaterialDemand=function(){var e=this;console.log("this._curPillData ",this._curPillData);var t=p("/stove/m1",this.node),i=p("/stove/m2",this.node),a=L.dispatch("getItemDataByIdOrName",this._curPillData.consumeItemName),n=L.dispatch("getItemDataByIdOrName","灵石"),l=L.dispatch("getItemTotalByIdOrName",this._curPillData.consumeItemName),r=L.dispatch("getItemTotalByIdOrName","灵石"),o=t.getChildByName("sprite").getComponent(g),s=i.getChildByName("sprite").getComponent(g);L.dispatch("loadTheDirResources","images/items/"+a.loadUrl+"/spriteFrame",(function(e){return o.spriteFrame=e})),L.dispatch("loadTheDirResources","images/items/"+n.loadUrl+"/spriteFrame",(function(e){return s.spriteFrame=e}));var m=t.getChildByName("Label").getComponent(P),c=i.getChildByName("Label").getComponent(P),u=t.getChildByName("Label2").getComponent(P),d=i.getChildByName("Label2").getComponent(P);t.getChildByName("nameBg").getChildByName("Label").getComponent(P).string=a.name,i.getChildByName("nameBg").getChildByName("Label").getComponent(P).string=n.name,m.string="x"+this._curPillData.consumeTotal,c.string="x"+this._curPillData.consumeLingshi,u.string=l,d.string=r,this.scheduleOnce((function(){l>=e._curPillData.consumeTotal?o.material=e.defaultMaterial:o.material=e.grayMaterial,r>=e._curPillData.consumeLingshi?s.material=e.defaultMaterial:s.material=e.grayMaterial}),0)},r.onBtnMakePill=function(){this.guideFinger.active=!1,L.dispatch("getGuideData").MakePillsLayer||(L.dispatch("setGuideData","MakePillsLayer",!0),L.dispatch("initMainMenuByGuideData")),L.dispatch("playOneShot","common/炼制丹药");var e=L.dispatch("itemIsEnough",this._curPillData.consumeItemName,this._curPillData.consumeTotal),t=L.dispatch("itemIsEnough","灵石",this._curPillData.consumeLingshi);if(e&&t){L.dispatch("reduceItemFromSS",this._curPillData.consumeItemName,this._curPillData.consumeTotal),L.dispatch("reduceItemFromSS","灵石",this._curPillData.consumeLingshi),console.log(this._curPillData.name+"+1"),L.dispatch("addItemToSS",this._curPillData.id,1),this.updatePillList(),this.updateMaterialDemand(),this.createTipsTex(this._curPillData.name+"+1");var i=L.dispatch("getItemTotalByIdOrName","灵石");p("Canvas/menuLayer/title/lingshiTotalBg/total").getComponent(P).string=i}else{var a="";a=e||t?e?"灵石不足，无法炼制。":"妖丹不足，无法炼制。":"妖丹和灵石不足，无法炼制。",L.dispatch("tipsViewShow",a)}},r.createTipsTex=function(e,t){void 0===t&&(t={x:0,y:100});var i=C.getFromPool("tipsTex");i.getComponent(P).string=e,i.parent=p("Canvas/menuLayer/MakePillsLayer/tipsPar"),i.setPosition(t.x,t.y,0),this.playTIPSTeXEffect(i)},r.playTIPSTeXEffect=function(e,t){void 0===t&&(t=new f(255,255,255,255));var i=y().by(1,{position:new b(0,200,0)},{onUpdate:function(i,a){e.getComponent(P).color=f.lerp(new f,t,new f(t.r,t.g,t.b,0),a)}}),a=y().to(.5,{scale:new b(1.2,1.2,1)});y(e).parallel(i,a).call((function(){e.setScale(new b(1,1,1)),C.putToPool("tipsTex",e,!0)})).start()},r.startMakePillsLayerGuide=function(){this.guideFinger.active=!0,p("Canvas/menuLayer/guideFinger").active=!1,L.dispatch("addItemToSS","一阶妖丹",10),L.dispatch("addItemToSS","灵石",50);L.dispatch("tipsViewShow","获得物品一阶妖丹x10、灵石x50"),this.updateMaterialDemand();L.dispatch("openGuideTips","点击丹炉，炼制丹药，提升修为。当材料不足时，材料图片会置灰。可以通过修炼场获取材料。")},t}(v)).prototype,"pillPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(k.prototype,"itemPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(k.prototype,"pillSF",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(k.prototype,"itemPar",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(k.prototype,"grayMaterial",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(k.prototype,"defaultMaterial",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(k.prototype,"guideFinger",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"tipsPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=k))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/MapLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,h,l,p,u,f,c,g,d,m,y,z,b,M,_,w,P,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,h=t.SpriteFrame,l=t.Prefab,p=t.Material,u=t.find,f=t.Size,c=t.UITransform,g=t.Sprite,d=t.instantiate,m=t.BoxCollider2D,y=t.Vec3,z=t.Rect,b=t.Vec2,M=t.Component},function(t){_=t.em},function(t){w=t.tagData,P=t.groupIndex,S=t.ggd}],execute:function(){var v,L,x,C,F,O,I,W,T,B,A,H,R,D,E;s._RF.push({},"809f5M75tREzYR8m406FnB9","MapLayer",void 0);var N=a.ccclass,k=a.property;t("MapLayer",(v=N("MapLayer"),L=k(h),x=k(l),C=k([h]),F=k([h]),O=k(p),I=k(p),v((B=e((T=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"defaultBgSF",B,o(e)),n(e,"obstaclePrefab",A,o(e)),n(e,"bgSFs",H,o(e)),n(e,"obsSFs",R,o(e)),n(e,"frozenMaterial",D,o(e)),n(e,"normalMaterial",E,o(e)),e.mapList=[],e._mapSize=void 0,e._changeOffset=1e3,e._obsColliderArr=[],e._frozenCountdown=0,e._frozenTotalTime=0,e._frozenSlowTimes=0,e}i(e,t);var s=e.prototype;return s.onDestroy=function(){_.remove("usingMapLayerFun"),_.remove("getMapLayerProperty")},s.onLoad=function(){_.add("usingMapLayerFun",this.usingMapLayerFun.bind(this)),_.add("getMapLayerProperty",this.getMapLayerProperty.bind(this)),this.mapList.push(u("bg1",this.node)),this.mapList.push(u("bg2",this.node)),this.mapList.push(u("bg3",this.node)),this.mapList.push(u("bg4",this.node))},s.start=function(){this.initBg()},s.initBg=function(){if(!this.defaultBgSF)throw"default bg is null";this._mapSize=new f(5*this.defaultBgSF.originalSize.x,5*this.defaultBgSF.originalSize.y),this.switchMapBg();var t=_.dispatch("getHeroWorldPos");this.mapList[0].setWorldPosition(t),this.mapList[1].setWorldPosition(t.x+this._mapSize.x,t.y,t.z),this.mapList[2].setWorldPosition(t.x,t.y+this._mapSize.y,t.z),this.mapList[3].setWorldPosition(t.x+this._mapSize.x,t.y+this._mapSize.y,t.z)},s.switchMapBg=function(){for(var t=Math.ceil(S.curStage/10)-1,e=0;e<this.mapList.length;e++){var i=this.mapList[e];i.getComponent(c).setContentSize(this._mapSize),i.getComponent(g).spriteFrame=this.bgSFs[t]}},s.initObstacles=function(){var t=this;this.mapList.forEach((function(e){for(var i=[[2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[4,2],[4,3],[4,6],[4,7],[5,2],[5,3],[5,6],[5,7],[6,2],[6,3],[6,4],[6,5],[6,6],[6,7],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7]],n=0;n<10;n++){var o=i.splice(Math.random()*i.length|0,1)[0];t.addObstacle(e,o)}}))},s.addObstacle=function(t,e){var i=d(this.obstaclePrefab),n=new f(-this._mapSize.width/2,-this._mapSize.height/2);i.parent=t,i.setPosition(200*e[0]+n.width,200*e[1]+n.height);var o=Math.ceil(S.curStage/10)-1;i.getComponent(g).spriteFrame=this.obsSFs[o];var r=i.addComponent(m),s=i.getComponent(c),a=new f(1*s.contentSize.x/2,1*s.contentSize.y/2);r.tag=w.obstacle,r.size=a,r.group=P.obstacle,this._obsColliderArr.push(r)},s.usingMapLayerFun=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(this[t]&&"function"==typeof this[t])return this[t].apply(this,i);throw t+" is not fun or undefined"},s.getMapLayerProperty=function(t){if(this.hasOwnProperty(t))return this[t];throw"hero control 中不存在属性："+t},s.getAllObs=function(){return this._obsColliderArr},s.frozenMap=function(t,e){console.log("frozenMap"),this._frozenCountdown=t,this._frozenTotalTime=t,this._frozenSlowTimes=e,_.dispatch("usingHeroControlFun","isOpenSnowEffect",!0),this.unschedule(this.frozenCountdownRun),this.frozenMaterial.setProperty("frozenProgress",0),this.schedule(this.frozenCountdownRun,1);for(var i,n=r(this.mapList);!(i=n()).done;){i.value.getComponent(g).material=this.frozenMaterial}},s.frozenCountdownRun=function(){if(!S.stopAll){this._frozenCountdown--;var t=1-this._frozenCountdown/this._frozenTotalTime;this.frozenMaterial.setProperty("frozenProgress",t),console.log("this._frozenCountdown",this._frozenCountdown),this._frozenCountdown<=0&&(console.log("冻结结束"),_.dispatch("usingHeroControlFun","isOpenSnowEffect",!1),this._frozenCountdown=0,this.unschedule(this.frozenCountdownRun),this.recoveryMapNormalState())}},s.recoveryMapNormalState=function(){for(var t,e=r(this.mapList);!(t=e()).done;){t.value.getComponent(g).material=this.normalMaterial}},s.updateMap=function(t){var e=this.getCurPosMap();if(!this.heroIsNearbyMapEdge()){var i=this.getFarthestMap(),n=this.getFarthestMapInitPos(),o=e.getWorldPosition(),r=new y(o.x+this._mapSize.x*n.x,o.y+this._mapSize.y*n.y,o.z);i.setWorldPosition(r)}},s.getCurPosMap=function(){for(var t=_.dispatch("getHeroWorldPos"),e=0;e<this.mapList.length;e++){var i=this.mapList[e];if(this.thePointIsInsideMap(i,t))return i}throw"hero is outside map."},s.thePointIsInsideMap=function(t,e){var i=t.getWorldPosition();return new z(i.x-this._mapSize.x/2,i.y-this._mapSize.y/2,this._mapSize.x,this._mapSize.y).contains(e)},s.thePointIsInsideAnyMap=function(t){var e=this;return this.mapList.some((function(i){return e.thePointIsInsideMap(i,t)}))},s.heroIsNearbyMapEdge=function(){var t=this,e=_.dispatch("getHeroWorldPos");return!this.getThePointNearbyPoint(e).some((function(e){return!t.mapList.some((function(i){return t.thePointIsInsideMap(i,e)}))}))},s.getFarthestMap=function(){for(var t=_.dispatch("getHeroWorldPos"),e=this.mapList[0],i=this.mapList[0].getWorldPosition(),n=(i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y),o=1;o<this.mapList.length;o++){var r=this.mapList[o],s=r.getWorldPosition(),a=(s.x-t.x)*(s.x-t.x)+(s.y-t.y)*(s.y-t.y);a>n&&(n=a,e=r)}return e},s.getFarthestMapInitPos=function(){for(var t,e=_.dispatch("getHeroWorldPos"),i=this.getThePointNearbyPoint(e),n=0;n<i.length;n++){var o=i[n];if(!this.thePointIsInsideAnyMap(o)){t=o;break}}var r=t.subtract(e);return new b(r.x/Math.abs(r.x),r.y/Math.abs(r.y))},s.getThePointNearbyPoint=function(t){return[new b(t.x+this._changeOffset,t.y),new b(t.x,t.y+this._changeOffset),new b(t.x-this._changeOffset,t.y),new b(t.x,t.y-this._changeOffset),new b(t.x+this._changeOffset,t.y+this._changeOffset),new b(t.x-this._changeOffset,t.y+this._changeOffset),new b(t.x-this._changeOffset,t.y-this._changeOffset),new b(t.x+this._changeOffset,t.y-this._changeOffset)]},e}(M)).prototype,"defaultBgSF",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"obstaclePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(T.prototype,"bgSFs",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(T.prototype,"obsSFs",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(T.prototype,"frozenMaterial",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(T.prototype,"normalMaterial",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=T))||W));s._RF.pop()}}}));

System.register("chunks:///_virtual/MergeEquLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalFun.ts","./PoolManager.ts"],(function(e){"use strict";var t,a,r,i,n,o,l,s,c,u,g,m,p,h,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,c=e.Label,u=e.SpriteFrame,g=e.Sprite,m=e.RichText,p=e.Component},function(e){h=e.em},function(e){d=e.glf},function(e){f=e.plm}],execute:function(){var y,b,v,B,C,D,S,L,q,I,N,F,E,P,w,T,M;o._RF.push({},"00e1fdsVNBJg51QHbvbscUO","MergeEquLayer",void 0);var _=l.ccclass,A=l.property;e("MergeEquLayer",(y=_("MergeEquLayer"),b=A(s),v=A(s),B=A(s),C=A(c),D=A(c),S=A(s),L=A([u]),y((N=t((I=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"itemContent",N,i(t)),r(t,"curSelect",F,i(t)),r(t,"target",E,i(t)),r(t,"totalLabel",P,i(t)),r(t,"mergeDetailLabel",w,i(t)),r(t,"maskPar",T,i(t)),r(t,"itemQBg",M,i(t)),t._itemPrefabArr=[],t._mergeList={1:5,2:10,3:10,4:5,5:0},t}a(t,e);var o=t.prototype;return o.onLoad=function(){d.createButton(this.node,this.curSelect,"MergeEquLayer","onBtnEqu"),d.createButton(this.node,this.target,"MergeEquLayer","onBtnEqu")},o.onEnable=function(){this.updateEquList()},o.onDisable=function(){this.curSelect.data=null,this.target.data=null,this.mergeDetailLabel.string="",this.totalLabel.string=""},o.updateEquList=function(){for(var e=this;this._itemPrefabArr.length>0;){var t=this._itemPrefabArr.shift();f.putToPool("SSLItemPrefab",t)}var a=h.dispatch("getItemList");for(var r in a){var i=h.dispatch("getItemDataByIdOrName",r);"装备"==i.type&&function(){var t=a[r],n=f.getFromPool("SSLItemPrefab");n.parent=e.itemContent,n.getChildByName("itemBg").getComponent(g).spriteFrame=e.itemQBg[i.quality-1],e.initPrefabLv(n,i);var o=n.getChildByName("sprite").getComponent(g),l=i.loadUrl;i.loadUrl||(l="item_default"),l="images/items/"+l+"/spriteFrame",h.dispatch("loadTheDirResources",l,(function(e){return o.spriteFrame=e}),(function(){h.dispatch("loadTheDirResources","images/items/item_default/spriteFrame",(function(e){return o.spriteFrame=e}))})),n.getChildByName("total").getComponent(c).string=t,n.itemName=i.name,e._itemPrefabArr.push(n),d.createButton(e.node,n.getChildByName("itemBg"),"MergeEquLayer","onBtnItemInMergeLayer",r)}()}},o.onBtnItemInMergeLayer=function(e,t){var a=this,r=h.dispatch("getItemDataByIdOrName",t);if(r.quality>=5)h.dispatch("tipsViewShow","当前品质为最高品质，不可提升");else{var i=this.getMergeTargetData(r.name);console.log("merge1",r),console.log("merge2",i),this.curSelect.getComponent(g).spriteFrame=this.itemQBg[r.quality-1],this.target.getComponent(g).spriteFrame=this.itemQBg[i.quality-1],this.curSelect.data=r,this.target.data=i;var n=r.loadUrl;r.loadUrl||(n="item_default"),n="images/items/"+n+"/spriteFrame",h.dispatch("loadTheDirResources",n,(function(e){a.curSelect.getChildByName("Sprite").getComponent(g).spriteFrame=e,a.target.getChildByName("Sprite").getComponent(g).spriteFrame=e}),(function(){h.dispatch("loadTheDirResources","images/items/item_default/spriteFrame",(function(e){a.curSelect.getChildByName("Sprite").getComponent(g).spriteFrame=e,a.target.getChildByName("Sprite").getComponent(g).spriteFrame=e}))}));this.curSelect.getChildByName("Label").getComponent(c).string="",this.target.getChildByName("Label").getComponent(c).string={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"}[r.lv],this.totalLabel.string="x"+this._mergeList[r.quality],this.showMergeDetail(r.name)}},o.onBtnMerge=function(){var e=this.getCurEquTotal(this.curSelect.data.name),t=this._mergeList[this.curSelect.data.lv];if(e>=t){console.log("合成"),this.consumeEqu(this.curSelect.data.name,t),h.dispatch("addItemToSS",this.target.data.name,1);var a={};a[this.target.data.name]=1,h.dispatch("showGets",a),this.updateEquList(),this.showMergeDetail(this.curSelect.data.name)}else h.dispatch("tipsViewShow","升品失败，材料数量不足")},o.consumeEqu=function(e,t){for(var a=e.indexOf("（"),r=0,i=["（一阶）","（二阶）","（三阶）","（四阶）","（五阶）","（六阶）","（七阶）","（八阶）","（九阶）"];r<i.length;r++){var n=i[r],o=e.slice(0,a)+n,l=h.dispatch("getItemTotalByIdOrName",o);if(l>0){if(t<=l){h.dispatch("reduceItemFromSS",o,t);break}t-=l,h.dispatch("reduceItemFromSS",o,l)}}console.log("消耗完成")},o.showMergeDetail=function(e){for(var t=e.indexOf("（"),a="",r=0,i=["（一阶）","（二阶）","（三阶）","（四阶）","（五阶）","（六阶）","（七阶）","（八阶）","（九阶）"];r<i.length;r++){var n=i[r],o=e.slice(0,t)+n,l=h.dispatch("getItemTotalByIdOrName",o);l>0&&(a=a+o+"x"+l+"\n")}this.mergeDetailLabel.string=a},o.getCurEquTotal=function(e){for(var t=e.indexOf("（"),a=0,r=0,i=["（一阶）","（二阶）","（三阶）","（四阶）","（五阶）","（六阶）","（七阶）","（八阶）","（九阶）"];r<i.length;r++){var n=i[r],o=e.slice(0,t)+n;a+=h.dispatch("getItemTotalByIdOrName",o)}return a},o.getMergeTargetData=function(e){var t={"破旧":"实用","实用":"稀有","稀有":"传说","传说":"史诗"};console.log("curName",e),console.log("curName.slice(0,2)",e.slice(0,2)),console.log("list[curName.slice(0,2)]",t[e.slice(0,2)]);var a=t[e.slice(0,2)];if(!a)throw"target is no existent";var r=a+e.slice(2);return h.dispatch("getItemDataByIdOrName",r)},o.initPrefabLv=function(e,t){var a=e.getChildByName("lv").getComponent(c);if("装备"==t.type&&t.lv){a.string={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"}[t.lv]}else a.string=""},o.onBtnEqu=function(e){var t=e.target.data;if(t){var a=this.getColorStrByQuality(t.quality-1);this.maskPar.getChildByName("name").getComponent(m).string=a+t.name+"</color>",this.maskPar.getChildByName("description").getComponent(m).string=t.description,console.log("onBtnEqu",t),this.showEquDetail(t.name),this.maskPar.active=!0}},o.getColorStrByType=function(e){return["<color=#757575>","<color=#A474CF>","<color=#DDA75A>"][e]},o.getColorStrByQuality=function(e){return["<color=#599A65>","<color=#728CC7>","<color=#A474CF>","<color=#C65C37>","<color=#DDA75A>"][e]},o.showEquDetail=function(e){for(var t,a=h.dispatch("usingHeroBasePropertyFun","getEquDataByName",e),r=a.qData.effect,i="",o=n(r);!(t=o()).done;){var l=t.value,s=h.dispatch("usingHeroBasePropertyFun","getEquEffectData",l);console.log("effect",s),i=i+this.getColorStrByType(s.type-1)+s.name+":"+s.description+"</color>\n"}a.lData.baseDamage&&(i=i+"基础伤害:+"+a.lData.baseDamage+"\n"),a.lData.damageTimes&&(i=i+"伤害加成倍数:+"+a.lData.damageTimes+"\n"),a.lData.attackInterval&&(i=i+"攻击间隔:"+a.lData.attackInterval+"\n"),a.lData.blood&&(i=i+"血量:+"+a.lData.blood+"\n"),a.lData.CHR&&(i=i+"暴击率:+"+a.lData.CHR+"\n"),a.lData.moveSpeed&&(i=i+"移动速度:+"+a.lData.moveSpeed+"\n"),this.maskPar.getChildByName("description").getComponent(m).string=i},o.onBtnOpen=function(){this.node.active=!0},o.onBtnClose=function(){h.dispatch("usingHeroInfoLayerFun","updateStorageSpace"),this.node.active=!1},t}(p)).prototype,"itemContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(I.prototype,"curSelect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(I.prototype,"target",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"totalLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(I.prototype,"mergeDetailLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"maskPar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(I.prototype,"itemQBg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=I))||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/Monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts","./RVOMath.ts","./Simulator.ts","./Vector2.ts","./MonsterData.ts"],(function(t){"use strict";var e,i,o,s,n,a,r,l,u,d,h,c,f,p,m,g,y,_,b,M,D,v,S,C,A,B,z,w,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,r=t._decorator,l=t.Material,u=t.AnimationClip,d=t.Animation,h=t.BoxCollider2D,c=t.UITransform,f=t.Size,p=t.Contact2DType,m=t.Sprite,g=t.Color,y=t.find,_=t.Vec2,b=t.Component},function(t){M=t.em},function(t){D=t.ggd,v=t.tagData,S=t.groupIndex,C=t.attackInterval},function(t){A=t.plm},function(t){B=t.default},function(t){z=t.default},function(t){w=t.default},function(t){P=t.monsterData}],execute:function(){var T,x,k,L,I,F,O,W,N,H,R,K,E,V,Z,j,q,G,J,X,Q;a._RF.push({},"668ee8+QZZCoZGzSXap1See","Monster",void 0);var U=r.ccclass,Y=r.property;t("Monster",(T=U("Monster"),x=Y(l),k=Y(l),L=Y(l),I=Y(l),F=Y(l),O=Y(l),W=Y(l),N=Y(l),H=Y(u),T((E=e((K=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"flashWhiteMaterial",E,s(e)),o(e,"defaultMaterial_normal",V,s(e)),o(e,"defaultMaterial_green",Z,s(e)),o(e,"defaultMaterial_red",j,s(e)),o(e,"defaultMaterial_yellow",q,s(e)),o(e,"debuff_frozen",G,s(e)),o(e,"debuff_paralysis",J,s(e)),o(e,"effect_frozen",X,s(e)),o(e,"beAttackedAnim",Q,s(e)),e._defaultMaterial=void 0,e._canAttack=!0,e._monsterId=void 0,e._banTouch=!1,e._curMonsterData=null,e._maxBlood=1,e._curBlood=1,e._attackInterval=1,e._isSuperArmor=!1,e._type="normal",e._curMoveSpeedTimes=1,e._speedMonsterSpeedTimes=1,e._monsterSize=void 0,e._frontCount=0,e._behindCount=0,e._remainingDuration=0,e._waitRepel=!1,e._backDis=void 0,e._diedAnimProgress=0,e._sid=-1,e._parKey="normal",e._debuffList={timid:{state:!1,duration:0,damage:.5,moveSpeed:.5},frozen:{state:!1,duration:0},paralysis:{state:!1,duration:0}},e._bulletData={name:"monsterBullet",damage:1,duration:3,moveSpeed:300,canAttackTimes:1},e._moveAnimClip=void 0,e._effectList={fast:!1,frozen:!1},e}i(e,t);var a=e.prototype;return a.onDestroy=function(){this.initDefaultData()},a.init=function(t,e,i){switch(this.initDefaultData(),this._curMonsterData=JSON.parse(JSON.stringify(t)),i&&(this._curMonsterData.damage=this._curMonsterData.damage*(1+i.damage)|0,this._curMonsterData.maxBlood=this._curMonsterData.maxBlood*(1+i.blood)|0,this._curMonsterData.moveSpeed=this._curMonsterData.moveSpeed*(1+i.moveSpeed)|0),this._monsterId=e,this._curMonsterData.color){case"normal":this._defaultMaterial=this.defaultMaterial_normal;break;case"green":this._defaultMaterial=this.defaultMaterial_green;break;case"red":this._defaultMaterial=this.defaultMaterial_red;break;case"yellow":this._defaultMaterial=this.defaultMaterial_yellow;break;default:throw"color "+this._curMonsterData.color+" is undefined."}this._parKey=this._curMonsterData.color,this.switchParByType(this._parKey),this.recoveryDefaultMaterial(),this.initMonsterMoveAnim(this._curMonsterData),this._maxBlood=this._curMonsterData.maxBlood,this._curBlood=this._curMonsterData.maxBlood,this.initCollider(),this.startCountdown(120),this.setMonsterStrategyByIdOnTheBegging(),this._sid=z.Instance.addAgent(this.node.getWorldPosition())},a.switchParByType=function(t){this.node.parent=M.dispatch("usingMonsterManagerFun","getParNodeByKey",t)},a.startCountdown=function(t){this._remainingDuration=t,this.unschedule(this.durationCountdown),this.schedule(this.durationCountdown,10)},a.durationCountdown=function(){D.stopAll||(this._remainingDuration-=10,this.runOthers(),this._remainingDuration<=0&&(A.putToPool("monsterChild",this.node),this.removeAgent(),this.unschedule(this.durationCountdown)))},a.removeAgent=function(){z.Instance.delAgentBySid(this._sid)},a.runOthers=function(){if(M.dispatch("getMapLayerProperty","_frozenCountdown")>0){var t=.05*this._maxBlood|0,e=M.dispatch("usingHeroControlFun","getCurDamage");e=Math.floor(.05*e)+t,M.dispatch("createDamageTex",this.node,e,{x:0,y:20}),this.updateBlood(e)}},a.initMonsterMoveAnim=function(t){var e=this,i="monster"+t.animKey,o=M.dispatch("getMonsterAnimByAnimKey",i);o?(this._moveAnimClip=o,this.node.getComponent(d).defaultClip=o,this.node.getComponent(d).play()):M.dispatch("loadTheDirResources","/anim/enemy/monster/"+i,(function(t){e._moveAnimClip=t,e.node.getComponent(d).defaultClip=t,e.node.getComponent(d).play()}))},a.initCollider=function(){var t=this.getComponent(h);t||(t=this.node.addComponent(h));var e=this.node.getComponent(c);this._monsterSize=new f(e.contentSize.x/2,e.contentSize.y/2),t.tag=v.monster,t.size=this._monsterSize,t.group=S.enemy,t.on(p.BEGIN_CONTACT,this.onBeginContact,this)},a.updateBlood=function(t,e){if(void 0===e&&(e=0),this._curBlood+=t,this._curBlood<=0)this.monsterDied();else{this.monsterIsRepelled(e);var i=M.dispatch("usingSkillManagerFun","getSkillDebuffEffectList");i.length>0&&(console.log("debuffList",i[0]),this.updateDebuffStateByHeroSkill(i[0]))}},a.updateDebuffStateByHeroSkill=function(t){switch(t.type){case"paralysis":this.addDebuffParalysis(t.duration);break;default:console.warn("未处理的debuff："+t.type)}},a.monsterDied=function(){A.putToPool("monsterChild",this.node),this.removeAgent(),M.dispatch("usingHeroControlFun","updateExpProgress",100),M.dispatch("updateKillCountLabel",1),this.afterMonsterDied()},a.afterMonsterDied=function(){M.dispatch("usingSkillManagerFun","add_bloodMakeMeStrongTimes");var t=M.dispatch("usingSkillManagerFun","getRecoveryBloodFromSecretSkill");M.dispatch("usingHeroControlFun","updateBloodProgress",t)},a.monsterIsRepelled=function(t){this.flashWhite(),this._isSuperArmor||(this._backDis=t,this._waitRepel=!0)},a.getDistanceToHero=function(){var t=M.dispatch("getTargetWorldPos"),e=this.node.getWorldPosition();return this.getTwoPointDistance(t,e)},a.flashWhite=function(){if(!this.isStrongControlled()){this.unschedule(this.recoveryNormalState),this.switchParByType("white"),this.node.getComponent(m).material=this.flashWhiteMaterial;this._banTouch=!0,this.scheduleOnce(this.recoveryNormalState,.1)}},a.playMoveAnim=function(){this.node.getComponent(d).play()},a.frozenEffect=function(){this.node.getComponent(m).material=this.debuff_frozen,this.switchParByType("frozen"),this.pauseAnim()},a.paralysisEffect=function(){this.node.getComponent(m).material=this.debuff_paralysis,this.switchParByType("paralysis"),this.pauseAnim()},a.recoveryNormalState=function(){this._banTouch=!1,this.isStrongControlled()||(this.switchParByType(this._parKey),this.recoveryDefaultMaterial(),this.resumeAnim())},a.recoveryDefaultMaterial=function(){this.node.getComponent(m).material=this._defaultMaterial},a.collectToTarget=function(t,e){if(e){var i=e.node.getWorldPosition(),o=t.node.getWorldPosition();i.subtract3f(o.x,o.y,o.z).normalize();var s=this.node.getPosition();this.node.setPosition(s.x+20*i.x,s.y+20*i.y,0)}},a.getTwoPointDistance=function(t,e){var i=t.x-e.x,o=t.y-e.y;return Math.sqrt(i*i+o*o)},a.getTwoPointDistance2=function(t,e){var i=t.x-e.x,o=t.y-e.y;return i*i+o*o},a.onBeginContact=function(t,e){if(!D.stopAll&&!this._banTouch&&t.tag!=e.tag)switch(e.tag){case v.hero:this.monsterAttackByCollide(t,e);break;case v.puppet:this.monsterAttackByCollide(t,e,"puppet");break;case v.friend1Skill1:this.friendAttackMonsterByFriend1Skill1(t,e);break;case v.obstacle:}},a.rectIsIntersectsRect=function(t,e){return t.intersects(e)},a.isTouchingHero=function(){var t=this.getComponent(h),e=M.dispatch("getHeroControlProperty","node").getChildByName("sprite").getComponent(h);return this.rectIsIntersectsRect(t.worldAABB,e.worldAABB)},a.monsterAttackByCollide=function(t,e,i){var o=this;if(void 0===i&&(i="hero"),D.stopAll)this.scheduleOnce((function(){o._canAttack=!0,o.monsterAttackByCollide(t,e,i)}),this._attackInterval);else if(this.rectIsIntersectsRect(t.worldAABB,e.worldAABB)&&this._canAttack){if(this._canAttack=!1,this._effectList.frozen&&"hero"==i&&M.dispatch("usingHeroControlFun","addDebuffSlow",5,10),"hero"==i)M.dispatch("createMonsterDamageTex",e.node,this.getMonsterCurDamage());else{if("puppet"!=i)throw"type is "+i;e.node.updateBloodProgress(-this.getMonsterCurDamage())}this.scheduleOnce((function(){o._canAttack=!0,o.monsterAttackByCollide(t,e,i)}),this._attackInterval)}},a.friendAttackMonsterByFriend1Skill1=function(t,e){var i=this;if(!D.stopAll&&this.rectIsIntersectsRect(t.worldAABB,e.worldAABB)){M.dispatch("createDamageTex",t.node,5,{x:0,y:20}),this.updateBlood(-5,0),this.collectToTarget(t,e),this.scheduleOnce((function(){i.friendAttackMonsterByFriend1Skill1(t,e)}),C.f1s1)}},a.update=function(t){this._curMonsterData.effects.indexOf(4)>-1||(this.move(),this.updateSpriteDirection())},a.move=function(){if(this._sid>-1){var t=z.Instance.getAgentPosition(this._sid);Number.isNaN(t.x)||Number.isNaN(t.y)?console.log("sid="+this._sid+"的对象PosX="+t.x+",PosY="+t.y):this.node.setWorldPosition(t.x,t.y,0)}this.updatePrefVelocity()},a.updatePrefVelocity=function(){var t=M.dispatch("getTargetWorldPos");if(null!=t){var e=z.Instance.getAgentPosition(this._sid),i=w.subtract(t,e);if(B.absSq(i)>1){var o=B.normalize(i),s=this.getMonsterCurMoveSpeed()/100;i=w.multiply2(10*s,o),this._waitRepel&&(s=this._backDis/100*10,(i=w.multiply2(10*s,o)).x*=-1,i.y*=-1,this._waitRepel=!1)}z.Instance.setAgentPrefVelocity(this._sid,i)}},a.updateSpriteDirection=function(){if(!this.isStrongControlled()){var t=M.dispatch("getTargetWorldPos").x-this.node.getWorldPosition().x,e=this.node.getScale();t>0?this.node.setScale(-Math.abs(e.x),e.y,e.z):t<0&&this.node.setScale(Math.abs(e.x),e.y,e.z)}},a.pauseAnim=function(){this.node.getComponent(d).pause()},a.resumeAnim=function(){D.stopAll||this.isStrongControlled()||this.node.getComponent(d).resume()},a.getMonsterCurDamage=function(){if(this.isStrongControlled())return 0;var t=this._curMonsterData.damage;return this._debuffList.timid.state&&(t*=this._debuffList.timid.damage),t},a.getMonsterCurMoveSpeed=function(){if(this.isStrongControlled())return 0;var t=this._curMonsterData.moveSpeed*P.MSCoefficient*this._curMoveSpeedTimes*this._speedMonsterSpeedTimes;(this._debuffList.timid.state&&(t*=this._debuffList.timid.moveSpeed),M.dispatch("getMapLayerProperty","_frozenCountdown")>0)&&(t*=1-M.dispatch("getMapLayerProperty","_frozenSlowTimes"));return t},a.isStrongControlled=function(){return this._debuffList.frozen.state||this._debuffList.paralysis.state},a.addDebuffTimid=function(t){this._debuffList.timid.state=!0,this._debuffList.timid.duration=t,this.unschedule(this.reduceDebuffTimid),this.scheduleOnce(this.reduceDebuffTimid,1)},a.reduceDebuffTimid=function(){D.stopAll||(this._debuffList.timid.duration--,this._debuffList.timid.duration<=0&&(this._debuffList.timid.state=!1,this.unschedule(this.reduceDebuffTimid)))},a.addDebuffParalysis=function(t){this._debuffList.paralysis.state=!0,this._debuffList.paralysis.duration=t,this.paralysisEffect(),this.unschedule(this.reduceDebuffParalysis),this.schedule(this.reduceDebuffParalysis,1)},a.reduceDebuffParalysis=function(){D.stopAll||(this._debuffList.paralysis.duration--,this._debuffList.paralysis.duration<=0&&(this._debuffList.paralysis.state=!1,this.recoveryNormalState(),this.unschedule(this.reduceDebuffParalysis)))},a.addDebuffFrozen=function(t){M.dispatch("playOneShot","battle/frozen"),this._debuffList.frozen.state=!0,this._debuffList.frozen.duration=t,this.frozenEffect(),this.unschedule(this.reduceDebuffFrozen),this.schedule(this.reduceDebuffFrozen,1)},a.reduceDebuffFrozen=function(){D.stopAll||(this._debuffList.frozen.duration--,this._debuffList.frozen.duration<=0&&(this._debuffList.frozen.state=!1,this.recoveryNormalState(),this.unschedule(this.reduceDebuffFrozen)))},a.ejectMonsterInObstacle=function(t,e){},a.setMonsterStrategyByIdOnTheBegging=function(){for(var t,e=n(this._curMonsterData.effects);!(t=e()).done;){switch(t.value){case 1:this.setBulletMonsterStrategy();break;case 2:this.setFrozenStrategy();break;case 3:this.setSpeedMonsterStrategy();break;case 4:this.fastMoveToHeroCurPos()}}},a.setBulletMonsterStrategy=function(){var t=Math.ceil(this._monsterId/6);if(Math.random()<.2*t){var e=new g(255,0,0,255);this.shotOnce(e)}},a.setFrozenStrategy=function(){this._effectList.frozen=!0,this._defaultMaterial=this.effect_frozen,this._parKey="effect_frozen",this.switchParByType(this._parKey),this.recoveryDefaultMaterial()},a.setSpeedMonsterStrategy=function(){var t=.5*Math.ceil(this._monsterId/6)+1.5;this._speedMonsterSpeedTimes=t},a.fastMoveToHeroCurPos=function(){console.log("快速冲向玩家")},a.setMonsterStrategyByIdOnTheBeggingAfterDied=function(){},a.shotOnce=function(t){var e=A.getFromPool("monsterBullet");e.getComponent(m).color=t;var i=this.getDirToHero();e.parent=y("Canvas/bulletLayer");var o=this.node.getWorldPosition();e.active=!0,e.setWorldPosition(o),this._bulletData.damage=this._curMonsterData.damage,e.getComponent("EnemySkill").init(this._bulletData,i,.5)},a.getDirToHero=function(){var t=this.node.getWorldPosition(),e=M.dispatch("getHeroWorldPos"),i={x:0,y:0},o={x:e.x-t.x,y:e.y-t.y};if(0==o.x)i.x=0,i.y=Math.abs(o.y)/o.y;else if(0==o.y)i.x=Math.abs(o.x)/o.x,i.y=0;else{var s=Math.abs(o.x/o.y);s>=1?(i.x=Math.abs(o.x)/o.x,i.y=1/s*Math.abs(o.y)/o.y):(i.x=s*Math.abs(o.x)/o.x,i.y=Math.abs(o.y)/o.y)}return new _(i.x,i.y)},a.initDefaultData=function(){this._effectList={fast:!1,frozen:!1},this._debuffList={timid:{state:!1,duration:0,damage:.5,moveSpeed:.5},frozen:{state:!1,duration:0},paralysis:{state:!1,duration:0}}},e}(b)).prototype,"flashWhiteMaterial",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(K.prototype,"defaultMaterial_normal",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(K.prototype,"defaultMaterial_green",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(K.prototype,"defaultMaterial_red",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(K.prototype,"defaultMaterial_yellow",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(K.prototype,"debuff_frozen",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(K.prototype,"debuff_paralysis",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(K.prototype,"effect_frozen",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(K.prototype,"beAttackedAnim",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=K))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterData.ts",["cc"],(function(r){"use strict";var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"30144h3bq1FZq7sGzjXg5LP","MonsterData",void 0);var t=100,c=100,i={xLine:function(r,e){if(void 0===e&&(e=0),r<=0||r%1!=0||r%2==0)throw new Error("参数错误 小于1 或为非整数 或为非偶数");for(var c=Math.floor(r/2),i=[],n=0;n<r;n++)i.push([(-c+n)*t,e]);return i},yLine:function(r,e){if(void 0===e&&(e=0),r<=0||r%1!=0||r%2==0)throw new Error("参数错误 小于1 或为非整数 或为偶数");for(var t=Math.floor(r/2),i=[],n=0;n<r;n++)i.push([e,(-t+n)*c]);return i},triR:function(r){if(r<=0||r%1!=0||r%2==0)throw new Error("参数错误 小于1 或为非整数 或为非偶数");for(var e=Math.floor(r/2),i=[],n=0;n<r;n++)n<=e?i.push([n*t,(e-n)*c]):i.push([(r-n-1)*t,(e-n)*c]);return i},triL:function(r){if(r<=0||r%1!=0||r%2==0)throw new Error("参数错误 小于1 或为非整数 或为非偶数");for(var e=Math.floor(r/2),i=[],n=0;n<r;n++)n<=e?i.push([(e-n)*t,(e-n)*c]):i.push([(n-e)*t,(e-n)*c]);return i},triU:function(r){if(r<=0||r%1!=0||r%2==0)throw new Error("参数错误 小于1 或为非整数 或为非偶数");for(var e=Math.floor(r/2),i=[],n=0;n<r;n++)n<=e?i.push([(e-n)*t,(e-n)*c]):i.push([(e-n)*t,(n-e)*c]);return i},triD:function(r){if(r<=0||r%1!=0||r%2==0)throw new Error("参数错误 小于1 或为非整数 或为非偶数");for(var e=Math.floor(r/2),i=[],n=0;n<r;n++)n<=e?i.push([(e-n)*t,-(e-n)*c]):i.push([(e-n)*t,-(n-e)*c]);return i},circle:function(r,e){if(e<4)throw"圆上点数过少 请输入大于4的数字";if(e%4!=0)throw"生成的在圆上的点的总数错误，不是4的倍数"+e;for(var t=e/4,c=[],i=1;i<t;i++){var n=r*Math.sin(Math.PI/180*i/t*90),o=Math.sqrt(r*r-n*n);c.push([o,n],[o,-n],[-o,n],[-o,-n])}return c.push([0,r],[0,-r],[r,0],[-r,0]),c},circleMore:function(r,e,t,c){for(var n=0,o=[];n<=c;){var h=r+e*n;i.circle(h,t).forEach((function(r){o.push(r)})),n++}return o},heart:function(r,e){if(e<20)throw"total过小，无法生成心形方程";var t=2*Math.PI/e;r/=16;for(var c=[];e;){var i=t*e,n=16*Math.pow(Math.sin(i),3),o=13*Math.cos(i)-5*Math.cos(2*i)-2*Math.cos(3*i)-Math.cos(4*i);n*=r,o*=r,c.push([n,o]),e--}return c},rect:function(r,e){if(e>0&&e%4!=0)throw"total 必须是大于0的4的倍数.";var t=e/4,c=[],n=i.xLine(t,r),o=i.xLine(t,-r),h=i.yLine(t,r),a=i.yLine(t,-r);return n.forEach((function(r){return c.push(r)})),o.forEach((function(r){return c.push(r)})),h.forEach((function(r){return c.push(r)})),a.forEach((function(r){return c.push(r)})),c}};r("monsterData",{monsterMaxTotal:150,minGapWithHero1:150,minGapWithHero2:5,queueMappingList:{1:"one",2:"xL3",3:"xR3",4:"yU3",5:"yD3",6:"xL5",7:"xR5",8:"yU5",9:"yD5",10:"triR5",11:"triL5",12:"circleR1000T20",13:"heartR500T40",9001:"rectO500T12",9002:"rectO500T20",9003:"rectO500T28",9004:"rectO500T36",10001:"circleR1000T28",10002:"heartR500T28",10003:"circleR1000T36",10004:"heartR500T36",10005:"circleR1000T44",10006:"heartR500T44",10007:"circleR1000T52",10008:"heartR500T52",10009:"circleR1000T60",10010:"heartR500T60",11001:"circleR1000D100T28X5",11002:"circleR1000D80T28X7",11003:"circleR1000D60T28X10"},queue:{one:i.xLine(1),xL3:i.yLine(3),xR3:i.yLine(3),yU3:i.xLine(3),yD3:i.xLine(3),xL5:i.yLine(5),xR5:i.yLine(5),yU5:i.xLine(5),yD5:i.xLine(5),triR5:i.triR(5),triL5:i.triL(5),triU5:i.triU(5),triD5:i.triD(5),circleR1000T20:i.circle(1e3,20),heartR500T20:i.heart(500,20),rectO500T12:i.rect(500,12),rectO500T20:i.rect(500,20),rectO500T28:i.rect(500,28),rectO500T36:i.rect(500,36),circleR1000T28:i.circle(1e3,28),heartR500T28:i.heart(500,28),circleR1000T36:i.circle(1e3,36),heartR500T36:i.heart(500,36),circleR1000T44:i.circle(1e3,44),heartR500T44:i.heart(500,44),circleR1000T52:i.circle(1e3,52),heartR500T52:i.heart(500,52),circleR1000T60:i.circle(1e3,60),heartR500T60:i.heart(500,60),circleR1000D100T28X5:i.circleMore(1e3,100,28,5),circleR1000D80T28X7:i.circleMore(1e3,80,28,7),circleR1000D60T28X10:i.circleMore(1e3,60,28,10)},queueDir:{one:null,xL3:{x:-800,y:0},xR3:{x:800,y:0},yU3:{x:0,y:800},yD3:{x:0,y:-800},xL5:{x:-800,y:0},xR5:{x:800,y:0},yU5:{x:0,y:800},yD5:{x:0,y:-800},triR5:{x:-800,y:0},triL5:{x:800,y:0},triU5:{x:0,y:800},triD5:{x:0,y:-800},circleR1000T20:{x:0,y:0},heartR500T40:{x:0,y:0}},MSCoefficient:.5});e._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterLeader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts","./Simulator.ts","./Monster.ts"],(function(e){"use strict";var t,a,r,i,o,n,l,s,d,c,u,h,p,g,m,f,y,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.Material,s=e.Sprite,d=e.BoxCollider2D,c=e.UITransform,u=e.Size,h=e.Contact2DType},function(e){p=e.em},function(e){g=e.tagData,m=e.groupIndex},function(e){f=e.plm},function(e){y=e.default},function(e){M=e.Monster}],execute:function(){var S,v,b,_,B,D,L,T,C,x,w,z,A;o._RF.push({},"f31darYW99DxIBZWKvRFDZr","MonsterLeader",void 0);var I=n.ccclass,k=n.property;e("MonsterLeader",(S=I("MonsterLeader"),v=k(l),b=k(l),_=k(l),B=k(l),D=k([l]),S((C=t((T=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"leaderMaterial0",C,i(t)),r(t,"leaderMaterial1",x,i(t)),r(t,"leaderMaterial2",w,i(t)),r(t,"leaderMaterial3",z,i(t)),r(t,"leaderMaterial",A,i(t)),t._strengthType=void 0,t}a(t,e);var o=t.prototype;return o.createLeader=function(e,t){this._type="leader";var a=JSON.parse(JSON.stringify(p.dispatch("getMonsterDataById",e)));switch(this.setDefaultMaterialByType(t),t){case 0:this.createLeaderStrengthBlood(a);break;case 1:this.createLeaderStrengthMoveSpeed(a);break;case 2:this.createLeaderStrengthDamage(a);break;case 3:this.createLeaderSuperArmor(a);break;default:throw"未知的类型："+t}},o.setDefaultMaterialByType=function(e){var t=this.leaderMaterial[e];if(!t)throw"type is "+e+" material is error";this._defaultMaterial=t,this.node.getComponent(s).material=this._defaultMaterial,console.log("setDefaultMaterialByType",this.node)},o.createLeaderStrengthBlood=function(e){this._strengthType="blood",console.log("创建强化血量精英怪"),e.maxBlood*=20,e.damage*=3,e.moveSpeed*=1.5,this.node.setScale(2,2),this.init(e)},o.createLeaderStrengthMoveSpeed=function(e){this._strengthType="moveSpeed",console.log("创建强化移速精英怪"),e.maxBlood*=5,e.damage*=2,e.moveSpeed*=3,this.node.setScale(1.2,1.2),this.init(e)},o.createLeaderStrengthDamage=function(e){this._strengthType="damage",console.log("创建强化伤害精英怪"),e.maxBlood*=10,e.damage*=5,e.moveSpeed*=1.5,this.node.setScale(1.5,1.5),this.init(e)},o.createLeaderSuperArmor=function(e){this._strengthType="superArmor",console.log("创建霸体精英怪"),this._isSuperArmor=!0,e.maxBlood*=10,e.damage*=2,e.moveSpeed*=2,this.node.setScale(1.5,1.5),this.init(e)},o.init=function(e){this._curMonsterData=e,this.initMonsterMoveAnim(e),this._maxBlood=2*e.maxBlood,this._curBlood=e.maxBlood,this._attackInterval*=.5,this.initCollider(),this._sid=y.Instance.addAgent(this.node.getWorldPosition())},o.initCollider=function(){var e=this.getComponent(d);e||(e=this.node.addComponent(d));var t=this.node.getComponent(c),a=new u(t.contentSize.x/2,t.contentSize.y/2);e.tag=g.monster,e.size=a,e.group=m.enemy,e.on(h.BEGIN_CONTACT,this.onBeginContact,this)},o.update=function(e){this.move(),this.updateSpriteDirection()},o.dynamicAvoidCollider=function(){return null},o.monsterDied=function(){this.node.parent&&(f.putToPool("monsterLeader",this.node),p.dispatch("updateLeaderCurTotal",-1),p.dispatch("showKillLeaderReward",this._strengthType),p.dispatch("usingHeroControlFun","updateExpProgress",100),p.dispatch("updateKillCountLabel",1)),this.afterMonsterDied()},t}(M)).prototype,"leaderMaterial0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(T.prototype,"leaderMaterial1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(T.prototype,"leaderMaterial2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(T.prototype,"leaderMaterial3",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(T.prototype,"leaderMaterial",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=T))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/MonsterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager.ts","./EventManager.ts","./Quadtree.ts","./globalData.ts","./Simulator.ts","./RVOConfig.ts"],(function(e){"use strict";var t,n,r,o,i,s,a,l,u,h,d,c,m,f,g,p,M,y,v,P,C,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,l=e.Prefab,u=e.JsonAsset,h=e.Label,d=e.NodePool,c=e.Node,m=e.find,f=e.BoxCollider2D,g=e.Vec3,p=e.Component},function(e){M=e.plm},function(e){y=e.em},function(e){v=e.default},function(e){P=e.ggd,C=e.ggConfig},function(e){b=e.default},function(e){w=e.default}],execute:function(){var _,A,L,x,T,B,D,I,Q,S,R,q,O,z,E;s._RF.push({},"64b4feS1jZCmaEd2+7cjaAo","MonsterManager",void 0);var F=a.ccclass,H=a.property;e("MonsterManager",(_=F("MonsterManager"),A=H(l),L=H(l),x=H(u),T=H(u),B=H(h),D=H(l),_((S=t((Q=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"monsterChildPrefab",S,o(t)),r(t,"monsterLeaderPrefab",R,o(t)),r(t,"monsterPropertiesJson",q,o(t)),r(t,"monsterStrongJson",O,o(t)),r(t,"monsterTotalLabel",z,o(t)),r(t,"bullet",E,o(t)),t._initPosList=null,t._monsterProperties={},t._monsterAnimClips={},t._createCount=0,t._quadtree=void 0,t._waitCreateQueue=[],t._monsterParList=void 0,t}n(t,e);var s=t.prototype;return s.onDestroy=function(){y.remove("usingMonsterManagerFun"),y.remove("createMonsterByOutsideData"),y.remove("createMonsterLeader"),y.remove("getMonsterTotal"),y.remove("removeAllMonsters"),y.remove("getMonsterDataById"),y.remove("getMonsterAnimByAnimKey"),y.remove("createMonsterDamageTex"),y.remove("getAllMonsterColliders"),y.remove("getCurMonsterQuadtree")},s.onLoad=function(){this.initAnimClips(),y.add("usingMonsterManagerFun",this.usingMonsterManagerFun.bind(this)),y.add("createMonsterByOutsideData",this.createMonsterByOutsideData.bind(this)),y.add("createMonsterLeader",this.createMonsterLeader.bind(this)),y.add("getMonsterTotal",this.getMonsterTotal.bind(this)),y.add("removeAllMonsters",this.removeAllMonsters.bind(this)),y.add("getMonsterDataById",this.getMonsterDataById.bind(this)),y.add("getMonsterAnimByAnimKey",this.getMonsterAnimByAnimKey.bind(this)),y.add("createMonsterDamageTex",this.createMonsterDamageTex.bind(this)),y.add("getAllMonsterColliders",this.getAllMonsterColliders.bind(this)),y.add("getCurMonsterQuadtree",this.getCurMonsterQuadtree.bind(this)),M.addPoolToPools("monsterChild",new d,this.monsterChildPrefab),M.addPoolToPools("monsterLeader",new d,this.monsterLeaderPrefab),M.addPoolToPools("monsterBullet",new d,this.bullet),this._initPosList={up:{x:0,y:300},down:{x:0,y:-300},left:{x:-300,y:0},right:{x:300,y:0}},this.initMonsterProperties(),this.settingRVOConfig(),this.initEnemyPar()},s.initEnemyPar=function(){this._monsterParList={};for(var e=0,t=["normal","green","red","yellow","others","white","frozen","paralysis","effect_frozen"];e<t.length;e++){var n=t[e],r=new c(n);r.parent=m("Canvas/enemyLayer"),this._monsterParList[n]=r}console.log(m("Canvas/puppetLayer"))},s.settingRVOConfig=function(){b.Instance.setTimeStep(w.gameTimeStep),b.Instance.setAgentDefaults(w.neighborDist,w.maxNeighbors,w.timeHorizon,w.timeHorizonObst,w.radius,w.maxSpeed,w.velocity)},s.updateQuadtree=function(){if(!P.stopAll){var e=y.dispatch("getHeroWorldPos");this._quadtree=new v({x:e.x-C.quadTreeRange.w/2,y:e.y-C.quadTreeRange.h/2,width:C.quadTreeRange.w,height:C.quadTreeRange.h});for(var t=0;t<this.node.children.length;t++)for(var n,r=this.node.children[t],o=i(r.children);!(n=o()).done;){var s=n.value.getComponent(f).worldAABB;Math.abs(e.x-s.x-s.width/2)>C.quadTreeRange.w/2||(Math.abs(e.y-s.y-s.height/2)>C.quadTreeRange.h/2||this._quadtree.insert(s))}for(var a=m("Canvas/bossLayer"),l=0;l<a.children.length;l++){var u=a.children[l].getChildByName("sprite").getComponent(f).worldAABB;this._quadtree.insert(u)}}},s.getCurMonsterQuadtree=function(){return this._quadtree},s.initAnimClips=function(){var e=this;y.dispatch("loadTheDir","/anim/enemy/monster",(function(t){t.forEach((function(t){e._monsterAnimClips[t.name]=t}))}))},s.initMonsterProperties=function(){var e=this;this.monsterPropertiesJson.json.forEach((function(t){var n=t.id;e._monsterProperties[n]=t}))},s.start=function(){this.initQuadTree(),this.showMonsterTotal(1)},s.initQuadTree=function(){var e=y.dispatch("getHeroWorldPos");this._quadtree=new v({x:e.x-300,y:e.y-300,width:600,height:1200}),console.log("this._quadtree",this._quadtree)},s.showMonsterTotal=function(e){var t=this;this.schedule((function(){var e=t.getMonsterTotal();t.monsterTotalLabel.string="怪物总数：\n"+e}),e)},s.createMonsterLeader=function(e,t){var n=M.getFromPool("monsterLeader");n.parent=m("Canvas/enemyLayer/normal");var r=this.getRandomInitPos(),o=y.dispatch("getHeroWorldPos");n.setWorldPosition(r.x+o.x,r.y+o.y,0),n.getComponent("MonsterLeader").createLeader(e,t)},s.getAllAroundWpList=function(e){var t={up:new g,down:new g,left:new g,right:new g};for(var n in t){var r=t[n];r.x=e.x+this._initPosList[n].x,r.y=e.y+this._initPosList[n].y,r.z=0}return t},s.createQueueCircle=function(e,t){if(t%4!=0)throw"生成的在圆上的点的总数错误，不是4的倍数"+t;for(var n=t/4,r=[],o=1;o<n;o++){var i=e*Math.sin(Math.PI/180*o/n*90),s=Math.sqrt(e*e-i*i);r.push([s,i],[s,-i],[-s,i],[-s,-i])}return r.push([0,e],[0,-e],[e,0],[-e,0]),r},s.createQueueHeart=function(e,t){if(t<20)throw"total过小，无法生成心形方程";var n=2*Math.PI/t;e/=16;for(var r=[];t;){var o=n*t,i=16*Math.pow(Math.sin(o),3),s=13*Math.cos(o)-5*Math.cos(2*o)-2*Math.cos(3*o)-Math.cos(4*o);i*=e,s*=e,r.push([i,s]),t--}return r},s.createMonsterByOutsideData=function(e,t,n){void 0===n&&(n=null),null==n&&(n=this.getRandomInitPos()),this.createMonsterQueue(e,t,n)},s.getRandomInitPos=function(){switch(this._createCount++,this._createCount%4){case 0:return{x:2*this._initPosList.up.x,y:2*this._initPosList.up.y};case 1:return{x:2*this._initPosList.down.x,y:2*this._initPosList.down.y};case 2:return{x:2*this._initPosList.left.x,y:2*this._initPosList.left.y};case 3:return{x:2*this._initPosList.right.x,y:2*this._initPosList.right.y};default:throw new Error("getRandomInitPos err")}},s.createMonsterQueue=function(e,t,n){var r=this;n=this.addRandomOffset(n),t.forEach((function(t){C.framingInitMonster?r._waitCreateQueue.push({monsterId:e,pos:t,initOffset:n}):r.createMonster(e,t,n)}))},s.update=function(){if(!P.stopAll&&(this.updateQuadtree(),b.Instance.doStep(),C.framingInitMonster&&this._waitCreateQueue.length>0))for(var e=this._waitCreateQueue.length>1?1:this._waitCreateQueue.length;e;){var t=this._waitCreateQueue.shift();this.createMonster(t.monsterId,t.pos,t.initOffset),e--}},s.createMonster=function(e,t,n){var r=M.getFromPool("monsterChild"),o=y.dispatch("getMonsterDataById",e),i=y.dispatch("getHeroWorldPos");r.parent=this.getParNodeByKey(o.color),r.setWorldPosition(n.x+i.x+t[0],n.y+i.y+t[1],0),r.active=!0,r.getComponent("Monster").init(o,e,this.monsterStrongJson.json["stage"+P.curStage])},s.addRandomOffset=function(e){if(0==e.x&&0!=e.y){var t=e.y;e.x+=Math.random()>.5?.5*t+Math.random()*t*.5|0:-(.5*t+Math.random()*t*.5|0)}else{if(0==e.x||0!=e.y)return e;var n=e.x;e.y+=Math.random()>.5?.5*n+Math.random()*n*.5|0:-(.5*n+Math.random()*n*.5|0)}return e},s.getMonsterTotal=function(){var e=0;return this.node.children.forEach((function(t){e+=t.children.length})),e},s.getAllMonster=function(){for(var e=[],t=0;t<this.node.children.length;t++)for(var n,r=this.node.children[t],o=i(r.children);!(n=o()).done;){var s=n.value;e.push(s)}return e},s.removeAllMonsters=function(){var e=this;this.schedule((function t(){console.log("分帧移除");var n=e.getMonsterTotal();console.log("mt",n),n?n>=50?e.removeSomeMonsters(50):e.removeSomeMonsters(n):e.unschedule(t)}),1/60)},s.removeSomeMonsters=function(e){for(var t=this.getAllMonster();e;){var n=t[e-1];n.removeFromParent(),M.putToJunkyard(n),e--}},s.getMonsterDataById=function(e){if(this._monsterProperties.hasOwnProperty(e))return this._monsterProperties[e];throw"property "+e+" of _monsterProperties is null"},s.getMonsterAnimByAnimKey=function(e){return this._monsterAnimClips[e]},s.createMonsterDamageTex=function(e,t){y.dispatch("getHeroControlProperty","_isDamageImmunity")||y.dispatch("usingHeroControlFun","updateBloodProgress",-t)},s.getAllMonsterColliders=function(){var e=this.getAllMonster(),t=[];return e.forEach((function(e){if("monsterChild"==e.name){var n=e.getComponent(f);t.push(n)}})),t},s.getAllMonsterScript=function(){var e=this.getAllMonster(),t=[];return e.forEach((function(e){"monsterChild"==e.name?t.push(e.getComponent("Monster")):"monsterLeader"==e.name&&t.push(e.getComponent("MonsterLeader"))})),t},s.pauseAllAnim=function(){this.doSameThings("pauseAnim")},s.resumeAllAnim=function(){this.doSameThings("resumeAnim")},s.doSameThings=function(e){this.getAllMonster().forEach((function(t){"monsterChild"==t.name?t.getComponent("Monster")[e]():"monsterLeader"==t.name?t.getComponent("MonsterLeader")[e]():t.components[0][e]()}))},s.usingMonsterManagerFun=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this[e]&&"function"==typeof this[e])return this[e].apply(this,n);throw e+" is not fun or undefined"},s.getParNodeByKey=function(e){if(this._monsterParList.hasOwnProperty(e))return this._monsterParList[e];throw"getParNodeByKey false"},t}(p)).prototype,"monsterChildPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(Q.prototype,"monsterLeaderPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(Q.prototype,"monsterPropertiesJson",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(Q.prototype,"monsterStrongJson",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(Q.prototype,"monsterTotalLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(Q.prototype,"bullet",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=Q))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveLikeFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,i,a,n,o,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,a=t._decorator,n=t.Animation},function(t){o=t.em},function(t){r=t.tagData},function(t){s=t.Weapon}],execute:function(){var c;i._RF.push({},"a82d3h5129GNKZOCSjN7cNi","MoveLikeFire",void 0);var u=a.ccclass;a.property,t("MoveLikeFire",u("MoveLikeFire")(c=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){this.initSkillData()},a.initSkillData=function(){var t=o.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","moveLikeFire");this._damage=t.baseDamage,this._moveSpeed=0,this._canAttackTimes=1/0,this._backDis=10,this._attackInterval=.3,this._weaponName=t.name2,this.clearCacheData(),this.initBoxCollider(r.sword),this.node.getComponent(n).play()},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/MoveLikeShadow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Puppet.ts"],(function(t){"use strict";var o,e,i,n,r,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.tagData,r=t.groupIndex},function(t){s=t.Puppet}],execute:function(){var u;e._RF.push({},"da741lk0R1H1ok591YrEKqR","MoveLikeShadow",void 0);var a=i.ccclass;i.property,t("MoveLikeShadow",a("MoveLikeShadow")(u=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(t){this._maxBlood=t,this._curBlood=t,this.initNodeCallBack(),this.initBoxCollider(n.puppet,r.self)},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Obstacle.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"fddf3VbR/9AO4M89gunET3O","Obstacle",void 0);t("default",(function(){this.next_=void 0,this.previous_=void 0,this.direction_=void 0,this.point_=void 0,this.id_=void 0,this.convex_=void 0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/PassRewardLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts"],(function(e){"use strict";var t,i,n,a,r,o,s,l,d,c,h,u,p,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Label,l=e.Node,d=e.find,c=e.instantiate,h=e.Sprite,u=e.director,p=e.Component},function(e){g=e.em},function(e){f=e.ggd}],execute:function(){var w,b,m,v,L,y,R,C,M,_,B;r._RF.push({},"3915avsEoJBXokQnV1iJKrp","PassRewardLayer",void 0);var S=o.ccclass,D=o.property;e("PassRewardLayer",(w=S("PassRewardLayer"),b=D(s),m=D(s),v=D(s),L=D(l),w((C=t((R=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"descriptionLabel",C,a(t)),n(t,"killCountLabel",M,a(t)),n(t,"curStageLabel",_,a(t)),n(t,"doubleTips",B,a(t)),t._prefab=null,t._rContent=null,t._killLeaderRewardConfig=void 0,t._isPass=!1,t._notNoticeKillReward=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){g.add("openRewardLayer",this.openLayer.bind(this)),g.add("showKillLeaderReward",this.showKillLeaderReward.bind(this)),g.add("showPassReward",this.showPassReward.bind(this)),this.initNode(),this.initLeaderRewardConfig()},r.onDestroy=function(){g.remove("openRewardLayer"),g.remove("showKillLeaderReward"),g.remove("showPassReward")},r.initNode=function(){this._prefab=d("prefab",this.node),this._rContent=d("bg/ScrollView/view/content",this.node)},r.initLeaderRewardConfig=function(){this._killLeaderRewardConfig={0:"strengthBlood1",1:"strengthBlood2",2:"strengthBlood3",3:"strengthBlood4",4:"strengthBlood5",5:"strengthDamage1",6:"strengthDamage2",7:"strengthDamage3",8:"strengthDamage4",9:"strengthDamage5",10:"strengthMoveSpeed1",11:"strengthMoveSpeed2",12:"strengthMoveSpeed3",13:"strengthMoveSpeed4",14:"strengthMoveSpeed5"}},r.onDisable=function(){f.stopAll=d("passRewardLayer",this.node.parent).active},r.showKillLeaderReward=function(e){var t=5*Math.random()|0,i=g.dispatch("usingHeroControlFun","updateBonusValue",e,t+1);g.dispatch("createTipsTex",i)},r.showPassReward=function(e,t,i){var n=this;void 0===i&&(i=!1),e.forEach((function(e){if(console.log(e),e.total>0){var t=c(n._prefab),i=g.dispatch("getItemDataByIdOrName",e.id);t.parent=n._rContent,t.getChildByName("name").getComponent(s).string=i.name+"x"+e.total;var a=t.getChildByName("sprite").getComponent(h),r="images/items/"+i.loadUrl+"/spriteFrame";g.dispatch("loadTheDirResources",r,(function(e){return a.spriteFrame=e})),t.active=!0}})),this.descriptionLabel.string=t,this.killCountLabel.string=g.dispatch("geCurStageKillInfo"),this.curStageLabel.string="第"+f.curStage+"关",this.doubleTips.active=!!i,f.stopAll=!0,this.node.active=!0,this._isPass=!0},r.closeLayer=function(){this._isPass?(this.node.getChildByName("loading").active=!0,this.enterMainMenu()):(this.node.active=!1,d("Toggle",this.node).active=!1,g.dispatch("usingMonsterManagerFun","resumeAllAnim"),g.dispatch("usingHeroControlFun","resumeGame"))},r.enterMainMenu=function(){var e=this;g.dispatch("getMonsterTotal")<=0?(console.log("跳转到菜单界面"),u.loadScene("mainMenu",(function(){g.dispatch("switchMainBgm","/audio/music/刀剑如梦")}))):this.scheduleOnce((function(){e.enterMainMenu()}),.1)},r.openLayer=function(){this.node.active=!0},r.onBtnNotNotice=function(){this._notNoticeKillReward=!this._notNoticeKillReward},t}(p)).prototype,"descriptionLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(R.prototype,"killCountLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(R.prototype,"curStageLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(R.prototype,"doubleTips",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=R))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["cc"],(function(o){"use strict";var s,t,e;return{setters:[function(o){s=o.cclegacy,t=o.NodePool,e=o.instantiate}],execute:function(){s._RF.push({},"dd9c4pCzpdDAodMdKm5AUaB","PoolManager",void 0);o("plm",new(function(){function o(){this.pools=void 0,this.prefabs=void 0,this.junkyard=void 0,this.pools={},this.prefabs={},this.junkyard=new t}var s=o.prototype;return s.addPoolToPools=function(o,s,t){this.pools[o]?console.warn("对象池"+o+"已存在"):(this.pools[o]=s,this.prefabs[o]=t,console.log("成功添加对象池"+o))},s.getFromPool=function(o,s){void 0===s&&(s=!1);var t=this.pools[o],l=this.prefabs[o];if(!t)return console.warn("对象池"+o+"不存在"),!1;if(!l)throw"预制件"+o+"不存在";var n=null;return t.size()>0?(n=t.get(),s&&console.log("从对象池获取"+o+"成功")):(n=e(l),s&&console.log("从对象池创建"+o+"成功")),n},s.putToPool=function(o,s,t){void 0===t&&(t=!1);var e=this.pools[o];if(!e)return console.warn(o+"对象池不存在,直接销毁"),void s.destroy();t&&console.log("将 "+s.uuid+" 放入对象池"+o),e.put(s)},s.putToJunkyard=function(o,s){void 0===s&&(s=!1),s&&console.log("放入垃圾场"),this.junkyard.put(o)},s.showAllPoolsAndPrefab=function(){console.log("pools",this.pools),console.log("prefabs",this.prefabs)},s.clearAllNodePool=function(){for(var o in this.clearJunkyard(),this.pools){if(Object.prototype.hasOwnProperty.call(this.pools,o))this.pools[o].clear(),delete this.pools[o]}for(var s in this.prefabs)Object.prototype.hasOwnProperty.call(this.prefabs,s)&&delete this.prefabs[s];console.log("this.pools",this.pools),console.log("this.prefabs",this.prefabs)},s.clearJunkyard=function(){this.junkyard.clear()},o}()));s._RF.pop()}}}));

System.register("chunks:///_virtual/PreLoad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameUrl.ts","./globalData.ts","./HttpRequest.ts"],(function(i){"use strict";var t,n,e,o,a,r,s,c,l,g,u,d,p,h,v,f,C;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Sprite,c=i.Label,l=i.find,g=i.director,u=i.sys,d=i.EditBox,p=i.Component},function(i){h=i.em},function(i){v=i.gUrl},function(i){f=i.ggd},function(i){C=i.hr}],execute:function(){var S,m,w,b,y,L,P,_,I;a._RF.push({},"0945a1ycZVIXowKyhXL17x/","PreLoad",void 0);var M=r.ccclass,V=r.property;i("PreLoad",(S=M("PreLoad"),m=V(s),w=V(c),b=V(c),S((P=t((L=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,e(t,"fillSprite",P,o(t)),e(t,"progressLabel",_,o(t)),e(t,"versionCode",I,o(t)),t._curAccountString=void 0,t._curPasswordString=void 0,t}n(t,i);var a=t.prototype;return a.onLoad=function(){l("Canvas/gameName").active=!0,l("Canvas/loadingProgressBg").active=!0,g.preloadScene("mainMenu"),this.versionCode.string=f.versionCode},a.onDestroy=function(){h.eventIsDefined("hideBanner")&&h.dispatch("hideBanner")},a.start=function(){},a.updateLoadingProgress=function(i){i<=this.fillSprite.fillRange||(this.fillSprite.fillRange=i,this.progressLabel.string=(100*i).toFixed(2)+"%")},a.enterMainMenuScene=function(){g.loadScene("mainMenu")},a.showLoginLayer=function(){l("Canvas/gameName").active=!1,l("Canvas/loadingProgressBg").active=!1,l("Canvas/loginLayer").active=!0;var i=u.localStorage.getItem("loginInfo");i&&(console.log("账号密码输入框显示data 还没写"),console.log("data",i),i=JSON.parse(i),l("Canvas/loginLayer/inputAccount").getComponent(d).string=i.account,l("Canvas/loginLayer/inputPassword").getComponent(d).string=i.password,this._curAccountString=i.account,this._curPasswordString=i.password)},a.inputAccount=function(i){this._curAccountString=i.string},a.inputPassword=function(i){this._curPasswordString=i.string},a.onBtnLogin=function(){var i=v.list.login,t={loginIdentity:this._curAccountString,credential:this._curPasswordString},n=this.loginComplete.bind(this),e=this.loginError.bind(this),o=this.loginTimeout.bind(this);C.post(i,t,n,e,o),l("Canvas/loading/Label").getComponent(c).string="登录中...",l("Canvas/loading").active=!0},a.loginComplete=function(i){if(l("Canvas/loading").active=!1,console.log("loginComplete",i),200==i.code){f.userInfo.isVisitor=!1,f.userInfo.token=i.data.token,f.userInfo.accountMetadata=i.data.accountMetadata;var t={account:this._curAccountString,password:this._curPasswordString};u.localStorage.setItem("loginInfo",JSON.stringify(t)),this.enterMainMenuScene()}else h.dispatch("tipsViewShow",i.message)},a.loginError=function(){l("Canvas/loading").active=!1,h.dispatch("tipsViewShow","网络异常，请重试或通过游客登录。")},a.loginTimeout=function(){l("Canvas/loading").active=!1,h.dispatch("tipsViewShow","网络延迟，请重试或通过游客登录。")},a.onBtnRegister=function(){var i=v.list.register,t={nickname:this._curAccountString,password:this._curPasswordString},n=this.registerComplete.bind(this),e=this.registerComplete.bind(this),o=this.registerTimeout.bind(this);C.post(i,t,n,e,o),l("Canvas/loading/Label").getComponent(c).string="注册中...",l("Canvas/loading").active=!0},a.registerComplete=function(i){console.log("registerComplete",i),200==i.code?(l("Canvas/loading").active=!1,h.dispatch("tipsViewShow","注册成功，请登录")):(l("Canvas/loading").active=!1,h.dispatch("tipsViewShow",i.message))},a.registerError=function(){l("Canvas/loading").active=!1,h.dispatch("tipsViewShow","网络异常，请重试或通过游客登录。")},a.registerTimeout=function(){l("Canvas/loading").active=!1,h.dispatch("tipsViewShow","网络延迟，请重试或通过游客登录。")},a.onBtnAsVisitor=function(){f.userInfo.isVisitor=!0,this.enterMainMenuScene()},t}(p)).prototype,"fillSprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(L.prototype,"progressLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(L.prototype,"versionCode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PrizeHallLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameUrl.ts","./HttpRequest.ts","./PoolManager.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,l,c,u,d,p;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.find,r=e.NodePool,a=e.Sprite,s=e.Label,l=e.Component},function(e){c=e.em},function(e){u=e.gUrl},function(e){d=e.hr},function(e){p=e.plm}],execute:function(){var h;n._RF.push({},"30ff6dHnqlOSpEBe/yd75rI","PrizeHallLayer",void 0);var m=i.ccclass;i.property,e("PrizeHallLayer",m("PrizeHallLayer")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._curCdkeySting=void 0,t._itemPrefab=void 0,t._itemContent=void 0,t}t(n,e);var i=n.prototype;return i.onLoad=function(){this._itemPrefab=o("item",this.node),this._itemContent=o("ScrollView/view/content",this.node);var e=new r;p.addPoolToPools("PrizeHallItem",e,this._itemPrefab)},i.onDisable=function(){this.clearContent()},i.inputCdkey=function(e){this._curCdkeySting=e.string},i.sendPrizeRequest=function(){var e=this,t=u.list.getPrize;d.get(t,{cdk:this._curCdkeySting},(function(t){console.log("response",t),t.successful?(console.log("添加领取奖励效果 还没写"),c.dispatch("tipsViewShow","领取奖励成功"),e.distributePrizes(t.data)):c.dispatch("tipsViewShow","cdk错误或已失效，领取失败。")}))},i.distributePrizes=function(e){var t=this;this.clearContent(),console.log("get prizes",e);for(var n=function(n){var i=e.prize[n],o=e.total[n],r=c.dispatch("getItemDataByIdOrName",i);c.dispatch("addItemToSS",i,o);var l=p.getFromPool("PrizeHallItem");l.parent=t._itemContent;var u=l.getChildByName("Sprite").getComponent(a),d="images/items/"+r.loadUrl+"/spriteFrame";c.dispatch("loadTheDirResources",d,(function(e){return u.spriteFrame=e})),l.getChildByName("Label").getComponent(s).string=r.name+"\nX"+o,l.active=!0,l.parent=t._itemContent},i=0;i<e.prize.length;i++)n(i)},i.clearContent=function(){console.log("清除content");for(var e=o("ScrollView/view/content",this.node);e.children.length;){var t=this._itemContent.children[0];t.removeFromParent(),p.putToPool("PrizeHallItem",t)}},n}(l))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Puppet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(o){"use strict";var t,e,r,s,i,n,l,d;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,r=o._decorator,s=o.BoxCollider2D,i=o.find,n=o.Sprite,l=o.Component},function(o){d=o.em}],execute:function(){var u;e._RF.push({},"a0e8bhfWAhNZZ3kUrOHPoj2","Puppet",void 0);var c=r.ccclass;r.property,o("Puppet",c("Puppet")(u=function(o){function e(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(t=o.call.apply(o,[this].concat(r))||this)._maxBlood=void 0,t._curBlood=void 0,t}t(e,o);var r=e.prototype;return r.initNodeCallBack=function(){this.node.updateBloodProgress=this.updateBloodProgress.bind(this),this.updateBloodProgress(0)},r.initBoxCollider=function(o,t){if(!o)throw"tag is"+o;var e=this.node.getComponent(s);e||(e=this.node.addComponent(s)),e.tag=o,e.group=t},r.updateBloodProgress=function(o){console.log("刷新傀儡血条",o),this._curBlood+=o,this._curBlood<0&&(this._curBlood=0,this.puppetDied()),this._curBlood>this._maxBlood&&(this._curBlood=this._maxBlood),i("bloodProgressBg/bloodProgress",this.node).getComponent(n).fillRange=this._curBlood/this._maxBlood,console.log("this._curBlood",this._curBlood),console.log("this._maxBlood",this._maxBlood)},r.puppetDied=function(){console.log("傀儡死亡"),d.dispatch("usingHeroControlFun","resetHeroPuppet"),this.node.destroy()},e}(l))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Quadtree.ts",["cc"],(function(t){"use strict";var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"888bbjDMWZHcKwbmcRnFa25","Quadtree",void 0);t("default",function(){function t(t,s,e,i){void 0===i&&(i=0),this.max_objects=10,this.max_levels=4,this.level=0,this.bounds=null,this.objects=[],this.nodes=[],this.max_objects=5,this.max_levels=10,this.level=i,this.bounds=t,this.objects=[],this.nodes=[]}var s=t.prototype;return s.split=function(){var s=this.level+1,e=this.bounds.width/2,i=this.bounds.height/2,h=this.bounds.x,n=this.bounds.y;this.nodes[0]=new t({x:h+e/2,y:n+i/2,width:e,height:i},this.max_objects,this.max_levels,s),this.nodes[1]=new t({x:h-e/2,y:n+i/2,width:e,height:i},this.max_objects,this.max_levels,s),this.nodes[2]=new t({x:h-e/2,y:n-i/2,width:e,height:i},this.max_objects,this.max_levels,s),this.nodes[3]=new t({x:h+e/2,y:n-i/2,width:e,height:i},this.max_objects,this.max_levels,s)},s.getIndex=function(t){var s=[],e=this.bounds.x,i=this.bounds.y,h=.5*t.height,n=.5*t.width,o=t.y+h>i,l=t.x-n<e,c=t.x+n>e,r=t.y-h<i;return o&&c&&s.push(0),l&&o&&s.push(1),l&&r&&s.push(2),c&&r&&s.push(3),s},s.insert=function(t){var s,e=0;if(this.nodes.length)for(s=this.getIndex(t),e=0;e<s.length;e++)this.nodes[s[e]].insert(t);else if(this.objects.push(t),this.objects.length>this.max_objects&&this.level<this.max_levels){for(this.nodes.length||this.split(),e=0;e<this.objects.length;e++){s=this.getIndex(this.objects[e]);for(var i=0;i<s.length;i++)this.nodes[s[i]].insert(this.objects[e])}this.objects=[]}},s.retrieve=function(t){var s=this.getIndex(t),e=this.objects;if(this.nodes.length)for(var i=0;i<s.length;i++)e=e.concat(this.nodes[s[i]].retrieve(t));return e=e.filter((function(t,s){return e.indexOf(t)>=s}))},s.clear=function(){this.objects=[];for(var t=0;t<this.nodes.length;t++)this.nodes.length&&this.nodes[t].clear();this.nodes=[]},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Queue.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"54a10/Onh9HBJIkeKY3XN7P","Queue",void 0);t("Queue",function(){function t(){this.list=[]}var e=t.prototype;return e.enqueue=function(t){this.list.push(t)},e.dequeue=function(){return this.empty()?(console.log("无法出队"),!1):this.list.shift()},e.front=function(){return this.empty()&&console.log("无法查看"),this.list[0]},e.back=function(){return this.empty()&&console.log("无法查看"),this.list[this.list.length-1]},e.toString=function(){return this.list.join("\n")},e.clear=function(){delete this.list,this.list=[]},e.empty=function(){if(0===this.list.length)return console.log("队列为空"),!0},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RotationAxe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Weapon.ts"],(function(t){"use strict";var a,e,i,n,o;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.em},function(t){o=t.Weapon}],execute:function(){var s;e._RF.push({},"58a81TjAmZEdrocQWXB7M8w","RotationAxe",void 0);var r=i.ccclass;i.property,t("RotationAxeChild",r("RotationAxeChild")(s=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.init=function(){this.initEquData(),this.clearCacheData()},i.initEquData=function(){var t=n.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");this._damage=t.lData.baseDamage,this._damageTimes=t.lData.damageTimes,this._duration=1/0,this._moveSpeed=100,this._backDis=50,this._attackInterval=2,this._canAttackTimes=1/0,this._weaponName="rotationAxeChild",this.initEquDataByExtraProperties(t)},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/RotationAxePar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./PoolManager.ts"],(function(t){"use strict";var e,i,o,n,a,r,s,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,l=t.Component},function(t){u=t.ggd},function(t){p=t.plm}],execute:function(){var c,h,x,d,m,v,f;a._RF.push({},"1897dQZbX1Ds624YUbEEt0v","RotationAxePar",void 0);var _=r.ccclass,g=r.property;t("RotationAxe",(c=_("RotationAxe"),h=g(s),x=g(s),c((v=e((m=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"axe1",v,n(e)),o(e,"axe2",f,n(e)),e._moveSpeed=void 0,e._duration=void 0,e._weaponName=void 0,e}i(e,t);var a=e.prototype;return a.init=function(){this.axe1.setPosition(-100,0,0),this.axe2.setPosition(100,0,0),this.axe1.setRotationFromEuler(0,0,0),this.axe2.setRotationFromEuler(0,0,0),this._moveSpeed=120,this._duration=3.5,this._weaponName="rotationAxe",this.axe1.getComponent("RotationAxeChild").init(),this.axe2.getComponent("RotationAxeChild").init()},a.update=function(t){if(!u.stopAll){var e=this.axe1.getPosition(),i=this.axe2.getPosition();this.axe1.setPosition(e.x-t*this._moveSpeed,e.y,e.z),this.axe2.setPosition(i.x+t*this._moveSpeed,i.y,i.z),this._duration-=t,this._duration<=0&&p.putToPool(this._weaponName,this.node,!0)}},e}(l)).prototype,"axe1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(m.prototype,"axe2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/RVOConfig.ts",["cc","./Vector2.ts"],(function(e){"use strict";var t,i;return{setters:[function(e){t=e.cclegacy},function(e){i=e.default}],execute:function(){t._RF.push({},"2159aRLIK9BcaqD6p8Y212E","RVOConfig",void 0);var n=e("default",(function(){}));n.neighborDist=100,n.radius=30,n.maxSpeed=500,n.velocity=new i(0,0),n.maxNeighbors=10,n.timeHorizon=25,n.timeHorizonObst=5,n.gameTimeStep=.25,t._RF.pop()}}}));

System.register("chunks:///_virtual/RVOMath.ts",["cc","./Vector2.ts"],(function(t){"use strict";var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"21d6aajhXFBzriKnTNYSwLS","RVOMath",void 0);var u=t("default",function(){function t(){}return t.abs=function(t){return this.sqrt(this.absSq(t))},t.absSq=function(t){return r.multiply(t,t)},t.normalize=function(t){return r.division(t,this.abs(t))},t.det=function(t,n){return t.x*n.y-t.y*n.x},t.distSqPointLineSegment=function(t,n,u){var s=r.multiply(r.subtract(u,t),r.subtract(n,t))/this.absSq(r.subtract(n,t));return s<0?this.absSq(r.subtract(u,t)):s>1?this.absSq(r.subtract(u,n)):this.absSq(r.subtract(u,r.addition(t,r.multiply2(s,r.subtract(n,t)))))},t.fabs=function(t){return Math.abs(t)},t.leftOf=function(t,n,u){return this.det(r.subtract(t,u),r.subtract(n,t))},t.sqr=function(t){return t*t},t.sqrt=function(t){return Math.sqrt(t)},t.transfromFloat=function(t){return Math.floor(10*t)/10},t}());u.RVO_EPSILON=1e-5,u.RVO_POSITIVEINFINITY=1e13,n._RF.pop()}}}));

System.register("chunks:///_virtual/SamadhiTrueFire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,e,n,a,o,r,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,a=t.Animation},function(t){o=t.em},function(t){r=t.tagData},function(t){s=t.Weapon}],execute:function(){var u;e._RF.push({},"fa9e36GRPBDFq3fyBBV3pXc","SamadhiTrueFire",void 0);var c=n.ccclass;n.property,t("SamadhiTrueFire",c("SamadhiTrueFire")(u=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.onDestroy=function(){},n.init=function(){this.addToAnimManger(),this.initSkillData()},n.initSkillData=function(){var t=o.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","samadhiTrueFire");this._damage=t.baseDamage,this._duration=t.duration,this._backDis=0,this._canAttackTimes=1/0,this._attackInterval=.5,this._weaponName=t.name2,this.node.parent=o.dispatch("getHeroControlProperty","node").getChildByName("sprite"),this.initBoxCollider(r.sword)},n.recoveryToPool=function(){this.removeAnimFromList(),this.node.destroy()},n.addToAnimManger=function(){var t=this.node.getComponent(a);o.dispatch("usingGameAnimManagerFun","addAnimToList",t)},n.removeAnimFromList=function(){var t=this.node.getComponent(a);o.dispatch("usingGameAnimManagerFun","removeAnimFromList",t)},e}(s))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SavingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameUrl.ts","./globalData.ts","./globalFun.ts","./HttpRequest.ts"],(function(t){"use strict";var a,e,i,n,s,o,r,g,l,c,m;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,n=t.director,s=t.sys,o=t.Component},function(t){r=t.em},function(t){g=t.gUrl},function(t){l=t.ggd},function(t){c=t.glf},function(t){m=t.hr}],execute:function(){var p;e._RF.push({},"57546QrwlBC8YczrgjQR8PN","SavingManager",void 0);var v=i.ccclass;i.property,t("SavingManager",v("SavingManager")(p=function(t){function e(){for(var a,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(a=t.call.apply(t,[this].concat(i))||this)._tempData=null,a}a(e,t);var i=e.prototype;return i.onLoad=function(){r.add("savingToTempData",this.savingToTempData.bind(this)),r.add("getTempData",this.getTempData.bind(this)),r.add("savingGlobalDataToTempData",this.savingGlobalDataToTempData.bind(this)),this.initTempData(),n.addPersistRootNode(this.node),console.log("========================INIT SavingManager==================="),this.initGlobalData()},i.onDestroy=function(){r.remove("savingToTempData"),r.remove("getTempData")},i.savingToTempData=function(t,a){this._tempData.hasOwnProperty(t)||(console.warn("添加新属性"+t),console.log(a)),this._tempData[t]=JSON.parse(JSON.stringify(a)),console.log("temp data，saving key is "+t,this._tempData),this.savingTime(),l.userInfo.isVisitor?s.localStorage.setItem("saving",JSON.stringify(this._tempData)):this.savingToServer()},i.savingToServer=function(){var t=g.list.savingData,a={configValue:JSON.stringify(this._tempData)},e=this.savingToServerComplete.bind(this),i=this.savingToServerError.bind(this);m.post(t,a,e,i)},i.savingToServerComplete=function(t){},i.savingToServerError=function(){},i.savingTime=function(){var t=c.getTimeDetail();this._tempData.savingInfo.curTime=t,this._tempData.savingInfo.curTimeStamp=(new Date).getTime()},i.getTempData=function(t){return this._tempData.hasOwnProperty(t)?this._tempData[t]:null},i.initTempData=function(){var t=s.localStorage.getItem("saving");l.userInfo.isVisitor||(t=l.userInfo.accountMetadata),this._tempData=t?JSON.parse(t):{},this._tempData.hasOwnProperty("savingInfo")||(this._tempData.savingInfo={startTime:c.getTimeDetail(),timeStamp:(new Date).getTime(),curTime:c.getTimeDetail(),curTimeStamp:(new Date).getTime()})},i.initGlobalData=function(){if(this._tempData.hasOwnProperty("global")){var t=this._tempData.global;l.stageProgress=t.stageProgress,l.versionCode!==t.versionCode&&(console.log("版本更新"),this.savingGlobalDataToTempData(),this.scheduleOnce((function(){r.dispatch("openVersionNotice")}),0))}},i.savingGlobalDataToTempData=function(){var t={stageProgress:l.stageProgress,versionCode:l.versionCode};this.savingToTempData("global",t)},e}(o))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/SelectStageLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts"],(function(e){"use strict";var t,a,n,i,o,r,s,g,l,c,h,u,p,m,f,b,d,y,P,v,C,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,s=e._decorator,g=e.Prefab,l=e.Node,c=e.JsonAsset,h=e.Material,u=e.Sprite,p=e.ScrollView,m=e.instantiate,f=e.Label,b=e.UITransform,d=e.find,y=e.director,P=e.Component},function(e){v=e.em},function(e){C=e.ggd},function(e){S=e.glf}],execute:function(){var B,_,N,L,D,w,k,M,z,J,T,R,j,A,E,F,I,O,W;r._RF.push({},"94db5bEjvBPh5zPA2EHobww","SelectStageLayer",void 0);var x=s.ccclass,H=s.property;e("SelectCheckpointLayer",(B=x("SelectStageLayer"),_=H(g),N=H(l),L=H(c),D=H(c),w=H(c),k=H(h),M=H(h),z=H(l),B((R=t((T=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"SCPrefab",R,i(t)),n(t,"prefabPar",j,i(t)),n(t,"stageConfigJson",A,i(t)),n(t,"stageDesJson",E,i(t)),n(t,"stageStrongJson",F,i(t)),n(t,"grayMaterial",I,i(t)),n(t,"defaultMaterial",O,i(t)),n(t,"stageDetail",W,i(t)),t._isLoading=!1,t._mapName={1:"青青草原",2:"暗黑大陆",3:"晨星荒漠",4:"绝命谷",5:"寂静岭",6:"灼烧大陆",7:"无声荒漠",8:"虚无之地",9:"极寒之地",10:"魔幻大陆"},t._prefabArr=[],t._initPos={y:-300,gap:-400,changePos:1e3,changeRank:5},t._stageTotal=0,t}a(t,e);var r=t.prototype;return r.onLoad=function(){this._stageTotal=this.getStageTotal(),this.initPrefabs()},r.onEnable=function(){var e=this;this.scheduleOnce((function(){for(var t,a=o(e._prefabArr);!(t=a()).done;){var n=t.value;n.stageNum>C.stageProgress?n.getComponent(u).material=e.grayMaterial:n.getComponent(u).material=e.defaultMaterial}}),0);var t=(C.stageProgress-1)/C.totalStage;this.node.getChildByName("bg").getComponent(p).scrollToPercentVertical(1-t,.1)},r.getStageTotal=function(){var e=this.stageConfigJson.json,t=0;for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t++;return t},r.initPrefabs=function(){for(var e=0;e<5;e++){var t=m(this.SCPrefab);t.parent=this.prefabPar,t.setPosition(0,this._initPos.y+e*this._initPos.gap);var a=e+1;t.stageNum=a,t.stageNum>C.stageProgress?(t.getChildByName("btnBg").getChildByName("stageLock").active=!0,t.getComponent(u).material=this.grayMaterial):(t.getChildByName("btnBg").getChildByName("stageLock").active=!1,t.getComponent(u).material=this.defaultMaterial),t.getChildByName("Label").getComponent(f).string="第"+a+"关";var n=t.getChildByName("btnBg");S.createButton(this.node,n,"SelectStageLayer","onBtnEnter"),this._prefabArr.push(t);var i=t.getChildByName("detail");S.createButton(this.node,i,"SelectStageLayer","showStageDetail")}var o=this.prefabPar.getComponent(b);o.setContentSize(o.width,this._stageTotal*Math.abs(this._initPos.gap)+200)},r.showStageDetail=function(e){var t=e.target.parent;this.stageDetail.active=!0;var a=t.stageNum,n="";n=a>C.stageProgress?"尚未可知。":this.getStageDesByStageNum(a),d("bg/title",this.stageDetail).getComponent(f).string="第"+a+"关",d("bg/content",this.stageDetail).getComponent(f).string=n},r.getStageDesByStageNum=function(e){var t="",a=this.stageConfigJson.json["stage"+e];t="游戏时长："+a[a.length-1].time/60+"分钟",t+="\n",t+=e<=5?"建议等级：炼气期\n通关奖励：一阶物品":e<=10?"建议等级：筑基期\n通关奖励：二阶物品":e<=20?"建议等级：结丹期\n通关奖励：三阶物品":e<=40?"建议等级：元婴期\n通关奖励：四阶物品":"通关奖励：五阶物品\n建议等级：化神期",this.stageDesJson.json["stage"+e]&&(t=t+"\n关卡描述："+this.stageDesJson.json["stage"+e]);var n=this.stageStrongJson.json["stage"+e];return n&&(n.blood||n.damage||n.moveSpeed)&&(t+="\n怪物属性强化：",n.blood&&(t=t+"\n血量增加"+100*n.blood+"%"),n.damage&&(t=t+"\n伤害增加"+100*n.damage+"%"),n.moveSpeed&&(t=t+"\n移速增加"+100*n.moveSpeed+"%")),t},r.onBtnCloseDetail=function(){this.stageDetail.active=!1},r.onBtnCheckpoint=function(e){var t=e.target.parent;console.log("onBtnCheckpoint",t.stageNum),this.onBtnEnter(e)},r.update=function(e){this.updatePrefabs()},r.updatePrefabs=function(){for(var e=this.prefabPar.parent.getWorldPosition(),t=0;t<this._prefabArr.length;t++){var a=this._prefabArr[t],n=a.getWorldPosition();if(n.y-e.y>this._initPos.changePos&&a.stageNum+this._initPos.changeRank<=this._stageTotal){var i=this._initPos.changeRank*this._initPos.gap;a.setWorldPosition(n.x,n.y+i,n.z),a.stageNum+=this._initPos.changeRank,a.getChildByName("Label").getComponent(f).string="第"+a.stageNum+"关"}else if(n.y-e.y<-this._initPos.changePos&&a.stageNum-this._initPos.changeRank>=1){var o=this._initPos.changeRank*this._initPos.gap;a.setWorldPosition(n.x,n.y-o,n.z),a.stageNum-=this._initPos.changeRank,a.getChildByName("Label").getComponent(f).string="第"+a.stageNum+"关"}a.stageNum>C.stageProgress?(a.getChildByName("btnBg").getChildByName("stageLock").active=!0,a.getComponent(u).material=this.grayMaterial):(a.getChildByName("btnBg").getChildByName("stageLock").active=!1,a.getComponent(u).material=this.defaultMaterial)}},r.onBtnEnter=function(e){var t=e.target.parent.stageNum;this._isLoading||(this._isLoading=!0,console.log("进入关卡"+t),t<=C.totalStage?(this.openLoading(),C.curStage=parseInt(t),console.log("切换音效"),y.loadScene("game",(function(){v.dispatch("switchMainBgm","/audio/music/不谓侠")}))):(console.warn("current stage is  undefined"),this._isLoading=!1))},r.openLoading=function(){d("Canvas/loading").active=!0},r.onBtnChangeStage=function(){C.stageProgress++,v.dispatch("savingGlobalDataToTempData")},t}(P)).prototype,"SCPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(T.prototype,"prefabPar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(T.prototype,"stageConfigJson",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(T.prototype,"stageDesJson",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(T.prototype,"stageStrongJson",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(T.prototype,"grayMaterial",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(T.prototype,"defaultMaterial",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(T.prototype,"stageDetail",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=T))||J));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShockWave.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Weapon.ts"],(function(t){"use strict";var a,e,i,n,s;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.em},function(t){s=t.Weapon}],execute:function(){var o;e._RF.push({},"266e0zh3tNCB5xsvAOly+Uv","ShockWave",void 0);var r=i.ccclass;i.property,t("ShockWave",r("ShockWave")(o=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.init=function(t){this.initEquData(t),this.clearCacheData(),this.changeBulletRotationByFlyDir()},i.initEquData=function(t){var a=n.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");this._damage=a.lData.baseDamage,this._damageTimes=0,this._duration=2,this._moveSpeed=700,this._backDis=50,this._attackInterval=2,this._canAttackTimes=1/0,this._weaponName="shockWave",this._flyDir={x:t.x/Math.abs(t.x),y:0},a.qData.effect.indexOf(1006)>-1&&(this._damage*=.5),this.initEquDataByExtraProperties(a)},e}(s))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ShowLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./PoolManager.ts"],(function(e){"use strict";var t,a,o,n,i,r,l,s,c,p,u,g,m,f,d,y,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,l=e.Prefab,s=e.Node,c=e.NodePool,p=e.Vec3,u=e.Label,g=e.tween,m=e.Color,f=e.Animation,d=e.Component},function(e){y=e.em},function(e){T=e.plm}],execute:function(){var h,P,b,w,x,v,C,M,L,D,S,A,z;i._RF.push({},"68818T5aVRELL8hQCf3cMKn","ShowLayer",void 0);var E=r.ccclass,B=r.property;e("ShowLayer",(h=E("ShowLayer"),P=B(l),b=B(l),w=B(s),x=B(s),v=B(s),h((L=t((M=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"damagePrefab",L,n(t)),o(t,"tipsPrefab",D,n(t)),o(t,"damageTexPar",S,n(t)),o(t,"tipsTexPar",A,n(t)),o(t,"tipsAnimLayer",z,n(t)),t}a(t,e);var i=t.prototype;return i.onDestroy=function(){y.remove("createDamageTex"),y.remove("createTipsTex"),y.remove("playAnimMassMonsterComing")},i.onLoad=function(){y.add("createDamageTex",this.createDamageTex.bind(this)),y.add("createTipsTex",this.createTipsTex.bind(this)),y.add("playAnimMassMonsterComing",this.playAnimMassMonsterComing.bind(this));var e=new c;T.addPoolToPools("damageTex",e,this.damagePrefab);var t=new c;T.addPoolToPools("tipsTex",t,this.tipsPrefab)},i.createDamageTex=function(e,t,a,o){void 0===a&&(a={x:0,y:50}),void 0===o&&(o="normal");var n=this.getColorConfigByDamage(t),i=T.getFromPool("damageTex");i.setScale(new p(0,0,1)),t=this.switchDamageTexToLength(t),i.getComponent(u).string="criticalHit"==o?"暴击:  "+t:t,i.getComponent(u).color=n,i.parent=this.damageTexPar;var r=e.getWorldPosition();i.setWorldPosition(r.x+a.x,r.y+a.y,0),this.playEffect2(i,n)},i.switchDamageTexToLength=function(e){return e<=9999?e:e<=9999999?Math.round(e/1e3)+"K":e<=9999999999?Math.round(e/1e6)+"M":Math.round(e/1e9)+"B"},i.playEffect1=function(e,t){var a=g().by(.5,{position:new p(0,100,0)},{onUpdate:function(a,o){e.getComponent(u).color=m.lerp(new m,t,new m(t.r,t.g,t.b,0),o)}}),o=g().to(.3,{scale:new p(1.2,1.2,1)});g(e).parallel(a,o).call((function(){e.setScale(new p(1,1,1)),T.putToPool("damageTex",e,!0)})).start()},i.playEffect2=function(e,t){g(e).to(.1,{scale:new p(1,1,1)}).delay(.3).to(.1,{scale:new p(0,0,1)}).call((function(){e.setScale(new p(1,1,1)),T.putToPool("damageTex",e,!1)})).start()},i.getColorConfigByDamage=function(e){return new m(255,245,0,255)},i.createTipsTex=function(e,t){void 0===t&&(t={x:0,y:50});var a=T.getFromPool("tipsTex");a.getComponent(u).string=e,a.parent=this.tipsTexPar;var o=y.dispatch("getHeroWorldPos");a.setWorldPosition(o.x+t.x,o.y+t.y,0),this.playTIPSTeXEffect(a)},i.playTIPSTeXEffect=function(e,t){void 0===t&&(t=new m(255,255,255,255));var a=g().by(1,{position:new p(0,200,0)},{onUpdate:function(a,o){e.getComponent(u).color=m.lerp(new m,t,new m(t.r,t.g,t.b,0),o)}}),o=g().to(.5,{scale:new p(1.2,1.2,1)});g(e).parallel(a,o).call((function(){e.setScale(new p(1,1,1)),T.putToPool("tipsTex",e,!0)})).start()},i.playAnimMassMonsterComing=function(){var e=this.tipsAnimLayer.getChildByName("massMonsterComing").getComponent(f);e.node.active=!0,e.play(),this.scheduleOnce((function(){e.node.active=!1}),3)},t}(d)).prototype,"damagePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(M.prototype,"tipsPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(M.prototype,"damageTexPar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(M.prototype,"tipsTexPar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(M.prototype,"tipsAnimLayer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=M))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/Simulator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Agent.ts","./KdTree.ts","./Obstacle.ts","./RVOMath.ts","./Vector2.ts"],(function(t){"use strict";var e,i,n,s,a,o,_;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.default},function(t){s=t.default},function(t){a=t.default},function(t){o=t.default},function(t){_=t.default}],execute:function(){i._RF.push({},"40f08r891lIkbr1wTpURuaG","Simulator",void 0);var l=t("default",function(){function t(){this.agentNo2indexDict_=void 0,this.index2agentNoDict_=void 0,this.agents_=[],this.obstacles_=[],this.kdTree_=void 0,this.timeStep_=void 0,this.defaultAgent_=void 0,this.globalTime_=void 0,this.agentMap={},this.init()}var i=t.prototype;return i.init=function(){this.agents_=[],this.agentNo2indexDict_=new Map,this.index2agentNoDict_=new Map,this.defaultAgent_=null,this.kdTree_=new s,this.obstacles_=[],this.globalTime_=0,this.timeStep_=.1},i.doStep=function(){this.updateDeleteAgent(),this.kdTree_.buildAgentTree();for(var t=0,e=this.agents_.length;t<e;t++){var i=this.agents_[t];i.computeNeighbors(),i.computeNewVelocity()}for(var n=0,s=this.agents_.length;n<s;n++){this.agents_[n].update()}return this.globalTime_+=this.timeStep_,this.globalTime_},i.updateDeleteAgent=function(){for(var t=!1,e=this.agents_.length-1;e>=0;e--)this.agents_[e].needDelete_&&(this.agents_.splice(e,1),t=!0);t&&this.onDelAgent()},i.addAgent=function(e){if(null==this.defaultAgent_)return-1;var i=new n;return i.id_=t.s_totalID,t.s_totalID++,i.maxNeighbors_=this.defaultAgent_.maxNeighbors_,i.maxSpeed_=this.defaultAgent_.maxSpeed_,i.neighborDist_=this.defaultAgent_.neighborDist_,i.position_=e,i.radius_=this.defaultAgent_.radius_,i.timeHorizon_=this.defaultAgent_.timeHorizon_,i.timeHorizonObst_=this.defaultAgent_.timeHorizonObst_,i.velocity_=this.defaultAgent_.velocity_,this.agents_.push(i),this.onAddAgent(),this.agentMap[i.id_]=i,i.id_},i.addObstacle=function(t){if(t.length<2)return-1;for(var e=this.obstacles_.length,i=0;i<t.length;++i){var n=new a;n.point_=t[i],0!=i&&(n.previous_=this.obstacles_[this.obstacles_.length-1],n.previous_.next_=n),i==t.length-1&&(n.next_=this.obstacles_[e],n.next_.previous_=n),n.direction_=o.normalize(_.subtract(t[i==t.length-1?0:i+1],t[i])),2==t.length?n.convex_=!0:n.convex_=o.leftOf(t[0==i?t.length-1:i-1],t[i],t[i==t.length-1?0:i+1])>=0,n.id_=this.obstacles_.length,this.obstacles_.push(n)}return e},i.delAgentBySid=function(t){var e=this.agentMap[t];e&&(e.needDelete_=!0,delete this.agentMap[t])},i.onDelAgent=function(){this.agentNo2indexDict_.clear(),this.index2agentNoDict_.clear();for(var t=0;t<this.agents_.length;t++){var e=this.agents_[t].id_;this.agentNo2indexDict_.set(e,t),this.index2agentNoDict_.set(t,e)}},i.onAddAgent=function(){if(0!=this.agents_.length){var t=this.agents_.length-1,e=this.agents_[t].id_;this.agentNo2indexDict_.set(e,t),this.index2agentNoDict_.set(t,e)}},i.getAgentPosition=function(t){var e=this.agents_[this.agentNo2indexDict_.get(t)];return e?e.position_:new _(0,0)},i.getAgentPrefVelocity=function(t){return this.agents_[this.agentNo2indexDict_.get(t)].prefVelocity_},i.setTimeStep=function(t){this.timeStep_=t},i.setAgentDefaults=function(t,e,i,s,a,o,_){null==this.defaultAgent_&&(this.defaultAgent_=new n),this.defaultAgent_.maxNeighbors_=e,this.defaultAgent_.maxSpeed_=o,this.defaultAgent_.neighborDist_=t,this.defaultAgent_.radius_=a,this.defaultAgent_.timeHorizon_=i,this.defaultAgent_.timeHorizonObst_=s,this.defaultAgent_.velocity_=_},i.processObstacles=function(){this.kdTree_.buildObstacleTree()},i.setAgentPrefVelocity=function(t,e){var i=this.agents_[this.agentNo2indexDict_.get(t)];i&&(i.prefVelocity_=e)},e(t,null,[{key:"Instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}());l._instance=void 0,l.s_totalID=0,i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBookLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalFun.ts","./PoolManager.ts"],(function(o){"use strict";var e,t,i,n,s,a,r,l,c,h,p,k,d,g,u,B,m,y,f,L,S,_,b;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){s=o.cclegacy,a=o._decorator,r=o.SpriteFrame,l=o.Node,c=o.find,h=o.NodePool,p=o.instantiate,k=o.Sprite,d=o.Label,g=o.Color,u=o.Animation,B=o.UITransform,m=o.Tween,y=o.tween,f=o.Vec3,L=o.Component},function(o){S=o.em},function(o){_=o.glf},function(o){b=o.plm}],execute:function(){var v,C,w,F,D,P,N,T,O;s._RF.push({},"3cdb8SMhhdF5JZZxaW7u/Sm","SkillBookLayer",void 0);var R=a.ccclass,I=a.property;o("SkillBookLayer",(v=R("SkillBookLayer"),C=I([r]),w=I(l),F=I([r]),v((N=e((P=function(o){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=o.call.apply(o,[this].concat(s))||this,i(e,"typeSFs",N,n(e)),i(e,"guideFinger",T,n(e)),i(e,"skillBg",O,n(e)),e._loadingList={_skillBookClass:!1,_skillBook:!1},e._skillBookClass=void 0,e._skillBook=void 0,e._bookContent=void 0,e._curSelectBook=void 0,e._finishBookList=[],e._bookPrefabList={},e._usingBookList={"身法":"","心法":"","武技":"","绝技":"","神通":""},e._guideRewardBookName=void 0,e._guideRewardBookType=void 0,e}t(e,o);var s=e.prototype;return s.onLoad=function(){var o=c("switchBook/bookPrefab",this.node);b.addPoolToPools("SBLBookPrefab",new h,o),this._bookContent=c("ScrollView/view/content",this.node)},s.onEnable=function(){S.dispatch("getGuideData").SkillBookLayer||this.startSkillBookLayerGuide(),this.updateBookListView()},s.start=function(){this.dynamicLoadPrefabs(),this.initData(),this.initUsingBook()},s.initData=function(){var o=S.dispatch("getTempData","SkillBookLayer");o&&(this._finishBookList=o.finishBookList,this._usingBookList=o.usingBookList)},s.dynamicLoadPrefabs=function(){var o=this;S.dispatch("loadTheDirResources","prefabs/mainMenu/skillBookClass",(function(e){o._skillBookClass=e,o._loadingList._skillBookClass=!0,o.initBookListView()})),S.dispatch("loadTheDirResources","prefabs/mainMenu/skillBook",(function(e){o._skillBook=e,o._loadingList._skillBook=!0,o.initBookListView()}))},s.initBookListView=function(){var o=this;if(this.isCompleteLoading()){var e=this.getSkillBookClassList();for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&function(){var i=e[t],n=p(o._skillBookClass);switch(n.parent=o._bookContent,t){case"绝技":n.getChildByName("type").getComponent(k).spriteFrame=o.typeSFs[0];break;case"秘法":n.getChildByName("type").getComponent(k).spriteFrame=o.typeSFs[1];break;case"身法":n.getChildByName("type").getComponent(k).spriteFrame=o.typeSFs[2];break;case"神通":n.getChildByName("type").getComponent(k).spriteFrame=o.typeSFs[3];break;case"武技":n.getChildByName("type").getComponent(k).spriteFrame=o.typeSFs[4];break;case"心法":n.getChildByName("type").getComponent(k).spriteFrame=o.typeSFs[5]}i.forEach((function(e){var t=p(o._skillBook),i="images/icons/icon_"+e.name2+"/spriteFrame";if(S.dispatch("loadTheDirResources",i,(function(o){return t.getChildByName("Sprite").getComponent(k).spriteFrame=o})),o._finishBookList.indexOf(e.name)<0){if(t.getComponent(k).spriteFrame=o.skillBg[0],t.getChildByName("Label").getComponent(d).color=new g(30,30,30,255),S.dispatch("getItemTotalByIdOrName",e.name)>0){var s=t.getComponent(u);o.scheduleOnce((function(){s.play()}),0)}}else t.getComponent(k).spriteFrame=o.skillBg[1],t.getChildByName("Label").getComponent(d).color=new g(255,255,255,255);t.getChildByName("Label").getComponent(d).string=e.name,t.parent=c("/type/content",n),_.createButton(o.node,t,"SkillBookLayer","onBtnShowBookDetail",e.name),o._bookPrefabList[e.name]=t}));var s=280*Math.ceil(i.length/5)+c("/type",n).getComponent(B).contentSize.y;n.getComponent(B).setContentSize(n.getComponent(B).contentSize.width,s),console.log("height",s),console.log("contentSize.y",c("/type/content",n).getComponent(B).contentSize.y)}();if(!S.dispatch("getGuideData").SkillBookLayer){var i=this._bookPrefabList[this._guideRewardBookName];m.stopAllByTag(4);var n=this.guideFinger;n.active=!0,n.parent=i,n.setPosition(0,150,0);var s=y().by(.5,{position:new f(0,-100,0)}),a=y().by(.5,{position:new f(0,100,0)}),r=y(n).sequence(s,a);(r=y(n).repeatForever(r)).tag(4),r.start()}}},s.updateBookListView=function(){for(var o in this._bookPrefabList)if(Object.prototype.hasOwnProperty.call(this._bookPrefabList,o)){var e=this._bookPrefabList[o];if(S.dispatch("getItemTotalByIdOrName",o)>0&&this._finishBookList.indexOf(o)<0)e.getComponent(u).play()}},s.isCompleteLoading=function(){for(var o in this._loadingList){if(Object.prototype.hasOwnProperty.call(this._loadingList,o))if(!this._loadingList[o])return!1}return!0},s.getSkillBookClassList=function(){var o=S.dispatch("usingHeroBasePropertyFun","getAllAboutSkillBook"),e={};return o.forEach((function(o){e.hasOwnProperty(o.type)?e[o.type].push(o):e[o.type]=[o]})),e},s.onBtnShowBookDetail=function(o,e){var t=c("bookDetail",this.node),i=c("/bookDetail/study/Label",this.node).getComponent(d);i.string="领悟",t.active=!0,this._curSelectBook=e,this._finishBookList.indexOf(this._curSelectBook)>-1&&(i.string="已掌握");var n=S.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName",e);console.log("onBtnShowBookDetail",n),t.getChildByName("bookName").getComponent(d).string=n.name+"\n"+n.lv+"阶功法",t.getChildByName("bookDescription").getComponent(d).string="\n\n"+n.description},s.closeBookDetail=function(){c("bookDetail",this.node).active=!1},s.onBtnStudyBook=function(){if(!(this._finishBookList.indexOf(this._curSelectBook)>-1)){if(S.dispatch("reduceItemFromSS",this._curSelectBook,1)){this._finishBookList.push(this._curSelectBook),c("/bookDetail/study/Label",this.node).getComponent(d).string="已掌握";var o=this._bookPrefabList[this._curSelectBook];o.getComponent(u).stop(),o.getComponent(k).spriteFrame=this.skillBg[1],o.getChildByName("Label").getComponent(d).color=new g(255,255,255,255),this.savingFinishBookData(),S.dispatch("getGuideData").SkillBookLayer||this.startGuideSetSkill()}else S.dispatch("tipsViewShow","缺少秘籍:"+this._curSelectBook,3);console.log(this._finishBookList)}},s.savingFinishBookData=function(){var o={finishBookList:this._finishBookList,usingBookList:this._usingBookList};S.dispatch("savingToTempData","SkillBookLayer",o)},s.initUsingBook=function(){var o=this;for(var e in this._usingBookList)if(Object.prototype.hasOwnProperty.call(this._usingBookList,e)){var t=this._usingBookList[e];""!==t&&function(){var i=c("usingBook/"+e,o.node).getChildByName("sprite").getComponent(k),n="images/icons/icon_"+t+"/spriteFrame";S.dispatch("loadTheDirResources",n,(function(o){return i.spriteFrame=o}))}()}},s.onBtnSwitchBook=function(o,e){console.log("切换"+e),c("switchBook",this.node).active=!0,c("switchBook/bg/title",this.node).getComponent(d).string=e,this.initSwitchBook(e)},s.initSwitchBook=function(o){var e=this,t=c("switchBook/bg/content",this.node);this._finishBookList,this._finishBookList.forEach((function(i){var n=S.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName",i);if(n.type==o){var s=b.getFromPool("SBLBookPrefab"),a=s.getComponent(k);s.parent=t,s.getChildByName("name").getComponent(d).string=n.name;var r="images/icons/icon_"+n.name2+"/spriteFrame";S.dispatch("loadTheDirResources",r,(function(o){return a.spriteFrame=o})),_.createButton(e.node,s,"SkillBookLayer","switchBook",o+"@"+n.name2)}}))},s.switchBook=function(o,e){console.log("p",e),S.dispatch("getGuideData").SkillBookLayer||(this.guideFinger.active=!1,S.dispatch("setGuideData","SkillBookLayer",!0),S.dispatch("initMainMenuByGuideData"));var t=e.split("@"),i=t[0],n=t[1],s=c("usingBook/"+i,this.node).getChildByName("sprite").getComponent(k),a="images/icons/icon_"+n+"/spriteFrame";S.dispatch("loadTheDirResources",a,(function(o){return s.spriteFrame=o})),this._usingBookList[i]=n,console.log("this._usingBookList",this._usingBookList),this.closeSwitchBook(),this.savingFinishBookData()},s.closeSwitchBook=function(){c("switchBook",this.node).active=!1;for(var o=c("switchBook/bg/content",this.node);o.children.length;){var e=o.children[0];e.removeFromParent(),b.putToPool("SBLBookPrefab",e)}},s.startSkillBookLayerGuide=function(){S.dispatch("openGuideTips","首次进入，随机获取一本一阶功法（剑雨术、一剑隔世和万剑归冢）。每次进入功法界面，如果看到不断闪烁的功法，则表明此功法可以掌握，请赶快领悟并使用。"),c("Canvas/menuLayer/guideFinger").active=!1;var o,e=Math.random();e>.7?(S.dispatch("addItemToSS","万剑归冢",1),o="获得一阶功法：万剑归冢x1",this._guideRewardBookName="万剑归冢",this._guideRewardBookType="神通"):e>.3?(S.dispatch("addItemToSS","一剑隔世",1),o="获得一阶功法：一剑隔世x1",this._guideRewardBookName="一剑隔世",this._guideRewardBookType="绝技"):(S.dispatch("addItemToSS","剑雨术",1),o="获得一阶功法：剑雨术x1",this._guideRewardBookName="剑雨术",this._guideRewardBookType="武技"),S.dispatch("tipsViewShow",o)},s.startGuideSetSkill=function(){var o=c("Canvas/menuLayer/SkillBookLayer/usingBook/"+this._guideRewardBookType);m.stopAllByTag(4);var e=this.guideFinger;e.active=!0,e.parent=o,e.setPosition(0,150,0);var t=y().by(.5,{position:new f(0,-100,0)}),i=y().by(.5,{position:new f(0,100,0)}),n=y(e).sequence(t,i);(n=y(e).repeatForever(n)).tag(4),n.start()},e}(L)).prototype,"typeSFs",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(P.prototype,"guideFinger",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(P.prototype,"skillBg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=P))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/SkillManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts"],(function(e){"use strict";var i,t,n,o,a,r,s,d,u,l,c,g,p,h,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,d=e.instantiate,u=e.Sprite,l=e.Label,c=e.find,g=e.Component},function(e){p=e.em},function(e){h=e.ggd},function(e){m=e.glf}],execute:function(){var S,f,k,y,B;a._RF.push({},"147015qvZlGX40D++2yinmG","SkillManager",void 0);var v=r.ccclass,T=r.property;e("SkillManager",(S=v("SkillManager"),f=T(s),S((B=i((y=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"skillPrefab",B,o(i)),i._openSecretList=[],i._bloodMakeMeStrongTimes=0,i._drinkBloodValue=0,i._godWindCloudBodyTimes=0,i._thunderGodAngryTimes=0,i._thunderGodDignifiedTimes=0,i._percentageDamage=0,i._avoidAttackingTotalTime=0,i._beAttackedSSTimesList={},i._countdownList={sunHeart:0},i._skillDebuffEffect={paralysis:{probability:0,duration:0}},i}t(i,e);var a=i.prototype;return a.onDestroy=function(){p.remove("usingSkillManagerFun"),p.remove("getSkillManagerProperty")},a.onLoad=function(){p.add("usingSkillManagerFun",this.usingSkillManagerFun.bind(this)),p.add("getSkillManagerProperty",this.getSkillManagerProperty.bind(this)),this.initSkill()},a.start=function(){this.openAllSecretSkill(),this.startRecodeAvoidTime()},a.startRecodeAvoidTime=function(){var e=this;this.schedule((function(){h.stopAll||(e._avoidAttackingTotalTime++,e.updateBeAttackedListCountdown())}),1)},a.updateBeAttackedListCountdown=function(){for(var e in this._beAttackedSSTimesList)if(Object.prototype.hasOwnProperty.call(this._beAttackedSSTimesList,e)){var i=this._beAttackedSSTimesList[e];i.countdown>0&&(i.countdown--,i.countdown<=0&&(i.times=0))}},a.initSkill=function(){var e=this,i=p.dispatch("getTempData","SkillBookLayer")&&p.dispatch("getTempData","SkillBookLayer").usingBookList;if(i)for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var n=i[t];n&&function(){var i=d(e.skillPrefab);i.parent=e.node;var t=i.getComponent(u),o="images/icons/icon_"+n+"/spriteFrame";p.dispatch("loadTheDirResources",o,(function(e){return t.spriteFrame=e})),m.createButton(e.node,i,"SkillManager","onBtnSkill",n)}()}},a.onBtnSkill=function(e,i){var t=e.target.getChildByName("mask").getComponent(u);if(!(t.fillRange>0)){this[i](),t.fillRange=1;var n=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName",i).cd,o=e.target.getChildByName("remainingTime").getComponent(l),a=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName",i);p.dispatch("createTipsTex",a.name),this.startCoolDowntime(t,o,n)}},a.startCoolDowntime=function(e,i,t){var n=1/60,o=0;i.string=t;var a=setInterval((function(){h.stopAll||(o+=n,e.fillRange=1-o/t,i.string=(t-o).toFixed(2),o>=t&&(clearInterval(a),e.fillRange=0,i.string=""))}),1e3*n)},a.usingSkillManagerFun=function(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];if(this[e]&&"function"==typeof this[e])return this[e].apply(this,t);throw e+" is not fun or undefined"},a.getSkillManagerProperty=function(e){if(this.hasOwnProperty(e))return this[e];throw"skill manager 中不存在属性："+e},a.changeMoveSpeed=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","changeMoveSpeed");p.dispatch("usingHeroControlFun","changeHeroMoveSpeed",e.moveSpeedTimes,e.duration)},a.swordRain=function(){p.dispatch("usingWeaponManagerFun","usingSkillSwordRain")},a.justOneSwordDivideWorld=function(){p.dispatch("usingWeaponManagerFun","usingSkillJustOneSwordDivideWorld")},a.collectGas=function(){var e=this,i=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","凝气术");p.dispatch("usingHeroControlFun","updateTempCriticalHitRate",i.criticalHitRate),p.dispatch("usingHeroControlFun","isOpenCollectGas",!0);var t=i.duration;this.schedule((function n(){h.stopAll||--t<=0&&(e.unschedule(n),p.dispatch("usingHeroControlFun","updateTempCriticalHitRate",-i.criticalHitRate),p.dispatch("usingHeroControlFun","isOpenCollectGas",!1))}),1)},a.thousandsSwordToTomb=function(){p.dispatch("usingWeaponManagerFun","usingSkillThousandsSwordToTomb")},a.trackDisappear=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","trackDisappear");p.dispatch("usingHeroControlFun","usingSkillTrackDisappear",e.duration),p.dispatch("usingHeroControlFun","changeHeroMoveSpeed",e.moveSpeedTimes,e.duration)},a.lionRoar=function(){p.dispatch("usingHeroControlFun","usingSkillLionRoar")},a.iceCone=function(){p.dispatch("usingWeaponManagerFun","usingSkillIceCone")},a.iceShield=function(){p.dispatch("usingHeroControlFun","usingSkillIceShield")},a.iceAge=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","iceAge");p.dispatch("usingMapLayerFun","frozenMap",e.duration,.2)},a.moveLikeMeteor=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","moveLikeMeteor");p.dispatch("usingHeroControlFun","changeHeroMoveSpeed",e.moveSpeedTimes,e.duration)},a.samadhiTrueFire=function(){p.dispatch("loadTheDirResources","/prefabs/hero/weapon/samadhiTrueFire",(function(e){d(e).getComponent("SamadhiTrueFire").init()}))},a.sunHeart=function(){var e=this;p.dispatch("loadTheDirResources","/prefabs/hero/weapon/sunHeart",(function(e){d(e).parent=p.dispatch("getHeroControlProperty","node").getChildByName("effect")}));var i=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","sunHeart");p.dispatch("usingHeroControlFun","updateTempCriticalHitRate",i.criticalHitRate),this._countdownList.sunHeart=i.duration,this.unschedule(this.sunHeartCountdownRun),this.schedule((function(){e.sunHeartCountdownRun()}),1)},a.sunHeartCountdownRun=function(){if(!h.stopAll){this._countdownList.sunHeart--;var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","sunHeart");p.dispatch("usingHeroControlFun","updatePercentageBloodProgress",-e.damageTimes),this._countdownList.sunHeart<=0&&(p.dispatch("usingHeroControlFun","updateTempCriticalHitRate",-e.criticalHitRate),this.unschedule(this.sunHeartCountdownRun))}},a.fireBloom=function(){p.dispatch("usingWeaponManagerFun","usingSkillFireBloom")},a.hellFire=function(){p.dispatch("usingWeaponManagerFun","usingSkillHellFire")},a.moveLikeShadow=function(){p.dispatch("usingHeroControlFun","usingSkillMoveLikeShadow")},a.fingerLikeWind=function(){console.log("使用灵风指"),p.dispatch("loadTheDirResources","/prefabs/hero/weapon/fingerLikeWind",(function(e){d(e).getComponent("FingerLikeWind").init()}))},a.likeSpringBreeze=function(){var e=this,i=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","likeSpringBreeze");p.dispatch("usingHeroControlFun","updateTempCriticalHitRate",i.criticalHitRate),p.dispatch("usingHeroControlFun","updateTempPercentageDamage",i.damageTimes),p.dispatch("usingHeroControlFun","isOpenLikeSpringBreeze",!0);var t=i.duration;this.schedule((function n(){h.stopAll||(p.dispatch("usingHeroControlFun","updatePercentageBloodProgress",i.baseDamage),--t<=0&&(e.unschedule(n),p.dispatch("usingHeroControlFun","updateTempCriticalHitRate",-i.criticalHitRate),p.dispatch("usingHeroControlFun","updateTempPercentageDamage",-i.damageTimes),p.dispatch("usingHeroControlFun","isOpenLikeSpringBreeze",!1)))}),1)},a.dangerWindToNear=function(){p.dispatch("usingWeaponManagerFun","usingSkillDangerWindToNear")},a.doomsdayStorm=function(){p.dispatch("usingWeaponManagerFun","usingSkillDoomsdayStorm")},a.flyingThunderGod=function(){p.dispatch("usingHeroControlFun","usingSkillFlyingThunderGod")},a.thunderGodPower=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","thunderGodPower");this._skillDebuffEffect.paralysis.duration=e.baseDamage,this._skillDebuffEffect.paralysis.probability=e.damageTimes,p.dispatch("usingHeroControlFun","isOpenThunderGodPower")},a.thundercloud=function(){p.dispatch("loadTheDirResources","/prefabs/hero/weapon/thundercloud",(function(e){var i=d(e),t=c("Canvas/bulletLayer");i.parent=t;var n=p.dispatch("getHeroWorldPos");i.setWorldPosition(n),i.getComponent("Thundercloud").init()}))},a.thunderRunning=function(){p.dispatch("usingWeaponManagerFun","usingSkillThunderRunning")},a.thunderFissionBead=function(){p.dispatch("usingWeaponManagerFun","usingSkillThunderFissionBead")},a.openAllSecretSkill=function(){var e=this,i=p.dispatch("getTempData","SkillBookLayer")&&p.dispatch("getTempData","SkillBookLayer").finishBookList;console.log("openAllSecretSkill",i),i&&i.forEach((function(i){var t=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName",i);"秘法"==t.type&&e[t.name2]()}))},a.likeWindMove=function(){this._openSecretList.push("likeWindMove")},a.bloodMakeMeStrong=function(){this._openSecretList.push("bloodMakeMeStrong")},a.add_bloodMakeMeStrongTimes=function(){this._openSecretList.indexOf("bloodMakeMeStrong")<0||this._bloodMakeMeStrongTimes++},a.drinkBlood=function(){this._openSecretList.push("drinkBlood"),this._drinkBloodValue=20},a.iceHeart=function(){this._openSecretList.push("iceHeart");var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","iceHeart");this._percentageDamage+=e.damageTimes},a.moveLikeFire=function(){this._openSecretList.push("moveLikeFire"),p.dispatch("usingWeaponManagerFun","usingSkillMoveLikeFire")},a.flowFire=function(){this._openSecretList.push("flowFire");var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","flowFire");this._percentageDamage+=e.damageTimes},a.godWindCloudBody=function(){var e=this;this._openSecretList.push("godWindCloudBody"),this.schedule((function(){var i=Math.ceil(p.dispatch("getCurStageTime")/60);e._godWindCloudBodyTimes=i}),1)},a.driveWind=function(){this._openSecretList.push("driveWind")},a.thunderGodAngry=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","thunderGodAngry");this._openSecretList.push("thunderGodAngry"),this._beAttackedSSTimesList.thunderGodAngry={duration:e.duration,countdown:0,maxTimes:e.damageTimes,times:0,value:e.baseDamage}},a.thunderGodDignified=function(){this._openSecretList.push("thunderGodDignified");var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","thunderGodDignified");this._openSecretList.push("thunderGodDignified"),this._beAttackedSSTimesList.thunderGodDignified={duration:e.duration,countdown:0,maxTimes:e.damageTimes,times:0,value:e.baseDamage}},a.getMoveSpeedFromSecretSkill=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","仙风云体"),i=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","likeWindMove"),t=this._avoidAttackingTotalTime>i.damageTimes?i.damageTimes:this._avoidAttackingTotalTime;return this._openSecretList.indexOf("likeWindMove")<0&&(t=0),this._openSecretList.indexOf("godWindCloudBody")<0&&(e.moveSpeedTimes=0),t+this._godWindCloudBodyTimes*e.moveSpeedTimes},a.getDamageValueFromSecretSkill=function(){var e=this._bloodMakeMeStrongTimes;return this._openSecretList.indexOf("iceHeart")>-1&&(e+=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","iceHeart").baseDamage),e},a.getPercentageDamageFromSecretSkill=function(){var e=this._percentageDamage;this._beAttackedSSTimesList.hasOwnProperty("thunderGodAngry")&&(e+=this._beAttackedSSTimesList.thunderGodAngry.times*this._beAttackedSSTimesList.thunderGodAngry.value);return e},a.getRecoveryBloodFromSecretSkill=function(){return this._drinkBloodValue},a.getPercentageReduceDamageFromSecretSkill=function(){var e=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","仙风云体"),i=this._godWindCloudBodyTimes*e.damageTimes;return i>.5&&console.warn("免伤达到50%以上"),i},a.getBackDisFromSecretSkill=function(){var e=0;this._openSecretList.indexOf("driveWind")>-1&&(e+=p.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","御风术").baseDamage);return e},a.getCHRFromSecretSkill=function(){var e=0;this._beAttackedSSTimesList.hasOwnProperty("thunderGodDignified")&&(e+=this._beAttackedSSTimesList.thunderGodDignified.times*this._beAttackedSSTimesList.thunderGodDignified.value);return e},a.updateSecretSkillTimesAfterAttacked=function(){for(var e in this._avoidAttackingTotalTime=0,this._beAttackedSSTimesList)if(Object.prototype.hasOwnProperty.call(this._beAttackedSSTimesList,e)){var i=this._beAttackedSSTimesList[e];i.countdown=i.duration,i.times<i.maxTimes&&i.times++}},a.getSSDes=function(){var e="秘法：\n";return this._openSecretList.indexOf("likeWindMove")>-1&&(e+="风行诀层数:"+this._avoidAttackingTotalTime+"\n"),this._openSecretList.indexOf("bloodMakeMeStrong")>-1&&(e+="血煞功层数:"+this._bloodMakeMeStrongTimes+"\n"),this._openSecretList.indexOf("godWindCloudBody")>-1&&(e+="仙风云体层数:"+this._godWindCloudBodyTimes+"\n"),this._openSecretList.indexOf("thunderGodAngry")>-1&&(e+="雷神之怒层数:"+this._beAttackedSSTimesList.thunderGodAngry.times+"\n"),this._openSecretList.indexOf("thunderGodDignified")>-1&&(e+="雷神之威层数:"+this._beAttackedSSTimesList.thunderGodDignified.times+"\n"),e},a.getSkillDebuffEffectList=function(){var e=[];for(var i in this._skillDebuffEffect)if(Object.prototype.hasOwnProperty.call(this._skillDebuffEffect,i)){var t=this._skillDebuffEffect[i];t.probability>Math.random()&&e.push({type:i,duration:t.duration})}return e},i}(g)).prototype,"skillPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=y))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/SkyThunder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var n,i,e,o,s,r;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator,o=t.Animation},function(t){s=t.tagData},function(t){r=t.Weapon}],execute:function(){var a;i._RF.push({},"14177e4qjlORrGl4t4Ki/bR","SkyThunder",void 0);var u=e.ccclass;e.property,t("SkyThunder",u("SkyThunder")(a=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var e=i.prototype;return e.init=function(t,n){this.initWeaponInfo(n,t),this.initBoxCollider(s.sword,{x:-50,y:-30}),this.node.getComponent(o).play()},e.update=function(t){this.weaponDuration(t)},e.colliderMonster=function(t){this.isStopRun(t)||this.isHasAttacked(t.node.uuid)||(this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryToPool("this._canAttackTimes <= 0"))},i}(r))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/Spell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var n,e,i,o,a,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.em},function(t){a=t.tagData},function(t){l=t.Weapon}],execute:function(){var c;e._RF.push({},"076f0Ym5/1BxYGaaGR0LdPg","Spell",void 0);var r=i.ccclass;t("Spell",r("Spell")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.init=function(t,n){this.initWeaponInfo(n,t);var e=t.name;this.initBoxCollider(a[e])},i.playSpellAudio=function(){o.dispatch("playOneShot","battle/spell")},e}(l))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/SpiritBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,e,n,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.tagData},function(t){s=t.Weapon}],execute:function(){var r;e._RF.push({},"952c8N3uzFO/ISmOfENrRYU","SpiritBullet",void 0);var c=n.ccclass;n.property,t("SpiritBullet",c("SpiritBullet")(r=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.init=function(t,i,e){this.initWeaponInfo(i,t,e),this.initCircleCollider(o.sword),this.changeBulletRotationByFlyDir()},n.colliderMonster=function(t){this.isStopRun(t)||this.isHasAttacked(t.node.uuid)||(this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryToPool())},e}(s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/StageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MonsterData.ts","./EventManager.ts","./globalData.ts","./globalFun.ts","./Queue.ts"],(function(t){"use strict";var e,a,s,i,r,o,n,u,l,h,d,c,g,f,m,_,C,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,s=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,n=t._decorator,u=t.JsonAsset,l=t.Prefab,h=t.find,d=t.Label,c=t.instantiate,g=t.Component},function(t){f=t.monsterData},function(t){m=t.em},function(t){_=t.ggd},function(t){C=t.glf},function(t){b=t.Queue}],execute:function(){var p,v,D,w,y,T,S,M,L,R,A,k,B;o._RF.push({},"4e520BxXQJPQrigNDESbUJs","StageManager",void 0);var P=n.ccclass,x=n.property;t("StageManager",(p=P("StageManager"),v=x(u),D=x(u),w=x(u),y=x(u),T=x([l]),p((L=e((M=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,s(e,"stageConfigJson",L,i(e)),s(e,"leaderAndBossConfigJson",R,i(e)),s(e,"rewardConfigJson",A,i(e)),s(e,"monsterArmyConfigJson",k,i(e)),s(e,"bossPrefabs",B,i(e)),e._curStageName=void 0,e._curStageTime=0,e._curStageMaxTime=void 0,e._killCount=0,e._createCount=0,e._curData=void 0,e._stageConfig=void 0,e._bossConfig=void 0,e._rewardConfig=void 0,e._stageQueue=void 0,e._curLeaderTotal=0,e._killLeaderTotal=0,e._timeLabel=void 0,e._killCountLabel=void 0,e._monsterArmyConfig=null,e._rewardData={string:"击杀奖励",isPass:!1,isDouble:!1},e._hasShowAds=!1,e}a(e,t);var o=e.prototype;return o.onDestroy=function(){m.remove("endStage"),m.remove("passStage"),m.remove("updateKillCountLabel"),m.remove("updateLeaderCurTotal"),m.remove("getCurStageTime"),m.remove("getDoubleReward"),m.remove("closeGetDoubleRewardAd"),m.remove("geCurStageKillInfo"),this.unscheduleAllCallbacks()},o.onLoad=function(){m.add("endStage",this.endStage.bind(this)),m.add("passStage",this.passStage.bind(this)),m.add("updateKillCountLabel",this.updateKillCountLabel.bind(this)),m.add("updateLeaderCurTotal",this.updateLeaderCurTotal.bind(this)),m.add("getCurStageTime",this.getCurStageTime.bind(this)),m.add("getDoubleReward",this.getDoubleReward.bind(this)),m.add("closeGetDoubleRewardAd",this.closeGetDoubleRewardAd.bind(this)),m.add("geCurStageKillInfo",this.geCurStageKillInfo.bind(this)),this._curStageName="stage"+_.curStage,this._stageConfig=this.stageConfigJson.json,this._bossConfig=this.leaderAndBossConfigJson.json[_.curStage-1],this._monsterArmyConfig=this.monsterArmyConfigJson.json[this._curStageName],console.log("this._monsterArmyConfig",this._monsterArmyConfig),console.log("_bossConfig",this._bossConfig),this._rewardConfig=this.rewardConfigJson.json,this._stageQueue=new b,this.initStage(this._stageConfig[this._curStageName]),console.log(this._curStageName+":",this._stageConfig[this._curStageName]),this._timeLabel=h("Canvas/heroLayer/GameUILayer/expPar/curTime").getComponent(d),this._killCountLabel=h("Canvas/heroLayer/GameUILayer/expPar/curKillCount").getComponent(d)},o.start=function(){this.startStage()},o.justCreateBoss=function(){this.createBoss()},o.initStage=function(t){this._curStageMaxTime=t[t.length-1].time;for(var e=0;e<t.length;e++){var a=t[e];this._stageQueue.enqueue(a)}this._curData=this._stageQueue.dequeue()},o.startStage=function(){if(null==this._curData)throw new Error("_curData is null");console.log("data",this._curData),this._killCount=0,this.updateKillCountLabel(0),this.updateTimeLabel(),this.startStageTimer(),this.schedule(this.stageQueueTaskCallBack,this._curData.timeGap),this._monsterArmyConfig&&this.schedule(this.startManyMonsterTimer,1)},o.startStageTimer=function(){this.unschedule(this.stageTimerCallback),this._curStageTime=0,this.schedule(this.stageTimerCallback,1)},o.startManyMonsterTimer=function(){var t=this._curData.max>f.monsterMaxTotal?f.monsterMaxTotal:this._curData.max;if(!(m.dispatch("getMonsterTotal")>=t)&&this._monsterArmyConfig){var e=this._monsterArmyConfig.time.indexOf(this._curStageTime);if(e>-1){var a=f.queueMappingList[this._monsterArmyConfig.queue[e]],s=f.queue[a];if(!s)throw"queue is error";var i=this._curData.id[Math.random()*this._curData.id.length|0];m.dispatch("createMonsterByOutsideData",i,s,{x:0,y:0})}}},o.stageTimerCallback=function(){_.stopAll||(this._curStageTime++,this.updateTimeLabel())},o.stageQueueTaskCallBack=function(){if(!_.stopAll)if(this._curStageTime>this._curData.time)console.log("进入下一个阶段"),this._curData=this._stageQueue.dequeue(),this.unschedule(this.stageQueueTaskCallBack),this._curData?this.schedule(this.stageQueueTaskCallBack,this._curData.timeGap):this._bossConfig.bossId<0?this.passStage():(console.log("停止创建小怪 开始创建boss"),this.stopCreateMonster(),this.createBoss());else{var t=this._curData.max>f.monsterMaxTotal?f.monsterMaxTotal:this._curData.max;if(m.dispatch("getMonsterTotal")<t)if(this._createCount++,this._createCount>this._bossConfig.startCount&&this._createCount%this._bossConfig.mod==0&&this._curLeaderTotal<this._bossConfig.maxTotal){var e=this._curData.id[Math.random()*this._curData.id.length|0],a=this._bossConfig.type[Math.random()*this._bossConfig.type.length|0];m.dispatch("createMonsterLeader",e,a),this._curLeaderTotal++}else this.createMonsterByCurData()}},o.createFast=function(){this.createMonsterByCurData(),this.createMonsterByCurData(),this.createMonsterByCurData(),this.createMonsterByCurData(),this.createMonsterByCurData()},o.distributeReward=function(t,e){void 0===e&&(e=!1),m.dispatch("usingHeroControlFun","pauseGame"),this._rewardData={string:t,isPass:e,isDouble:!1},this.startDistributeReward()},o.showDoubleRewardAd=function(){console.log("展示双倍奖励广告界面"),h("Canvas/heroLayer/GameUILayer/doubleRewardAd").active=!0},o.onBtnPlayAds=function(){_.curAdRewardType="getDoubleReward",C.playAd(),h("Canvas/heroLayer/GameUILayer/doubleRewardAd").active=!1},o.getDoubleReward=function(){this._rewardData.isDouble=!0,this.startDistributeReward()},o.closeGetDoubleRewardAd=function(){h("Canvas/heroLayer/GameUILayer/doubleRewardAd").active=!1,this.startDistributeReward()},o.startDistributeReward=function(){var t=this._rewardData.string,e=this._rewardData.isPass,a=this._rewardData.isDouble,s=this.getPassRewardContent(e);if(a){for(var i,o=r(s);!(i=o()).done;){i.value.total*=2}console.log("双倍奖励")}else console.log("单倍奖励");m.dispatch("showPassReward",s,t,this._rewardData.isDouble),s.forEach((function(t){t.total>0&&m.dispatch("addItemToSS",t.id,t.total)})),e&&_.curStage+1>_.stageProgress&&(_.stageProgress=_.curStage+1,m.dispatch("savingGlobalDataToTempData"))},o.createMonsterByCurData=function(){var t=this.getIndexByRatio(this._curData.ratio),e=f.queueMappingList[this._curData.queue[t]];if("circleR1000T20"!=e&&"heartR500T40"!=e){var a=f.queue[e],s=f.queueDir[e];if(!a)throw new Error("找不到映射队列:"+e);if(!s&&null!==s)throw new Error("找不到映射方向:"+e);var i=this._curData.id[Math.random()*this._curData.id.length|0];m.dispatch("createMonsterByOutsideData",i,a,s)}},o.getIndexByRatio=function(t){for(var e=Math.random(),a=0;a<t.length;a++){if(t[a]>=e)return a}throw new Error("value均小于1，ratioArr 配置错误")},o.passStage=function(){this.stopCreateMonster(),this.distributeReward("通 关 奖 励",!0)},o.endStage=function(){console.log("关闭关卡"),this.stopCreateMonster(),this.removeBoss(),this.distributeReward("击 杀 奖 励")},o.stopCreateMonster=function(){this.unschedule(this.stageQueueTaskCallBack),this.unschedule(this.stageTimerCallback),m.dispatch("removeAllMonsters")},o.createBoss=function(){var t=this.bossPrefabs[this._bossConfig.bossId-1];if(!t)throw"prefab is undefined";var e=c(t);e.parent=h("Canvas/bossLayer");var a=m.dispatch("getHeroWorldPos");e.setWorldPosition(a.x,a.y+1e3,a.z)},o.removeBoss=function(){var t=h("Canvas/bossLayer").children[0];t&&(t.removeFromParent(),t.destroy())},o.updateTimeLabel=function(){var t=" 时 间 ： "+this._curStageTime+" ",e="（进度"+Math.floor(100*this.getCurStageProgress())+"%）";this._timeLabel.string=t+e},o.updateKillCountLabel=function(t){this._killCount+=t,this._killCountLabel.string=" 击 杀 ： "+this._killCount+" "},o.updateLeaderCurTotal=function(t){this._curLeaderTotal+=t,t<0&&(this._killLeaderTotal+=Math.abs(t))},o.getPassRewardContent=function(t){var e=this,a=this._rewardConfig[this._curStageName],s=[];a.monsterReward.forEach((function(t,i){for(var r=a.monsterRewardRatio[i],o=0,n=0;n<e._killCount;n++){Math.random()<=r&&o++}if(o>0){var u={id:t,total:o};s.push(u)}}));var i={id:3,total:Math.ceil(this._killCount*(a.lingshi.min+Math.random()*(a.lingshi.max-a.lingshi.min)))};return s.push(i),a.leaderReward.forEach((function(t,i){for(var r=a.leaderRewardRatio[i],o=0,n=0;n<e._killLeaderTotal;n++){Math.random()<=r&&o++}if(o>0){var u={id:t,total:o};s.push(u)}})),t&&a.passReward.forEach((function(t,e){var i=a.passRewardRatio[e];Math.random()<i&&s.push({id:t,total:1})})),console.log("rewardArr",s),s},o.getCurStageTime=function(){return this._curStageTime},o.getCurStageProgress=function(){var t=this._curStageTime/this._curStageMaxTime;return t>1&&(t=1),t},o.geCurStageKillInfo=function(){var t;return t=this._rewardData.isPass?"boss击杀：1\n":"boss击杀：0\n",t+="击杀精英怪总数："+this._killLeaderTotal+"\n",t+="击杀怪物总数："+this._killCount+"\n"},e}(g)).prototype,"stageConfigJson",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"leaderAndBossConfigJson",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(M.prototype,"rewardConfigJson",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(M.prototype,"monsterArmyConfigJson",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(M.prototype,"bossPrefabs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=M))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/StorageSpace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./ItemManager.ts"],(function(t){"use strict";var e,i,a,s,r,o,n,d,m,h,I,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,n=t.JsonAsset,d=t.director,m=t.find,h=t.Component},function(t){I=t.em},function(t){c=t.ItemManger}],execute:function(){var S,u,l,p,f;r._RF.push({},"b3799jrBkdOuIf8jGPcYoQz","StorageSpace",void 0);var g=o.ccclass,v=o.property;t("StorageSpace",(S=g("StorageSpace"),u=v(n),S((f=e((p=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"itemDataJson",f,s(e)),e._itemData={},e._IM=void 0,e}i(e,t);var r=e.prototype;return r.onDestroy=function(){I.remove("addItemToSS"),I.remove("reduceItemFromSS"),I.remove("itemIsEnough"),I.remove("itemIsValid"),I.remove("getItemList"),I.remove("getItemDataByIdOrName"),I.remove("getItemTotalByIdOrName"),I.remove("getAllPills"),I.remove("getItemsRewardByAds")},r.onLoad=function(){I.add("addItemToSS",this.addItemToSS.bind(this)),I.add("reduceItemFromSS",this.reduceItemFromSS.bind(this)),I.add("itemIsEnough",this.itemIsEnough.bind(this)),I.add("itemIsValid",this.itemIsValid.bind(this)),I.add("getItemList",this.getItemList.bind(this)),I.add("getItemDataByIdOrName",this.getItemDataByIdOrName.bind(this)),I.add("getItemTotalByIdOrName",this.getItemTotalByIdOrName.bind(this)),I.add("getAllPills",this.getAllPills.bind(this)),I.add("getItemsRewardByAds",this.getItemsRewardByAds.bind(this)),this.initItemData(),this._IM=new c,d.addPersistRootNode(this.node)},r.initItemData=function(){var t=this;this.itemDataJson.json.forEach((function(e){var i=e.id,a=e.name;t._itemData[i]=e,t._itemData[a]=e}))},r.showAll=function(){console.log("_IM",this._IM)},r.initSSData=function(){var t=I.dispatch("getTempData","storageSpace");if(null!==t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var i=t[e];this._IM.addItem(parseInt(e),i)}},r.start=function(){this.initSSData(),this.addSomeItems()},r.addSomeItems=function(){},r.helpAddItems=function(){this.addItemToSS("一阶宝箱",99),this.addItemToSS("二阶宝箱",99),this.addItemToSS("三阶宝箱",99),this.addItemToSS("四阶宝箱",99),this.addItemToSS("五阶宝箱",99),this.addItemToSS("一阶功法残卷",99),this.addItemToSS("一阶功法整卷",99)},r.helpAddItems2=function(){for(var t=1;t<75;t++)this.addItemToSS(t,100)},r.getItemDataByIdOrName=function(t){if(this._itemData.hasOwnProperty(t))return this._itemData[t];throw t+" of _itemData is null"},r.itemIsValid=function(t){return this._itemData.hasOwnProperty(t)},r.addItemToSS=function(t,e){if(!this._itemData.hasOwnProperty(t))throw"id_name err,id is "+t+" item is err";var i=this._itemData[t].id;this._IM.addItem(i,e),I.dispatch("savingToTempData","storageSpace",this.getItemList())},r.reduceItemFromSS=function(t,e){if(!this._itemData.hasOwnProperty(t))throw"id_name err,id_name is "+t+" item is err";var i=this._itemData[t].id,a=this._IM.reduceItem(i,e);return I.dispatch("savingToTempData","storageSpace",this.getItemList()),a},r.itemIsEnough=function(t,e){if(!this._itemData.hasOwnProperty(t))throw"id_name err,id_name is "+t+" item is err";var i=this._itemData[t].id;return this._IM.itemIsEnough(i,e)},r.getItemList=function(){return this._IM._itemList},r.getItemTotalByIdOrName=function(t){if(!this._itemData.hasOwnProperty(t))throw t+" of _itemData is null";var e=this._itemData[t].id;return this._IM.getItemTotal(e)},r.getAllPills=function(){var t={};for(var e in this._IM._itemList)Object.prototype.hasOwnProperty.call(this._IM._itemList,e)&&"丹药"==this._itemData[e].type2&&(t[e]=this._IM._itemList[e]);return t},r.getItemsRewardByAds=function(){var t=I.dispatch("getTempData","training"),e=5+5*Math.random()|0;if(!t||t.curLv<5){this.addItemToSS("一阶宝箱",1),this.addItemToSS("炼气丹",e);var i="获得物品：一阶宝箱x1、炼气丹x"+e;I.dispatch("tipsViewShow",i)}else if(t.curLv<15){this.addItemToSS("二阶宝箱",1),this.addItemToSS("筑基丹",e);var a="获得物品：二阶宝箱x1筑基丹x"+e;I.dispatch("tipsViewShow",a)}else if(t.curLv<31){this.addItemToSS("三阶宝箱",1),this.addItemToSS("金元丹",e);var s="获得物品：三阶宝箱x1金元丹x"+e;I.dispatch("tipsViewShow",s)}else if(t.curLv<47){this.addItemToSS("四阶宝箱",1),this.addItemToSS("元婴丹",e);var r="获得物品：四阶宝箱x1元婴丹x"+e;I.dispatch("tipsViewShow",r)}else{this.addItemToSS("五阶宝箱",1),this.addItemToSS("化神丹",e);var o="获得物品：五阶宝箱x1化神丹x"+e;I.dispatch("tipsViewShow",o)}m("Canvas/menuLayer/HeroInfoLayer/storageSpace").active&&m("Canvas/menuLayer/HeroInfoLayer").getComponent("HeroInfoLayer").updateStorageSpace()},e}(h)).prototype,"itemDataJson",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));r._RF.pop()}}}));

System.register("chunks:///_virtual/Sword.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var o,i,n,e,s;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){e=t.tagData},function(t){s=t.Weapon}],execute:function(){var r;i._RF.push({},"129e2bHdPtBCbnuzFFQDPpA","Sword",void 0);var a=n.ccclass;n.property,t("Sword",a("Sword")(r=function(t){function i(){return t.apply(this,arguments)||this}o(i,t);var n=i.prototype;return n.init=function(t,o,i){this.initWeaponInfo(o,t,i);var n=t.name;this.initBoxCollider(e[n],{x:-7,y:-8}),this.changeBulletRotationByFlyDir()},n.colliderMonster=function(t){this.isStopRun(t)||this.isHasAttacked(t.node.uuid)||(this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryToPool())},i}(s))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/SwordRain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,s,n,e,a,o;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator,e=t.Vec2},function(t){a=t.tagData},function(t){o=t.Weapon}],execute:function(){var r;s._RF.push({},"9af2aMLjflOtJfSTrAGnq5k","SwordRain",void 0);var h=n.ccclass;n.property,t("SwordRain",h("SwordRain")(r=function(t){function s(){return t.apply(this,arguments)||this}i(s,t);var n=s.prototype;return n.init=function(t){this.initSkillData(t)},n.initSkillData=function(t){this._damage=t.damage,this._duration=t.duration,this._moveSpeed=500,this._canAttackTimes=1/0,this._backDis=0,this._attackInterval=.5,this._weaponName=t.name,this._flyDir=new e(-.25,-1),this.clearCacheData(),this.initBoxCollider(a.sword),this.changeBulletRotationByFlyDir()},n.colliderMonster=function(t){this.isStopRun(t)||this.isHasAttacked(t.node.uuid)||(this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryToPool())},n.changeBulletRotationByFlyDir=function(){if(0!=this._flyDir.x||0!=this._flyDir.y)if(0!=this._flyDir.x)if(0!=this._flyDir.y){var t=Math.sqrt(this._flyDir.x*this._flyDir.x+this._flyDir.y*this._flyDir.y),i=Math.sin(Math.abs(this._flyDir.y)/t),s=90*Math.asin(i);this._flyDir.y>0?this._flyDir.x>0?this.node.angle=180+s:this.node.angle=360-s:this._flyDir.x>0?this.node.angle=180-s:this.node.angle=s}else this._flyDir.x>0?this.node.angle=180:this.node.angle=0;else this._flyDir.y>0?this.node.angle=-90:this.node.angle=90},s}(o))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/Taijihuan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,o,n,a,s,r;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){a=t.tagData,s=t.ggd},function(t){r=t.Weapon}],execute:function(){var e;o._RF.push({},"e171bFydDFLSog0kJi2AKtr","Taijihuan",void 0);var h=n.ccclass;n.property,t("Taijihuan",h("Taijihuan")(e=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this)._fallDuration=void 0,i._rawDuration=void 0,i._randomDir=void 0,i}i(o,t);var n=o.prototype;return n.init=function(t,i,o){this.initWeaponInfo(i,t,o),i>=5&&this.node.setScale(2,2,1),this.initBoxCollider(a.sword,{x:-40,y:-40}),this._fallDuration=3*this._duration/4,this._rawDuration=this._duration,Math.random()>.5?this._randomDir=1:this._randomDir=-1},n.colliderMonster=function(t){this.isStopRun(t)||this.isHasAttacked(t.node.uuid)||(this.updateMonsterBlood(t),this._hasAttackedEnemies.push(t.node.uuid),this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryToPool())},n.weaponMove=function(t){if(!s.stopAll&&this._flyDir){var i=t*this._moveSpeed;if(this._duration>this._fallDuration){i*=(this._duration-this._fallDuration)/(this._rawDuration-this._fallDuration);var o=Math.sqrt(i)*this._randomDir*1.2;this.node.setPosition(this.node.getPosition().x+o,this.node.getPosition().y+i,0)}else{var n=(this._fallDuration-this._duration)/this._fallDuration;n>1&&(n=1),i=n*i*2;var a=Math.sqrt(i)*this._randomDir*1.2;this.node.setPosition(this.node.getPosition().x+a,this.node.getPosition().y-i,0)}}},o}(r))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/testAds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var e,n,s,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,s=t._decorator,o=t.Component},function(t){r=t.em}],execute:function(){var c;n._RF.push({},"2b285d1pABPvbomGQPT2Bdu","testAds",void 0);var i=s.ccclass;t("testAds",i("testAds")(c=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.start=function(){r.dispatch("createPlayADEvent",this.node,"GameMonetize")},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ThousandsSwordToTomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var o,i,n,e,s,a,r,c,l,h,d,m,p,u,v,f,D;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,e=t.UITransform,s=t.Sprite,a=t.Color,r=t.math,c=t.Vec2,l=t.BoxCollider2D,h=t.Contact2DType,d=t.tween,m=t.Vec3},function(t){p=t.em},function(t){u=t.tagData,v=t.groupIndex,f=t.ggd},function(t){D=t.Weapon}],execute:function(){var _;i._RF.push({},"25249OVHDpCfIXwpquDtNdf","ThousandsSwordToTomb",void 0);var y=n.ccclass;n.property,t("ThousandsSwordToTomb",y("ThousandsSwordToTomb")(_=function(t){function i(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this)._moveDistance=void 0,o._isPlayAnim=void 0,o}o(i,t);var n=i.prototype;return n.init=function(t){this.initSkillData(t)},n.initSkillData=function(t){this._isPlayAnim=!1,this._damage=t.damage,this._moveDistance=t.moveDistance-this.node.getComponent(e).contentSize.x/4,console.log("data.moveDistance",t.moveDistance),console.log("this._moveDistance",this._moveDistance),this._moveSpeed=2e3,this._canAttackTimes=1/0,this._backDis=0,this._attackInterval=.5,this._weaponName=t.name,this.node.getComponent(s).color=new a(255,204,0,255);var o=p.dispatch("getHeroWorldPos"),i=r.random()>.5?Math.random():-r.random();i*=.7;var n=t.moveDistance;this.node.setWorldPosition(o.x-n*i,o.y+n,o.z),this._flyDir=new c(i,-1),console.log("this._flyDir",this._flyDir),this.clearCacheData(),this.initBoxCollider(u.sword),this.changeBulletRotationByFlyDir()},n.initBoxCollider=function(t,o){if(!t)throw"tag is"+t;var i=this.node.getComponent(l);i||(i=this.node.addComponent(l)),i.tag=t,i.group=v.heroWeapon,i.on(h.BEGIN_CONTACT,this.onBeginContact,this),i.on(h.END_CONTACT,this.onEndContact,this)},n.weaponMove=function(t){if(!f.stopAll&&this._flyDir)if(this._moveDistance<=0)this.playDestroyAnim();else if(0!=this._moveSpeed){var o=t*this._moveSpeed,i=this._flyDir.x*o,n=this._flyDir.y*o;this.node.setPosition(this.node.getPosition().x+i,this.node.getPosition().y+n,0),this._moveDistance+=n}},n.playDestroyAnim=function(){var t=this;if(!this._isPlayAnim){p.dispatch("playOneShot","battle/砸地"),this._isPlayAnim=!0;var o=new a(255,255,255,255);d(this.node).by(.5,{position:new m(0,0,0)},{onUpdate:function(i,n){t.node.getComponent(s).color=a.lerp(new a,o,new a(o.r,o.g,o.b,0),n)}}).call((function(){t.recoveryToPool()})).start()}},i}(D))||_);i._RF.pop()}}}));

System.register("chunks:///_virtual/Thundercloud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var e,o,i,n,a,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){n=t.em},function(t){a=t.tagData,s=t.ggd},function(t){r=t.Weapon}],execute:function(){var d;o._RF.push({},"e74729+9alFaZPYG0fVEuap","Thundercloud",void 0);var u=i.ccclass;i.property,t("Thundercloud",u("Thundercloud")(d=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var i=o.prototype;return i.init=function(){this._moveSpeed=.9*n.dispatch("usingHeroControlFun","getCurMoveSpeed"),this.addToAnimManger(),this.initSkillData()},i.initSkillData=function(){var t=n.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","thundercloud");this._damage=t.baseDamage,this._damageTimes=t.damageTimes,this._duration=t.duration,this._backDis=0,this._canAttackTimes=1/0,this._attackInterval=.3,this._weaponName=t.name2;this.initBoxCollider(a.sword,{x:-30,y:-50})},i.recoveryToPool=function(){this.removeAnimFromList(),this.node.destroy()},i.weaponMove=function(t){if(!s.stopAll){var e=n.dispatch("getTargetWorldPos"),o=this.node.getWorldPosition(),i=e.x-o.x,a=e.y-o.y,r=Math.sqrt(i*i+a*a),d=0==this._moveSpeed?0:r/this._moveSpeed,u=0==d?0:t/d*i,c=0==d?0:t/d*a;this.node.setWorldPosition(o.x+u,o.y+c,0)}},i.colliderMonster=function(t){if(!this.isStopRun(t)&&(this.updateMonsterBlood(t),Math.random()<.2)){var e=t.node.getComponent("Monster");e&&e.addDebuffParalysis(5)}},o}(r))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/ThunderFissionBead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts","./Weapon.ts"],(function(t){"use strict";var i,n,e,a,o,s,r,h,l;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,a=t.Animation,o=t.find},function(t){s=t.em},function(t){r=t.tagData},function(t){h=t.plm},function(t){l=t.Weapon}],execute:function(){var c;n._RF.push({},"f42a5DOIRpHwJ9jbNnCmEZY","ThunderFissionBead",void 0);var u=e.ccclass;e.property,t("ThunderFissionBead",u("ThunderFissionBead")(c=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return(i=t.call.apply(t,[this].concat(e))||this)._canSplitTimes=0,i}i(n,t);var e=n.prototype;return e.init=function(t,i){this._canSplitTimes=t,this._flyDir=i,this.initSkillData(),this.isExceedMaxDistance(500,1),this.node.getComponent(a).play(),this.addToAnimManger()},e.initSkillData=function(){var t=s.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","thunderFissionBead");this._curData=t,this._weaponId=t.id,this._weaponName=t.name2,this._maxLevel=t.maxLevel,this._duration=10,this._damage=t.baseDamage,this._damageTimes=t.damageTimes,this._moveSpeed=60,this._attackInterval=.5,this.initBoxCollider(r.sword),this.clearCacheData()},e.update=function(t){this.weaponMove(t),this.weaponDuration(t)},e.colliderMonster=function(t){this.isStopRun(t)||(this.updateMonsterBlood(t),this.changeFlyDir())},e.colliderBoss=function(t){this.isStopRun(t)||(this.updateBossBlood(t),this.changeFlyDir())},e.changeFlyDir=function(){--this._canSplitTimes;var t=Math.sin(30+30*Math.random());this._flyDir.x=-this._flyDir.x,this._flyDir.y=-this._flyDir.y;var i=this.getRotationDir(this._flyDir,t);if(this._flyDir=i,this._canSplitTimes>0){var n=this.getRotationDir(this._flyDir,-t);this.createSplitTFB(n)}},e.getRotationDir=function(t,i){var n=t.x,e=t.y;return{x:n*Math.cos(i)-e*Math.sin(i),y:n*Math.sin(i)+e*Math.cos(i)}},e.createSplitTFB=function(t){var i=h.getFromPool("thunderFissionBead"),n=o("Canvas/bulletLayer");i.parent=n;var e=this.node.getWorldPosition();i.setWorldPosition(e.x+50*t.x,e.y+50*t.y,e.z),i.getComponent("ThunderFissionBead").init(this._canSplitTimes,t)},e.recoveryToPool=function(){this.removeAnimFromList(),h.putToPool(this._weaponName,this.node)},n}(l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ThunderRunning.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./Weapon.ts"],(function(t){"use strict";var i,n,e,s,a,o,r;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator},function(t){s=t.em},function(t){a=t.tagData,o=t.ggd},function(t){r=t.Weapon}],execute:function(){var h;n._RF.push({},"4681bIHGv9KSJV+M+D5hNoD","ThunderRunning",void 0);var c=e.ccclass;e.property,t("ThunderRunning",c("ThunderRunning")(h=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this)._startP=null,i._maxMoveDistance=0,i._curMoveDistance=0,i}i(n,t);var e=n.prototype;return e.init=function(t){this._flyDir=t,this._moveSpeed=100,this._maxMoveDistance=2e3,this._curMoveDistance=0,this.addToAnimManger(),this.initSkillData();var i=this.node.getWorldPosition();this._startP={x:i.x,y:i.y}},e.initSkillData=function(){var t=s.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","thunderRunning");this._damage=t.baseDamage,this._damageTimes=t.damageTimes,this._duration=t.duration,this._backDis=0,this._canAttackTimes=1/0,this._attackInterval=.5,this._weaponName=t.name2,this.initBoxCollider(a.sword)},e.weaponMove=function(t){if(!o.stopAll&&this._startP){var i=this.node.getWorldPosition();if(0==this._flyDir.y){var n=t*this._moveSpeed,e=this.getPathLikeSin(i.x+n-this._startP.x);this._curMoveDistance+=n,this.node.setWorldPosition(i.x+n*this._flyDir.x,this._startP.y+e,0)}else{var s=t*this._moveSpeed,a=this.getPathLikeSin(i.y+s-this._startP.y);this._curMoveDistance+=s,this.node.setWorldPosition(this._startP.x+a,i.y+s*this._flyDir.y,0)}}},e.getPathLikeSin=function(t){return t=t*Math.PI/100,100*Math.sin(t)},n}(r))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/TipView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){"use strict";var o,n,t,i,r,c,s,p,a,u;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,i=e.Label,r=e.tween,c=e.Vec3,s=e.Sprite,p=e.Color,a=e.Component},function(e){u=e.em}],execute:function(){var l;n._RF.push({},"39f4bK1+n9Lsp/dZy6C5YpZ","TipView",void 0);var w=t.ccclass;t.property,e("TipView",w("TipView")(l=function(e){function n(){return e.apply(this,arguments)||this}o(n,e);var t=n.prototype;return t.onLoad=function(){u.add("tipsViewShow",this.tipsViewShow.bind(this))},t.onDestroy=function(){u.remove("tipsViewShow")},t.tipsViewShow=function(e,o){void 0===e&&(e="请传参"),void 0===o&&(o=1),this.node.children[0].getComponent(i).string=e;var n=r().to(.5,{scale:new c(1,1,1)},{onUpdate:function(e,o){var n=e.getComponent(s).color;e.getComponent(s).color=p.lerp(new p,n,new p(n.r,n.g,n.b,255),o)}}),t=r().to(.5,{scale:new c(1,1,1)},{onUpdate:function(e,o){var n=e.getComponent(s).color;e.getComponent(s).color=p.lerp(new p,n,new p(n.r,n.g,n.b,0),o)}}),a=r().delay(o);r(this.node).sequence(n,a,t).start()},n}(a))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/TrainingLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalFun.ts","./PoolManager.ts","./LevelManager.ts"],(function(i){"use strict";var e,n,t,a,r,s,o,l,g,p,u,c,h,d,v,L,T,f,b,m,P,y,_;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,o=i.JsonAsset,l=i.Prefab,g=i.Node,p=i.Sprite,u=i.Label,c=i.find,h=i.NodePool,d=i.Animation,v=i.Color,L=i.tween,T=i.Vec3,f=i.Tween,b=i.Component},function(i){m=i.em},function(i){P=i.glf},function(i){y=i.plm},function(i){_=i.LevelManager}],execute:function(){var x,w,C,E,B,D,U,F,A,S,I,M,z,G,N,V,k,O,R,J,j,X,q;r._RF.push({},"9d7ecxRXdtAUbVGlUY0HvPs","TrainingLayer",void 0);var H=s.ccclass,Y=s.property;i("TrainingLayer",(x=H("TrainingLayer"),w=Y(o),C=Y(l),E=Y(g),B=Y(p),D=Y(u),U=Y(u),F=Y(g),A=Y(l),S=Y(g),I=Y(g),x((G=e((z=function(i){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=i.call.apply(i,[this].concat(r))||this,t(e,"trainingLvListJson",G,a(e)),t(e,"pillPrefab",N,a(e)),t(e,"pillPar",V,a(e)),t(e,"expProgress",k,a(e)),t(e,"expProgressDescription",O,a(e)),t(e,"trainingLv",R,a(e)),t(e,"trainingBonusLabelPar",J,a(e)),t(e,"tipsPrefab",j,a(e)),t(e,"nothingLabel",X,a(e)),t(e,"guideFinger",q,a(e)),e._itemPrefabArr=[],e._trainingLvList=void 0,e._rotationSpeed=100,e._pillList=void 0,e._isUpgrading=!1,e._curTrainingExp=void 0,e._curTrainingLv=void 0,e._TIM=void 0,e}n(e,i);var r=e.prototype;return r.onLoad=function(){this._pillList=c("pillList",this.node),this._trainingLvList=this.trainingLvListJson.json,y.addPoolToPools("TLPillPrefab",new h,this.pillPrefab);var i=new h;y.addPoolToPools("tipsTex",i,this.tipsPrefab)},r.onEnable=function(){m.dispatch("getGuideData").TrainingLayer||this.startTrainingLayerGuide(),this.updatePillsContent()},r.updatePillsContent=function(){var i=this;for(console.log("updatePillsContent");this._itemPrefabArr.length>0;){var e=this._itemPrefabArr.shift();y.putToPool("TLPillPrefab",e)}var n=m.dispatch("getAllPills"),t=0;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&function(){var e=n[a],r=y.getFromPool("TLPillPrefab");r.parent=i.pillPar;var s=m.dispatch("getItemDataByIdOrName",a);r.getChildByName("name").getComponent(u).string=s.name,r.getChildByName("total").getComponent(u).string=e;var o=r.getChildByName("sprite").getComponent(p),l="images/items/"+s.loadUrl+"/spriteFrame";m.dispatch("loadTheDirResources",l,(function(i){return o.spriteFrame=i})),P.createButton(i.node,r,"TrainingLayer","onBtnUsingPill",s.name),i._itemPrefabArr.push(r),t++}();this.nothingLabel.active=0==t},r.start=function(){this.initTrainingLv()},r.initTrainingLv=function(){var i=m.dispatch("getTempData","training");if(null===i)this._curTrainingExp=0,this._curTrainingLv=0;else{this._curTrainingLv=i.curLv;var e=this._curTrainingLv>0?this._trainingLvList[this._curTrainingLv-1].exp:0;this._curTrainingExp=i.curExp>=e?i.curExp:e,console.log("读取列表 配置修为 还没写")}var n={level:0,maxLevel:this._trainingLvList.length-1,curExp:0,levelMappingExpList:this._trainingLvList};this._TIM=new _(n),this._TIM.addExp(this._curTrainingExp),this.updateProgressView(),this.savingTrainingData()},r.savingTrainingData=function(){var i={curExp:this._curTrainingExp,curLv:this._curTrainingLv};m.dispatch("savingToTempData","training",i)},r.onBtnUsingPill=function(i,e){var n;switch(m.dispatch("playOneShot","common/吃药"),m.dispatch("reduceItemFromSS",e,1),this.updatePillsContent(),e){case"炼气丹":n=1;break;case"筑基丹":n=10;break;case"金元丹":n=200;break;case"元婴丹":n=4e3;break;case"化神丹":n=8e4;break;default:n=0,console.warn("尚未添加丹药"+e+"的经验值")}this._TIM.addExp(n),this._curTrainingExp=this._TIM.curExp,this.createTipsTex("修为+"+n),this.updateProgressView(),this.savingTrainingData(),this.guideFinger.active=!1,m.dispatch("getGuideData").TrainingLayer||this.startGuideUpgrade()},r.updateProgressView=function(){var i=this._trainingLvList[this._curTrainingLv].exp,e=this._curTrainingLv>0?this._trainingLvList[this._curTrainingLv-1].exp:0;console.log("nextLvExp",i),console.log("curLvExp",e),console.log("this._curTrainingExp",this._curTrainingExp),console.log("this._curTrainingExp - curLvExp",this._curTrainingExp-e);var n=this._curTrainingExp-e+"/"+(i-e),t=this._trainingLvList[this._curTrainingLv],a=this.trainingBonusLabelPar;this.expProgressDescription.string=n,this.expProgress.fillRange=(this._curTrainingExp-e)/(i-e),this.trainingLv.string=t.name,c("Canvas/menuLayer/title/heroBaseInfoBg/curLv").getComponent(u).string=t.name,a.getChildByName("l1").getComponent(u).string="血量加成："+t.blood,a.getChildByName("l2").getComponent(u).string="伤害加成："+t.damage,a.getChildByName("l3").getComponent(u).string="移速加成："+t.moveSpeed},r.onBtnUpgrade=function(){this._isUpgrading?m.dispatch("tipsViewShow","突破中..."):this.isCanUpgrade()?(this.guideFinger.active=!1,this._isUpgrading=!0,this._curTrainingLv++,this.playUpgradeAnim(),this.savingTrainingData()):m.dispatch("tipsViewShow","当前状态无法突破。")},r.isCanUpgrade=function(){return this._TIM.level>this._curTrainingLv},r.playUpgradeAnim=function(){console.log("播放突破动画"),m.dispatch("playOneShot","common/突破"),c("training/animPar",this.node).getComponent(d).play()},r.afterPlayUpgradeAnim=function(){this._isUpgrading=!1,this.updateProgressView(),console.log("TrainingLayer",m.dispatch("getGuideData","TrainingLayer")),m.dispatch("getGuideData").TrainingLayer||(m.dispatch("setGuideData","TrainingLayer",!0),m.dispatch("initMainMenuByGuideData"))},r.createTipsTex=function(i,e){void 0===e&&(e={x:0,y:100});var n=y.getFromPool("tipsTex");n.getComponent(u).string=i,n.parent=c("Canvas/menuLayer/TrainingLayer/tipsPar"),n.setPosition(e.x,e.y,0),this.playTIPSTeXEffect(n)},r.playTIPSTeXEffect=function(i,e){void 0===e&&(e=new v(255,255,255,255));var n=L().by(1,{position:new T(0,200,0)},{onUpdate:function(n,t){i.getComponent(u).color=v.lerp(new v,e,new v(e.r,e.g,e.b,0),t)}}),t=L().to(.5,{scale:new T(1.2,1.2,1)});L(i).parallel(n,t).call((function(){i.setScale(new T(1,1,1)),y.putToPool("tipsTex",i,!0)})).start()},r.startTrainingLayerGuide=function(){m.dispatch("openGuideTips","点击使用丹药，提升修为。当人物全身金黄时，说明修为已满，可以通过突破提升境界。越高阶的丹药提升的修为越高。丹药可以通过炼制丹药获取。"),c("Canvas/menuLayer/guideFinger").active=!1,m.dispatch("addItemToSS","炼气丹",1);m.dispatch("tipsViewShow","获得物品炼气丹x1"),this.updatePillsContent();var i=this._itemPrefabArr.length>0?this._itemPrefabArr[0]:null;if(i){f.stopAllByTag(3);var e=this.guideFinger;e.active=!0,e.parent=i,e.setPosition(0,150,0);var n=L().by(.5,{position:new T(0,-100,0)}),t=L().by(.5,{position:new T(0,100,0)}),a=L(e).sequence(n,t);(a=L(e).repeatForever(a)).tag(3),a.start()}},r.startGuideUpgrade=function(){var i=c("Canvas/menuLayer/TrainingLayer/training/upgrade");if(i){f.stopAllByTag(3);var e=this.guideFinger;e.active=!0,e.parent=i,e.setPosition(0,150,0);var n=L().by(.5,{position:new T(0,-100,0)}),t=L().by(.5,{position:new T(0,100,0)}),a=L(e).sequence(n,t);(a=L(e).repeatForever(a)).tag(3),a.start()}},e}(b)).prototype,"trainingLvListJson",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(z.prototype,"pillPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(z.prototype,"pillPar",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(z.prototype,"expProgress",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(z.prototype,"expProgressDescription",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(z.prototype,"trainingLv",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(z.prototype,"trainingBonusLabelPar",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(z.prototype,"tipsPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(z.prototype,"nothingLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(z.prototype,"guideFinger",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=z))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeEquLvLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalFun.ts","./PoolManager.ts"],(function(e){"use strict";var t,a,r,i,n,o,l,s,c,m,u,p,g,d,h,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,c=e.Material,m=e.SpriteFrame,u=e.Sprite,p=e.Label,g=e.RichText,d=e.Component},function(e){h=e.em},function(e){f=e.glf},function(e){y=e.plm}],execute:function(){var v,C,B,S,D,b,L,F,I,N,_,q,E,P,w,U,T,k,A;o._RF.push({},"c9eccbI35tOeYxKuki3kLFS","UpgradeEquLvLayer",void 0);var O=l.ccclass,R=l.property;e("UpgradeEquLvLayer",(v=O("UpgradeEquLvLayer"),C=R(s),B=R(s),S=R(s),D=R(s),b=R(c),L=R(c),F=R([m]),I=R([s]),v((q=t((_=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"itemContent",q,i(t)),r(t,"curSelect",E,i(t)),r(t,"target",P,i(t)),r(t,"maskPar",w,i(t)),r(t,"grayMaterial",U,i(t)),r(t,"defaultMaterial",T,i(t)),r(t,"itemQBg",k,i(t)),r(t,"materialNode",A,i(t)),t._itemPrefabArr=[],t._curSelectItemData=void 0,t._canUpgrade=!1,t._materialList={2:{"灵石":1e3,"炼气丹":20},3:{"灵石":1e4,"筑基丹":40},4:{"灵石":1e5,"金元丹":100},5:{"灵石":1e5,"元婴丹":200}},t}a(t,e);var o=t.prototype;return o.onLoad=function(){f.createButton(this.node,this.curSelect,"UpgradeEquLvLayer","onBtnEqu"),f.createButton(this.node,this.target,"UpgradeEquLvLayer","onBtnEqu")},o.onEnable=function(){this.updateEquList()},o.onDisable=function(){this.recoveryDefault()},o.recoveryDefault=function(){for(var e,t=n(this.materialNode);!(e=t()).done;){var a=e.value;a.getComponent(u).spriteFrame=null,a.getChildByName("Label").getComponent(p).string=""}this.curSelect.getChildByName("Sprite").getComponent(u).spriteFrame=null,this.target.getChildByName("Sprite").getComponent(u).spriteFrame=null,this.curSelect.getComponent(u).spriteFrame=this.itemQBg[0],this.target.getComponent(u).spriteFrame=this.itemQBg[0],this.curSelect.getChildByName("Label").getComponent(p).string="",this.target.getChildByName("Label").getComponent(p).string="",this.curSelect.data=null,this.target.data=null,this._canUpgrade=!1,this._curSelectItemData=null},o.updateEquList=function(){for(var e=this;this._itemPrefabArr.length>0;){var t=this._itemPrefabArr.shift();y.putToPool("SSLItemPrefab",t)}var a=h.dispatch("getItemList");for(var r in a){var i=h.dispatch("getItemDataByIdOrName",r);"装备"==i.type&&function(){var t=a[r],n=y.getFromPool("SSLItemPrefab");n.parent=e.itemContent,n.getChildByName("itemBg").getComponent(u).spriteFrame=e.itemQBg[i.quality-1],e.initPrefabLv(n,i);var o=n.getChildByName("sprite").getComponent(u),l=i.loadUrl;i.loadUrl||(l="item_default"),l="images/items/"+l+"/spriteFrame",h.dispatch("loadTheDirResources",l,(function(e){return o.spriteFrame=e}),(function(){h.dispatch("loadTheDirResources","images/items/item_default/spriteFrame",(function(e){return o.spriteFrame=e}))})),n.getChildByName("total").getComponent(p).string=t,n.itemName=i.name,e._itemPrefabArr.push(n),f.createButton(e.node,n.getChildByName("itemBg"),"UpgradeEquLvLayer","onBtnItemInUpgradeEquLvLayer",r)}()}},o.initPrefabLv=function(e,t){var a=e.getChildByName("lv").getComponent(p);if("装备"==t.type&&t.lv){console.log("初始化阶");a.string={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"}[t.lv]}else a.string=""},o.onBtnItemInUpgradeEquLvLayer=function(e,t){var a=this,r=h.dispatch("getItemDataByIdOrName",t);if(console.log("onBtnItemInUpgradeEquLvLayer",r),r.lv>=5)h.dispatch("tipsViewShow","已达到最大等级，无法升级。");else{var i=this.getEquNextLvData(r.name,r.lv);console.log("data2",i),this._curSelectItemData=r,this.curSelect.getComponent(u).spriteFrame=this.itemQBg[r.quality-1],this.target.getComponent(u).spriteFrame=this.itemQBg[r.quality-1],this.curSelect.data=r,this.target.data=i;var n=r.loadUrl;r.loadUrl||(n="item_default"),n="images/items/"+n+"/spriteFrame",h.dispatch("loadTheDirResources",n,(function(e){a.curSelect.getChildByName("Sprite").getComponent(u).spriteFrame=e,a.target.getChildByName("Sprite").getComponent(u).spriteFrame=e}),(function(){h.dispatch("loadTheDirResources","images/items/item_default/spriteFrame",(function(e){a.curSelect.getChildByName("Sprite").getComponent(u).spriteFrame=e,a.target.getChildByName("Sprite").getComponent(u).spriteFrame=e}))}));var o={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"};this.curSelect.getChildByName("Label").getComponent(p).string=o[r.lv],this.target.getChildByName("Label").getComponent(p).string=o[r.lv+1];var l=this._materialList[r.lv+1],s=0;for(var c in this._canUpgrade=!0,l)Object.prototype.hasOwnProperty.call(l,c)&&function(){var e=l[c],t=h.dispatch("getItemDataByIdOrName",c);console.log("需要"+c+"x"+e);var r=a.materialNode[s];h.dispatch("itemIsEnough",c,e)?r.getComponent(u).material=a.defaultMaterial:(r.getComponent(u).material=a.grayMaterial,a._canUpgrade=!1),r.getChildByName("Label").getComponent(p).string="x"+e;var i="images/items/"+t.loadUrl+"/spriteFrame";h.dispatch("loadTheDirResources",i,(function(e){r.getComponent(u).spriteFrame=e}),(function(){h.dispatch("loadTheDirResources","images/items/item_default/spriteFrame",(function(e){r.getComponent(u).spriteFrame=e}))})),s++}()}},o.onBtnUpgradeLv=function(){if(this._curSelectItemData)if(this._canUpgrade){var e=this._materialList[this._curSelectItemData.lv+1];for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=e[t];h.dispatch("reduceItemFromSS",t,a)}h.dispatch("reduceItemFromSS",this._curSelectItemData.name,1);var r={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"}[this._curSelectItemData.lv+1],i=this._curSelectItemData.name.indexOf("（"),n=this._curSelectItemData.name.slice(0,i+1)+r+"）";console.log("targetName",n),h.dispatch("addItemToSS",n,1);var o={};o[n]=1,h.dispatch("showGets",o),this.recoveryDefault(),this.updateEquList()}else h.dispatch("tipsViewShow","材料不足，无法升阶。");else h.dispatch("tipsViewShow","请先选择装备，再点击升阶！")},o.onBtnEqu=function(e){var t=e.target.data;if(t){var a=this.getColorStrByQuality(t.quality-1);this.maskPar.getChildByName("name").getComponent(g).string=a+t.name+"</color>",this.maskPar.getChildByName("description").getComponent(g).string=t.description,console.log("onBtnEqu",t),this.showEquDetail(t.name),this.maskPar.active=!0}},o.showEquDetail=function(e){for(var t,a=h.dispatch("usingHeroBasePropertyFun","getEquDataByName",e),r=a.qData.effect,i="",o=n(r);!(t=o()).done;){var l=t.value,s=h.dispatch("usingHeroBasePropertyFun","getEquEffectData",l);console.log("effect",s),i=i+this.getColorStrByType(s.type-1)+s.name+":"+s.description+"</color>\n"}a.lData.baseDamage&&(i=i+"基础伤害:+"+a.lData.baseDamage+"\n"),a.lData.damageTimes&&(i=i+"伤害加成倍数:+"+a.lData.damageTimes+"\n"),a.lData.attackInterval&&(i=i+"攻击间隔:"+a.lData.attackInterval+"\n"),a.lData.blood&&(i=i+"血量:+"+a.lData.blood+"\n"),a.lData.CHR&&(i=i+"暴击率:+"+a.lData.CHR+"\n"),a.lData.moveSpeed&&(i=i+"移动速度:+"+a.lData.moveSpeed+"\n"),this.maskPar.getChildByName("description").getComponent(g).string=i},o.getColorStrByType=function(e){return["<color=#757575>","<color=#A474CF>","<color=#DDA75A>"][e]},o.getColorStrByQuality=function(e){return["<color=#599A65>","<color=#728CC7>","<color=#A474CF>","<color=#C65C37>","<color=#DDA75A>"][e]},o.onBtnClose=function(){h.dispatch("usingHeroInfoLayerFun","updateStorageSpace"),this.node.active=!1},o.onBtnCloseEquDetail=function(){this.maskPar.active=!1},o.getEquNextLvData=function(e,t){var a=e.indexOf("（"),r=e.slice(0,a),i={1:"一阶",2:"二阶",3:"三阶",4:"四阶",5:"五阶",6:"六阶",7:"七阶",8:"八阶",9:"九阶"}[t+1];if(!i)throw"lvStr is error";var n=r+"（"+i+"）";return h.dispatch("getItemDataByIdOrName",n)},t}(d)).prototype,"itemContent",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"curSelect",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(_.prototype,"target",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(_.prototype,"maskPar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(_.prototype,"grayMaterial",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(_.prototype,"defaultMaterial",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"itemQBg",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(_.prototype,"materialNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=_))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/Vector2.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"a5d20bWA8NKFogKWl02ME6t","Vector2",void 0);t("default",function(){function t(t,n){this.x=void 0,this.y=void 0,null!=t&&(this.x=t),null!=n&&(this.y=n)}return t.multiply=function(t,n){return t.x*n.x+t.y*n.y},t.multiply2=function(n,u){return new t(u.x*n,u.y*n)},t.division=function(n,u){return new t(n.x/u,n.y/u)},t.subtract=function(n,u){return new t(n.x-u.x,n.y-u.y)},t.addition=function(n,u){return new t(n.x+u.x,n.y+u.y)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/VersionNotice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts"],(function(e){"use strict";var t,i,n,o,r,s,c,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Label,a=e.Component},function(e){l=e.em},function(e){u=e.ggd}],execute:function(){var p,f,h,d,b,g,v;r._RF.push({},"2bcb36vPfpBPJtJQXJMWOfc","VersionNotice",void 0);var y=s.ccclass,_=s.property;e("VersionNotice",(p=y("VersionNotice"),f=_(c),h=_(c),p((g=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"title",g,o(t)),n(t,"des",v,o(t)),t._title="更新内容",t._content="",t}i(t,e);var r=t.prototype;return r.onLoad=function(){l.add("openVersionNotice",this.openVersionNotice.bind(this)),this._title=u.versionCode+"更新内容",this._content+="1.修复bug。\n"},r.onDestroy=function(){l.remove("openVersionNotice")},r.openVersionNotice=function(){this.title.string=this._title,this.des.string=this._content,this.node.active=!0},r.closeVersionNotice=function(){this.node.active=!1},t}(a)).prototype,"title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(b.prototype,"des",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Weapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./PoolManager.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,h,c,d,l,u,g,f,_,m;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.BoxCollider2D,a=t.UITransform,s=t.Size,r=t.Contact2DType,h=t.CircleCollider2D,c=t.find,d=t.Animation,l=t.Component},function(t){u=t.em},function(t){g=t.groupIndex,f=t.ggd,_=t.tagData},function(t){m=t.plm}],execute:function(){var p;i._RF.push({},"cafd4Zb9TdIspSioAwoZg46","Weapon",void 0);var v=n.ccclass;t("Weapon",v("Weapon")(p=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._curLevel=void 0,e._curData=void 0,e._weaponId=void 0,e._weaponName=void 0,e._damage=void 0,e._damageTimes=0,e._duration=void 0,e._moveSpeed=void 0,e._maxLevel=void 0,e._canAttackTimes=void 0,e._backDis=void 0,e._attackInterval=void 0,e._flyDir=void 0,e._touchingArr=[],e._hasAttackedEnemies=[],e}e(i,t);var n=i.prototype;return n.initWeaponInfo=function(t,e,i){void 0===i&&(i={x:1,y:1}),this._curLevel=t,this._curData=e,this._weaponId=e.id,this._weaponName=e.name,this._maxLevel=e.maxLevel,this.initCurLvInfo(),this._flyDir=i,this.clearCacheData()},n.initCurLvInfo=function(){var t=this._curLevel-1;if(this._damage=this._curData.damage[t],this._damageTimes=this._curData.damageTimes.length>0?this._curData.damageTimes[t]:0,this._duration=this._curData.duration.length>0?this._curData.duration[t]:1/0,this._moveSpeed=this._curData.moveSpeed.length>0?this._curData.moveSpeed[t]:0,this._canAttackTimes=this._curData.canAttackTimes.length>0?this._curData.canAttackTimes[t]:1/0,this._backDis=this._curData.backDis.length>0?this._curData.backDis[t]:0,this._attackInterval=this._curData.attackInterval.length>0?this._curData.attackInterval[t]:.5,0!==this._duration){var e=u.dispatch("getHeroControlProperty","_bonusBulletDuration");this._duration+=e}if(0!==this._moveSpeed){var i=u.dispatch("getHeroControlProperty","_bonusBulletMoveSpeed");this._moveSpeed+=i}if(0!==this._canAttackTimes){var n=u.dispatch("getHeroControlProperty","_bonusBulletAttackTimes");this._canAttackTimes+=n}},n.clearCacheData=function(){this._touchingArr.length=0,this._hasAttackedEnemies.length=0},n.onDisable=function(){this.unscheduleAllCallbacks()},n.initBoxCollider=function(t,e){if(void 0===e&&(e={x:0,y:0}),!t)throw"tag is"+t;var i=this.node.getComponent(o);i||(i=this.node.addComponent(o));var n=this.node.getComponent(a),h=new s(n.contentSize.x+e.x,n.contentSize.y+e.y);i.tag=t,i.size=h,i.group=g.heroWeapon,i.on(r.BEGIN_CONTACT,this.onBeginContact,this),i.on(r.END_CONTACT,this.onEndContact,this)},n.initCircleCollider=function(t,e){if(void 0===e&&(e=0),!t)throw"tag is"+t;var i=this.node.getComponent(h);i||(i=this.node.addComponent(h));var n=this.node.getComponent(a);i.tag=t,i.radius=n.contentSize.x/2+e,i.group=g.heroWeapon,i.on(r.BEGIN_CONTACT,this.onBeginContact,this),i.on(r.END_CONTACT,this.onEndContact,this)},n.update=function(t){this.weaponMove(t),this.weaponDuration(t)},n.weaponMove=function(t){if(!f.stopAll&&this._flyDir&&0!=this._moveSpeed&&this._duration!=1/0){var e=t*this._moveSpeed,i=this._flyDir.x*e,n=this._flyDir.y*e;this.node.setPosition(this.node.getPosition().x+i,this.node.getPosition().y+n,0)}},n.weaponDuration=function(t){f.stopAll||(this._duration-=t,this._duration<=0&&this.recoveryToPool("weaponDuration"))},n.changeBulletRotationByFlyDir=function(){if(0!=this._flyDir.x||0!=this._flyDir.y)if(0!=this._flyDir.x)if(0!=this._flyDir.y){var t=Math.sqrt(this._flyDir.x*this._flyDir.x+this._flyDir.y*this._flyDir.y),e=Math.sin(Math.abs(this._flyDir.y)/t),i=90*Math.asin(e);this._flyDir.y>0?this._flyDir.x>0?this.node.angle=180+i:this.node.angle=360-i:this._flyDir.x>0?this.node.angle=180-i:this.node.angle=i}else this._flyDir.x>0?this.node.angle=180:this.node.angle=0;else this._flyDir.y>0?this.node.angle=-90:this.node.angle=90},n.changeDirByAimDir=function(t){void 0===t&&(t=0);var e=u.dispatch("getHeroControlProperty","_curAimDir");if(0!=e.x||0!=e.y)if(0!=e.x)if(0!=e.y){var i=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.abs(e.y)/i,o=Math.asin(n)/Math.PI*180;e.y>0?e.x>0?this.node.angle=180+o+t:this.node.angle=360-o+t:e.x>0?this.node.angle=180-o+t:this.node.angle=o+t}else e.x>0?this.node.angle=180+t:this.node.angle=t;else e.y>0?this.node.angle=-90+t:this.node.angle=90+t},n.changeDirByMoveDir=function(t){void 0===t&&(t=0);var e=u.dispatch("getHeroControlProperty","_curDirection");if(0!=e.x||0!=e.y)if(0!=e.x)if(0!=e.y){var i=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.abs(e.y)/i,o=Math.asin(n)/Math.PI*180;e.y>0?e.x>0?this.node.angle=180+o+t:this.node.angle=360-o+t:e.x>0?this.node.angle=180-o+t:this.node.angle=o+t}else e.x>0?this.node.angle=180+t:this.node.angle=t;else e.y>0?this.node.angle=-90+t:this.node.angle=90+t},n.onBeginContact=function(t,e){var i=this;switch(e.tag){case _.wall:this.colliderWall(e);break;case _.monster:this._touchingArr.push(e),this.colliderMonster(e),this.scheduleOnce((function(){i.removeFromTouchArr(e)}),this._attackInterval);break;case _.boss:this._touchingArr.push(e),this.colliderBoss(e),this.scheduleOnce((function(){i.removeFromTouchArr(e)}),this._attackInterval)}},n.onEndContact=function(t,e){switch(e.tag){case _.monster:case _.boss:this.colliderEnemyEnd(e)}},n.colliderWall=function(t){console.log(this._weaponName+"撞墙")},n.colliderMonster=function(t){this.isStopRun(t)||(this.updateMonsterBlood(t),this.updateCanAttackTimes())},n.colliderBoss=function(t){this.isStopRun(t)||(this.updateBossBlood(t),this.updateCanAttackTimes())},n.colliderEnemyEnd=function(t){this.removeFromTouchArr(t)},n.removeFromTouchArr=function(t){var e=this._touchingArr.indexOf(t);if(e>-1){if(this._touchingArr[e]=this._touchingArr[this._touchingArr.length-1],--this._touchingArr.length,!t.node||t.node.parent!==c("Canvas/enemyLayer")&&t.node.parent!==c("Canvas/bossLayer"))return;var i=this.getComponent(o),n=this.getComponent(h),a=i||n;(i?this.rectIsIntersectsRect(i.worldAABB,t.worldAABB):this.rectIsIntersectsRect(n.worldAABB,t.worldAABB))&&this.onBeginContact(a,t)}},n.isTouching=function(t){return this._touchingArr.indexOf(t)>-1},n.isHasAttacked=function(t){return this._hasAttackedEnemies.indexOf(t)>-1},n.updateMonsterBlood=function(t){var e=u.dispatch("usingHeroControlFun","getCurDamage")*(1+this._damageTimes)+this._damage;e|=0,u.dispatch("usingHeroControlFun","isCriticalHit")?(e*=u.dispatch("usingHeroControlFun","getCurCriticalHitDamage"),e|=0,u.dispatch("createDamageTex",t.node,e,{x:0,y:20},"criticalHit")):u.dispatch("createDamageTex",t.node,e,{x:0,y:20});var i=u.dispatch("getHeroControlProperty","_bonusBackDis");t.node.getComponent("Monster").updateBlood(-e,this._backDis+i)},n.updateBossBlood=function(t){var e=u.dispatch("usingHeroControlFun","getCurDamage")+this._damage;u.dispatch("createDamageTex",t.node,e,{x:0,y:20});var i=t.node.parent.components[0];if(!i)throw"script is not init";i.updateBlood(-e)},n.isStopRun=function(t){return f.stopAll||!this.isTouching(t)},n.recoveryToPool=function(t){m.putToPool(this._weaponName,this.node)},n.updateCanAttackTimes=function(){this._canAttackTimes--,this._canAttackTimes<=0&&this.recoveryToPool("updateCanAttackTimes")},n.addToAnimManger=function(){var t=this.node.getComponent(d);u.dispatch("usingGameAnimManagerFun","addAnimToList",t)},n.removeAnimFromList=function(){var t=this.node.getComponent(d);u.dispatch("usingGameAnimManagerFun","removeAnimFromList",t)},n.rectIsIntersectsRect=function(t,e){return t.intersects(e)},n.isExceedMaxDistance=function(t,e){var i=this;this.schedule((function e(){i.recoveryToPoolWhenWeaponIsDistant(t)&&(i.unschedule(e),i.recoveryToPool("isExceedMaxDistance"))}),e)},n.recoveryToPoolWhenWeaponIsDistant=function(t){return!f.stopAll&&(this.getDistanceToHero()>t||void 0)},n.getDistanceToHero=function(){var t=u.dispatch("getTargetWorldPos"),e=this.node.getWorldPosition();return this.getTwoPointDistance(t,e)},n.getTwoPointDistance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},n.initEquBoxCollider=function(t){var e=this.node.getComponent(o);if(!e)throw"未初始化法器碰撞器";e.tag=t,e.group=g.heroWeapon,e.on(r.BEGIN_CONTACT,this.onBeginContact,this),e.on(r.END_CONTACT,this.onEndContact,this)},n.initEquDataByExtraProperties=function(t){t.qData.effect.indexOf(1)>-1&&(this._damage=0),t.qData.effect.indexOf(3)>-1&&(this._damage*=.7,this._damageTimes*=.8),t.qData.effect.indexOf(1002)>-1&&(this._damageTimes*=.1),t.qData.effect.indexOf(1003)>-1&&(this._damageTimes*=.3),t.qData.effect.indexOf(1004)>-1&&(this._damageTimes*=.5),t.qData.effect.indexOf(1008)>-1&&this.node.setScale(1.5,1.5,2),t.qData.effect.indexOf(1009)>-1&&this.node.setScale(2,2,2),t.qData.effect.indexOf(1010)>-1&&this._canAttackTimes++,t.qData.effect.indexOf(1005)>-1?this.initEquBoxCollider(_.destroyWeapon):this.initEquBoxCollider(_.sword),t.qData.effect.indexOf(5001)>-1&&(this._duration*=2),t.qData.effect.indexOf(5002)>-1&&(this._duration=1/0)},i}(l))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/weaponManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts","./PoolManager.ts","./Queue.ts"],(function(e){"use strict";var t,o,i,a,n,r,s,l,d,u,h,c,p,g,f,v,m,P,y,w,S,C,W;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,s=e._decorator,l=e.Sprite,d=e.JsonAsset,u=e.Node,h=e.Material,c=e.NodePool,p=e.find,g=e.Vec2,f=e.Animation,v=e.Component,m=e.instantiate,P=e.Label},function(e){y=e.em},function(e){w=e.ggd},function(e){S=e.glf},function(e){C=e.plm},function(e){W=e.Queue}],execute:function(){var F,L,b,T,k,B,D,_,A,N,x;r._RF.push({},"a567cNLrvhBJYPPuiBF6V0Q","weaponManager",void 0);var H=s.ccclass,U=s.property;e("weaponManager",(F=H("WeaponManager"),L=U(l),b=U(d),T=U(u),k=U(h),F((_=t((D=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,i(t,"equWeaponCDProgress",_,a(t)),i(t,"weaponDataJson",A,a(t)),i(t,"btnNodes",N,a(t)),i(t,"defaultMaterial",x,a(t)),t._thousandsSwordToTombQueue=new W,t._fireBloomQueue=new W,t._hellFireQueue=new W,t._swordLv=0,t._guardLv=0,t._spellLv=0,t._dartsLv=0,t._spiritBulletLv=0,t._flySwordLv=0,t._skyThunderLv=0,t._iceSpiritNeedleLv=0,t._taijihuanLv=0,t._landFireLv=0,t._rewardConfig=null,t._curAllURList=[],t._weaponData={},t._equWeaTotalCD=void 0,t._equWeaCurTime=void 0,t._rogueSkillCDList={spiritBullet:1.8,sword:1.2,darts:3.1,iceSpiritNeedle:3.5,skyThunder:4.7,landFire:14.3,taijihuan:2.6},t._rogueUltimateSkillCDList={spell:15,guard:8,sword:8.3},t}o(t,e);var r=t.prototype;return r.onDestroy=function(){y.remove("updateSelectWeapon"),y.remove("getWeaponDataByIdOrName"),y.remove("usingWeaponManagerFun"),y.remove("getWeaponManagerProperty")},r.onLoad=function(){y.add("updateSelectWeapon",this.updateSelectWeapon.bind(this)),y.add("getWeaponDataByIdOrName",this.getWeaponDataByIdOrName.bind(this)),y.add("usingWeaponManagerFun",this.usingWeaponManagerFun.bind(this)),y.add("getWeaponManagerProperty",this.getWeaponManagerProperty.bind(this)),this.initWeaponData(),this.initWeaponConfig(),this.dynamicLoadPrefabs(),this.startUsingWeapon(),this.usingEqu(),this.initSelectWeaponAd()},r.startUsingWeapon=function(){this._spiritBulletLv=1,this.isUsingSpiritBullet(!0)},r.usingMaxLvWeapon=function(){this._swordLv=4,this._guardLv=4,this._spellLv=4,this._dartsLv=4,this._spiritBulletLv=4,this.isUsingSword(!0),this.isUsingDarts(!0),this.isUsingGuard(!0),this.isUsingSpell(!0),this.isUsingSpiritBullet(!0),this._iceSpiritNeedleLv=4,this.isUsingIceSpiritNeedle(!0)},r.initWeaponData=function(){var e=this;this.weaponDataJson.json.forEach((function(t){var o=t.id,i=t.name;e._weaponData[o]=t,e._weaponData[i]=t}))},r.initWeaponConfig=function(){this._rewardConfig=["restoreHP","addMoveSpeed","addCriticalHitRate","sword","guard","spell","darts","spiritBullet","flySword","skyThunder","iceSpiritNeedle","taijihuan","landFire"]},r.dynamicLoadPrefabs=function(){this.loadPrefab("sword"),this.loadPrefab("darts"),this.loadPrefab("spell"),this.loadPrefab("spiritBullet"),this.loadPrefab("flySword"),this.loadPrefab("thousandsSwordToTomb"),this.loadPrefab("justOneSwordDivideWorld"),this.loadPrefab("swordRain"),this.loadPrefab("iceCone"),this.loadPrefab("fireBloom"),this.loadPrefab("hellFire"),this.loadPrefab("moveLikeFire"),this.loadPrefab("dangerWindToNear"),this.loadPrefab("doomsdayStorm"),this.loadPrefab("thunderRunning"),this.loadPrefab("thunderFissionBead"),this.loadPrefab("skyThunder"),this.loadPrefab("iceSpiritNeedle"),this.loadPrefab("taijihuan")},r.loadPrefab=function(e,t){void 0===t&&(t=null);y.dispatch("loadTheDirResources","/prefabs/hero/weapon/"+e,(function(o){t?t(o):C.addPoolToPools(e,new c,o)}))},r.initSelectWeaponAd=function(){w.isOpenAd?(p("Canvas/heroLayer/GameUILayer/selectWeapon/getAll").active=!0,p("Canvas/heroLayer/GameUILayer/selectWeapon/updateAll").active=!0):(p("Canvas/heroLayer/GameUILayer/selectWeapon/getAll").active=!1,p("Canvas/heroLayer/GameUILayer/selectWeapon/updateAll").active=!1)},r.getAllUpgradeReward=function(){w.curAdRewardType="getAllUpgradeReward",S.playAd()},r.updateUpgradeReward=function(){w.curAdRewardType="updateUpgradeReward",S.playAd()},r.isUsingSpell=function(e){if(console.log("初始化护符"),p("spellPar",this.node).active=e,e){var t=this.getWeaponDataByIdOrName("spell").total[this._spellLv-1];t+=y.dispatch("getHeroControlProperty","_bonusBulletTotal"),this.openSpell(t)}},r.openSpell=function(e,t){var o=this;if(void 0===t&&(t=180),t<=10)return console.log("半径过小");for(var i=p("spellPar",this.node),a=0;a<i.children.length;a++){var n=i.children[a];C.putToPool("spell",n),a--}for(var r=2*Math.PI/e,s=360/e,l=[],d=0;d<e;d++){var u=d*r,h=Math.cos(u)*t,g=Math.sin(u)*t;l.push([h,g])}for(var f=function(e){var t=l[e],i=C.getFromPool("spell");i?o.initSpell(i,t,e*s):o.loadPrefab("spell",(function(a){C.addPoolToPools("spell",new c,a),i=C.getFromPool("spell"),o.initSpell(i,t,e*s)}))},v=0;v<l.length;v++)f(v);this.unschedule(this.spellParRotate),this.schedule(this.spellParRotate,1/60)},r.initSpell=function(e,t,o){var i=this.getWeaponDataByIdOrName("spell");e.parent=p("spellPar",this.node),e.setPosition(t[0],t[1],0),e.angle=o,e.getComponent("Spell").init(i,this._spellLv)},r.spellParRotate=function(){if(!w.stopAll){p("spellPar",this.node).angle+=3}},r.isOpenSpellUltimateSkill=function(e){if(e){this.usingSpellUltimateSkill();var t=this._rogueUltimateSkillCDList.spell;this.schedule(this.usingSpellUltimateSkill,t)}else this.unschedule(this.usingSpellUltimateSkill)},r.usingSpellUltimateSkill=function(){var e=this;if(!w.stopAll){console.log("释放护符大招");for(var t=150,o=p("spellPar",this.node),i=this.getWeaponDataByIdOrName("spell"),a=1/60,n=2*Math.PI/12,r=[],s=0;s<12;s++){var l=s*n,d=Math.cos(l)*t,u=Math.sin(l)*t;r.push([d,u])}for(var h=function(n){var s=r[n],l=C.getFromPool("spell");l.getComponent("Spell").init(i,e._spellLv),l.parent=o,l.setPosition(s[0],s[1],0);var d=30*n;l.angle=d;e.schedule((function(){if(!w.stopAll){var e=l.getPosition(),o=s[0]/t*3,i=s[1]/t*3;o*=2,i*=2,l.setPosition(e.x+o,e.y+i,0)}}),a)},c=0;c<r.length;c++)h(c);this.unschedule(this.spellParRotate),this.schedule(this.spellParRotate,a)}},r.isUsingGuard=function(e){var t=p("guard",this.node);if(t.active=e,e){var o=this.getWeaponDataByIdOrName("guard"),i=o.total[this._guardLv-1];t.setScale(i,i),t.getComponent("Guard").init(o,this._guardLv),t.active=!0}},r.isOpenGuardUltimateSkill=function(e){var t=this;this.schedule((function(){w.stopAll||t.usingGuardUltimateSkill()}),this._rogueUltimateSkillCDList.guard)},r.usingGuardUltimateSkill=function(){var e=this;console.log("开启波动阵大招");var t=p("guard",this.node),o=this.getWeaponDataByIdOrName("guard").total[this._guardLv-1],i=6,a=.1;this.schedule((function a(){if(!w.stopAll){var n=t.getScale();(i-=.2)>0?t.setScale(n.x+.2,n.y+.2,n.z):(t.setScale(o,o,1),e.unschedule(a))}}),a)},r.isUsingSpiritBullet=function(e){if(e){var t=this._rogueSkillCDList.spiritBullet;this.schedule(this.createSpiritBullet,t)}else this.unschedule(this.createSpiritBullet)},r.createSpiritBullet=function(){var e=this;if(!w.stopAll){var t=y.dispatch("usingHeroControlFun","seekTreeFirstEnemyDir");if(t){var o=this.getWeaponDataByIdOrName("spiritBullet").total[this._spiritBulletLv-1];if(!(o+=y.dispatch("getHeroControlProperty","_bonusBulletTotal")))throw"total err,total is "+o;for(var i=this.getFlySwordInitPos(o),a=function(o){var a=C.getFromPool("spiritBullet"),n=.1*o;a?e.scheduleOnce((function(){e.initSpiritBullet(a,i[o],t)}),n):e.loadPrefab("spiritBullet",(function(r){C.addPoolToPools("spiritBullet",new c,r),a=C.getFromPool("spiritBullet"),e.scheduleOnce((function(){e.initSpiritBullet(a,i[o],t)}),n)}))},n=0;n<o;n++)a(n)}}},r.initSpiritBullet=function(e,t,o){var i=this.getWeaponDataByIdOrName("spiritBullet");e.setPosition(0,0,0);var a=p("Canvas/bulletLayer");e.parent=a;var n=y.dispatch("getHeroWorldPos");n.x+=t.x,n.y+=t.y,e.setWorldPosition(n),e.getComponent("SpiritBullet").init(i,this._spiritBulletLv,o)},r.getFlyDirByCurPos=function(e){var t=y.dispatch("getHeroWorldPos");return S.getTwoPointFlyDir(e,t)},r.isOpenSpiritBulletUltimateSkill=function(e){},r.usingSpiritBulletUltimateSkill=function(){console.log("usingSpiritBulletUltimateSkill 还没写")},r.isUsingSword=function(e){if(e){var t=this._rogueSkillCDList.sword;this.schedule(this.createSword,t)}else this.unschedule(this.createSword)},r.createSword=function(){var e=this;if(!w.stopAll){var t=this.getWeaponDataByIdOrName("sword").total[this._swordLv-1];if(!(t+=y.dispatch("getHeroControlProperty","_bonusBulletTotal")))throw"total err,total is "+t;var o=y.dispatch("getHeroControlProperty","_curDirection");if(0!=o.x||0!=o.y)for(var i=this.getFlySwordInitPos(t),a=function(t){var o=C.getFromPool("sword");o?e.initSword(o,i[t]):e.loadPrefab("sword",(function(a){C.addPoolToPools("sword",new c,a),o=C.getFromPool("sword"),e.initSword(o,i[t])}))},n=0;n<t;n++)a(n)}},r.initSword=function(e,t){var o=this.getWeaponDataByIdOrName("sword");e.setPosition(0,0,0);var i=p("Canvas/bulletLayer");e.parent=i;var a=this.getFlyDir(y.dispatch("getHeroControlProperty","_curDirection")),n=y.dispatch("getHeroWorldPos");n.x+=t.x,n.y+=t.y,e.setWorldPosition(n),e.getComponent("Sword").init(o,this._swordLv,a)},r.getFlySwordInitPos=function(e){for(var t=[],o=0;o<e;o++){var i=o%3,a={x:0==i?0:1==i?30:-30,y:30*(o/3|0)};t.push(a)}return t},r.usingSwordUltimateSkill=function(){if(!w.stopAll)for(var e=S.getCirclePos(50,16),t=this.getWeaponDataByIdOrName("sword"),o=0;o<16;o++){var i=C.getFromPool("sword");i.setPosition(0,0,0);var a=p("Canvas/bulletLayer");i.parent=a;var n=e[o],r={x:n[0]/50,y:n[1]/50},s=this.getFlyDir(r),l=y.dispatch("getHeroWorldPos");l.x+=n[0],l.y+=n[1],i.setWorldPosition(l),i.getComponent("Sword").init(t,this._swordLv,s)}},r.isOpenSwordUltimateSkill=function(e){if(e){var t=this._rogueUltimateSkillCDList.sword;this.schedule(this.usingSwordUltimateSkill,t)}else this.unschedule(this.usingSwordUltimateSkill)},r.isUsingFlySword=function(e){var t=this.getWeaponDataByIdOrName("flySword").total[this._flySwordLv-1];this.openFlySword(t)},r.openFlySword=function(e){for(var t=p("Canvas/heroLayer/flySwordPar"),o=0;o<e;o++)t.children[o].active=!0},r.usingFlySwordUltimateSkill=function(){},r.isOpenFlySwordUltimateSkill=function(e){},r.isUsingDarts=function(e){if(e){var t=this._rogueSkillCDList.darts;this.schedule(this.createDarts,t)}else this.unschedule(this.createDarts)},r.createDarts=function(){var e=this;if(!w.stopAll){var t=this.getWeaponDataByIdOrName("darts").total[this._dartsLv-1];if(!(t+=y.dispatch("getHeroControlProperty","_bonusBulletTotal")))throw"total err,total is "+t;for(var o=this.getFlyDir(y.dispatch("getHeroControlProperty","_curDirection")),i=this.getFlyDirArr(o,t),a=function(t){var o=C.getFromPool("darts");o?e.initDarts(o,i[t],t):e.loadPrefab("darts",(function(a){C.addPoolToPools("darts",new c,a),o=C.getFromPool("darts"),o=m(a),e.initDarts(o,i[t],t)}))},n=0;n<t;n++)a(n)}},r.initDarts=function(e,t,o){var i=this.getWeaponDataByIdOrName("darts");e.setPosition(0,0,0);var a=p("Canvas/bulletLayer");e.parent=a;var n=new g(50*t.x*(Math.floor(o/4)+1),50*t.y*(Math.floor(o/4)+1)),r=y.dispatch("getHeroWorldPos");r.x+=n.x,r.y+=n.y,e.setWorldPosition(r),this._dartsLv==i.maxLevel?e.getComponent("Darts").init(i,this._dartsLv,t,!0):e.getComponent("Darts").init(i,this._dartsLv,t)},r.isOpenDartsUltimateSkill=function(e){console.log("飞镖可分裂")},r.isUsingIceSpiritNeedle=function(e){if(e){var t=this._rogueSkillCDList.iceSpiritNeedle;this.schedule(this.createIceSpiritNeedle,t)}else this.unschedule(this.createIceSpiritNeedle)},r.createIceSpiritNeedle=function(){var e=this;if(!w.stopAll){var t=this.getWeaponDataByIdOrName("iceSpiritNeedle").total[this._iceSpiritNeedleLv-1];if(!(t+=y.dispatch("getHeroControlProperty","_bonusBulletTotal")))throw"total err,total is "+t;var o=y.dispatch("usingHeroControlFun","seekTreeRandomNEnemyDir",t);if(o)for(var i=function(t){var i=C.getFromPool("iceSpiritNeedle"),a=o[t],n=.2*t;i?e.scheduleOnce((function(){e.initIceSpiritNeedle(i,a)}),n):e.loadPrefab("iceSpiritNeedle",(function(t){C.addPoolToPools("iceSpiritNeedle",new c,t),i=C.getFromPool("iceSpiritNeedle",!0),e.scheduleOnce((function(){e.initIceSpiritNeedle(i,a)}),n)}))},a=0;a<t;a++)i(a)}},r.initIceSpiritNeedle=function(e,t){var o=this.getWeaponDataByIdOrName("iceSpiritNeedle");e.setPosition(0,0,0);var i=p("Canvas/bulletLayer");e.parent=i;var a=y.dispatch("getHeroWorldPos");e.setWorldPosition(a),e.getComponent("IceSpiritNeedle").init(o,this._iceSpiritNeedleLv,t)},r.getRandomFlyDir=function(){var e=Math.random(),t=Math.random();return e>t?(t=e/t,e=1):(e=t/e,t=1),{x:e=Math.random()>.5?e:-e,y:t=Math.random()>.5?t:-t}},r.isOpenIceSpiritNeedleUltimateSkill=function(e){console.log("冰魄神针大招 还没写")},r.isUsingSkyThunder=function(e){if(e){var t=this._rogueSkillCDList.skyThunder;this.schedule(this.createSkyThunder,t)}else this.unschedule(this.createSkyThunder)},r.createSkyThunder=function(){var e=this;if(!w.stopAll){var t=this.getWeaponDataByIdOrName("skyThunder").total[this._skyThunderLv-1];if(!(t+=y.dispatch("getHeroControlProperty","_bonusBulletTotal")))throw"total err,total is "+t;for(var o=0;o<t;o++){var i=.2*o;this.scheduleOnce((function(){if(!w.stopAll){var t=y.dispatch("usingHeroControlFun","seekTreeRandomOneEnemyPos");if(t){var o=C.getFromPool("skyThunder");o?e.initSkyThunder(o,t):e.loadPrefab("skyThunder",(function(i){C.addPoolToPools("skyThunder",new c,i),o=C.getFromPool("skyThunder"),e.initSkyThunder(o,t)}))}}}),i)}}},r.initSkyThunder=function(e,t){var o=this.getWeaponDataByIdOrName("skyThunder");e.parent=p("Canvas/bulletLayer"),e.setWorldPosition(t.x,t.y,0),e.getComponent("SkyThunder").init(o,this._skyThunderLv)},r.isOpenSkyThunderUltimateSkill=function(e){console.log("天雷大招 还没写")},r.isUsingLandFire=function(e){if(e){var t=this._rogueSkillCDList.landFire;this.schedule(this.createLandFire,t)}else this.unschedule(this.createLandFire)},r.createLandFire=function(){var e=this;if(!w.stopAll){var t=this.getWeaponDataByIdOrName("landFire").total[this._landFireLv-1];if(!(t+=y.dispatch("getHeroControlProperty","_bonusBulletTotal")))throw"total err,total is "+t;for(var o=[{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:-1},{x:-1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:-1}],i=function(t){e.scheduleOnce((function(){if(!w.stopAll){var i=C.getFromPool("landFire");i?e.initLandFire(i,o[t%o.length]):e.loadPrefab("landFire",(function(a){C.addPoolToPools("landFire",new c,a),i=C.getFromPool("landFire"),e.initLandFire(i,o[t%4])}))}}),.2*t)},a=0;a<t;a++)i(a)}},r.initLandFire=function(e,t){var o=this.getWeaponDataByIdOrName("landFire");e.setPosition(0,0,0);var i=p("Canvas/bulletLayer");e.parent=i;var a=y.dispatch("getHeroWorldPos");e.setWorldPosition(a),e.getComponent("LandFire").init(o,this._landFireLv,t)},r.isOpenLandFireUltimateSkill=function(e){console.log("地火大招 还没写")},r.isUsingTaijihuan=function(e){if(e){var t=this._rogueSkillCDList.taijihuan;this.schedule(this.createTaijihuan,t)}else this.unschedule(this.createTaijihuan)},r.createTaijihuan=function(){var e=this;if(!w.stopAll){var t=this.getWeaponDataByIdOrName("taijihuan").total[this._taijihuanLv-1];if(!(t+=y.dispatch("getHeroControlProperty","_bonusBulletTotal")))throw"total err,total is "+t;for(var o=0;o<t;o++)this.scheduleOnce((function(){if(!w.stopAll){var t=C.getFromPool("taijihuan");t?e.initTaijihuan(t):e.loadPrefab("taijihuan",(function(o){C.addPoolToPools("taijihuan",new c,o),t=C.getFromPool("taijihuan"),e.initTaijihuan(t)}))}}),.2*o)}},r.initTaijihuan=function(e){var t=this.getWeaponDataByIdOrName("taijihuan");e.setPosition(0,0,0);var o=p("Canvas/bulletLayer");e.parent=o;var i=y.dispatch("getHeroWorldPos");e.setWorldPosition(i),e.getComponent("Taijihuan").init(t,this._taijihuanLv)},r.isOpenTaijihuanUltimateSkill=function(e){console.log("太极环大招 还没写")},r.getFlyDir=function(e){return new g(e.x,e.y)},r.getFlyDirArr=function(e,t){for(var o=[],i=0;i<t;i++)o.push(this.getRotationDir(e,90*i));return o},r.getRotationDir=function(e,t){var o=t*Math.PI/180,i=e.x,a=e.y,n=i*Math.cos(o)-a*Math.sin(o),r=i*Math.sin(o)+a*Math.cos(o);return new g(n,r)},r.getUpgradeReward=function(e,t){p("GameUILayer/selectWeapon",this.node.parent).active=!1;for(var o,i=n(this.btnNodes);!(o=i()).done;){o.value.getChildByName("mask").getChildByName("icon").getComponent(l).spriteFrame=null}switch(w.stopAll=p("GameUILayer/passRewardLayer",this.node.parent).active,t){case"restoreHP":this.restoreHP();break;case"addMoveSpeed":y.dispatch("usingHeroControlFun","updateBonusMoveSpeed",20);break;case"addCriticalHitRate":y.dispatch("usingHeroControlFun","updateBonusCriticalHitRate",5);break;default:if(this.isHasWeaponByName(t)){this.upgradeWeaponByWeaponName(t);break}throw"type error,type is "+t}y.dispatch("usingHeroControlFun","resumeGame");for(var a,r=n(this.btnNodes);!(a=r()).done;){var s=a.value;s.getComponent(f).stop(),s.setScale(0,0,1)}},r.getAllUpgradeRewardComplete=function(){p("GameUILayer/selectWeapon",this.node.parent).active=!1;for(var e,t=n(this.btnNodes);!(e=t()).done;){e.value.getChildByName("mask").getChildByName("icon").getComponent(l).spriteFrame=null}w.stopAll=p("GameUILayer/passRewardLayer",this.node.parent).active;for(var o,i=n(this._curAllURList);!(o=i()).done;){var a=o.value;switch(a){case"restoreHP":this.restoreHP();break;case"addMoveSpeed":y.dispatch("usingHeroControlFun","updateBonusMoveSpeed",30);break;case"addCriticalHitRate":y.dispatch("usingHeroControlFun","updateBonusCriticalHitRate",5);break;default:if(this.isHasWeaponByName(a)){this.upgradeWeaponByWeaponName(a);break}throw"type error,type is "+a}}y.dispatch("usingHeroControlFun","resumeGame");for(var r,s=n(this.btnNodes);!(r=s()).done;){var d=r.value;d.getComponent(f).stop(),d.setScale(0,0,1)}},r.updateUpgradeRewardComplete=function(){for(var e,t=n(this.btnNodes);!(e=t()).done;){var o=e.value;o.getComponent(f).stop(),o.setScale(0,0,1)}this.updateSelectWeapon()},r.playBtnNodeAnim=function(){var e=this;this.btnNodes.forEach((function(t,o){e.scheduleOnce((function(){t.getComponent(f).play()}),.4*o)}))},r.updateSelectWeapon=function(){var e=this;this.playBtnNodeAnim();var t=this.btnNodes.length,o=0,i=[];if(this._rewardConfig.length<t)throw"this._rewardConfig.length is err,this._rewardConfig is "+this._rewardConfig;for(;t!=o;){var a=this._rewardConfig[Math.random()*this._rewardConfig.length|0];i.indexOf(a)<0&&(i.push(a),o++)}this._curAllURList=i;for(var n=["restoreHP","addMoveSpeed","addCriticalHitRate"],r=function(t){var o=e.btnNodes[t],a=i[t],r=o.getChildByName("mask").getChildByName("icon").getComponent(l);y.dispatch("loadTheDirResources","images/weapons/icon_"+a+"/spriteFrame",(function(e){return r.spriteFrame=e})),S.createButton(e.node,o,"WeaponManager","getUpgradeReward",a);var s=o,d=s.getChildByName("label").getComponent(P),u=s.getChildByName("name").getComponent(P);e.updateUpgradeWeaponDescription(d,u,a);var h=s.getChildByName("starPar");if(n.indexOf(a)>-1)h.active=!1;else{h.active=!0;for(var c=e.getWeaponDataByIdOrName(a),p=e["_"+c.name+"Lv"]+1,g=1;g<6;g++){var f=h.getChildByName("star"+g).getChildByName("starPurple");f.active=g<=p}var v=h.getChildByName("star"+p).getChildByName("starPurple");e.playStarWink(v,s.parent)}},s=0;s<this.btnNodes.length;s++)r(s);if(y.dispatch("getHeroControlProperty","_openAutoScript")){var d=i[Math.random()*i.length|0];console.log("getUpgradeReward name",d),this.getUpgradeReward(null,d)}},r.playStarWink=function(e,t){var o=this;e.active=!0;this.schedule((function i(){e.active=!e.active,0==t.active&&o.unschedule(i)}),.3)},r.updateUpgradeWeaponDescription=function(e,t,o){switch(o){case"restoreHP":e.string="血量拉满",t.string="血量拉满";break;case"addMoveSpeed":e.string="增加20移速",t.string="移速⬆";break;case"addCriticalHitRate":e.string="增加5%暴击率",t.string="暴击率⬆";break;default:if(this.isHasWeaponByName(o)){var i=this.getWeaponDataByIdOrName(o),a=this["_"+i.name+"Lv"]+1;e.string=i["lv"+a],t.string=i.name2;break}throw"type error,type is "+o}},r.upgradeWeaponByWeaponName=function(e){var t=this.getWeaponDataByIdOrName(e);if(!t)throw"data is error,current data is "+t;if(this["_"+e+"Lv"]!=t.maxLevel){this["_"+e+"Lv"]++;var o=this.getNewStringFirstLetterToUpperCase(e);if(this["isUsing"+o](!0),this["_"+e+"Lv"]==t.maxLevel){this.deleteFillLevelWeaponFromRewardConfig(e);var i="isOpen"+o+"UltimateSkill";console.log("string",i),this[i](!0)}}},r.getNewStringFirstLetterToUpperCase=function(e){return e[0].toUpperCase()+e.substring(1)},r.deleteFillLevelWeaponFromRewardConfig=function(e){var t=this._rewardConfig.indexOf(e);if(!(t>-1))throw"weapon name is error,wn is "+e;this._rewardConfig.splice(t,1)},r.restoreHP=function(){y.dispatch("usingHeroControlFun","updateBloodProgress",999999)},r.getWeaponDes=function(){var e=this._swordLv>0?"飞剑术等级："+this._swordLv+"\n":"",t=this._guardLv>0?"波动阵等级："+this._guardLv+"\n":"",o=this._spellLv>0?"旋转护符等级："+this._spellLv+"\n":"",i=this._dartsLv>0?"六角镖等级："+this._dartsLv+"\n":"",a=this._spiritBulletLv>0?"手里剑等级："+this._spiritBulletLv+"\n":"",n=this._skyThunderLv>0?"天雷等级："+this._skyThunderLv+"\n":"";return"武器等级：\n"+e+t+o+i+a+(this._flySwordLv>0?"五行珠等级："+this._flySwordLv+"\n":"")+n},r.getWeaponDataByIdOrName=function(e){if(this._weaponData.hasOwnProperty(e))return this._weaponData[e];throw e+" of _weaponData is null"},r.isHasWeaponByName=function(e){return this._weaponData.hasOwnProperty(e)},r.usingWeaponManagerFun=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];if(this[e]&&"function"==typeof this[e])return this[e].apply(this,o);throw e+" is not fun or undefined"},r.getWeaponManagerProperty=function(e){if(this.hasOwnProperty(e))return this[e];throw"hero control 中不存在属性："+e},r.usingSkillSwordRain=function(){var e=this;if(!w.stopAll){this.schedule((function(){for(var t=function(t){var o=C.getFromPool("swordRain");o?e.initSwordRain(o,80*t-160):e.loadPrefab("swordRain",(function(i){C.addPoolToPools("swordRain",new c,i),o=C.getFromPool("swordRain"),e.initSwordRain(o,80*t-160)}))},o=0;o<5;o++)t(o)}),.2,5,0)}},r.initSwordRain=function(e,t){var o=y.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","剑雨术"),i={name:o.name2,duration:o.duration,damage:o.baseDamage};e.setPosition(0,0,0);var a=p("Canvas/bulletLayer");e.parent=a;var n=y.dispatch("getHeroWorldPos");n.x+=t,n.y+=500,e.setWorldPosition(n),e.getComponent("SwordRain").init(i)},r.usingSkillJustOneSwordDivideWorld=function(){var e=this,t=C.getFromPool("justOneSwordDivideWorld");t?this.initJustOneSwordDivideWorld(t):this.loadPrefab("justOneSwordDivideWorld",(function(t){C.addPoolToPools("justOneSwordDivideWorld",new c,t);var o=C.getFromPool("justOneSwordDivideWorld");e.initJustOneSwordDivideWorld(o)}))},r.initJustOneSwordDivideWorld=function(e){var t=this,o=p("Canvas/heroLayer/skillParent");e.parent=o;var i=y.dispatch("getHeroWorldPos");e.setWorldPosition(i),e.getComponent("JustOneSwordDivideWorld").init();var a=0,n=function o(){w.stopAll||(e.angle+=20,(a+=20)>=1080&&(t.unschedule(o),e.getComponent("JustOneSwordDivideWorld").recoveryToPool()))};this.scheduleOnce((function(){e.getChildByName("collectPower").active=!1,t.schedule(n,1/60)}),1.5)},r.usingSkillThousandsSwordToTomb=function(){for(var e=this,t=0;t<30;t++){var o=C.getFromPool("thousandsSwordToTomb");o?(this._thousandsSwordToTombQueue.enqueue(o),0===t&&this.schedule(this.createThousandsSwordToTomb,.3)):this.loadPrefab("thousandsSwordToTomb",(function(t){C.addPoolToPools("thousandsSwordToTomb",new c,t);var o=C.getFromPool("thousandsSwordToTomb");e._thousandsSwordToTombQueue.enqueue(o)}))}},r.createThousandsSwordToTomb=function(){if(!w.stopAll){var e=this._thousandsSwordToTombQueue.dequeue();e?this.initThousandsSwordToTomb(e):this.unschedule(this.createThousandsSwordToTomb)}},r.initThousandsSwordToTomb=function(e){var t=y.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","万剑归冢"),o={damage:t.baseDamage,duration:t.duration,moveDistance:1e3,name:t.name2},i=p("Canvas/bulletLayer");e.parent=i,e.getComponent("ThousandsSwordToTomb").init(o)},r.usingSkillIceCone=function(){for(var e=this,t=S.getCirclePos(20,20),o=function(o){var i=C.getFromPool("iceCone"),a=t[o],n={x:a[0]/20,y:a[1]/20};i?e.initIceCone(i,n,a):e.loadPrefab("iceCone",(function(t){C.addPoolToPools("iceCone",new c,t);var o=C.getFromPool("iceCone");e.initIceCone(o,n,a)}))},i=0;i<20;i++)o(i)},r.initIceCone=function(e,t,o){var i=y.dispatch("usingHeroBasePropertyFun","getSkillBookDataByIdOrName","冰锥术"),a={damage:i.baseDamage,duration:i.duration,moveSpeed:600,canAttackTimes:1,name:i.name2},n=p("Canvas/bulletLayer"),r=y.dispatch("getHeroWorldPos");e.parent=n,e.setWorldPosition(r.x+o[0],r.y+o[1],r.z),e.getComponent("IceCone").init(a,t)},r.usingSkillFireBloom=function(){for(var e=this,t=0;t<60;t++){var o=C.getFromPool("fireBloom");o?(this._fireBloomQueue.enqueue(o),0===t&&this.schedule(this.createFireBloom,.2)):this.loadPrefab("fireBloom",(function(t){C.addPoolToPools("fireBloom",new c,t);var o=C.getFromPool("fireBloom");e._fireBloomQueue.enqueue(o)}))}},r.createFireBloom=function(){if(!w.stopAll){var e=this._fireBloomQueue.dequeue();if(e){var t=y.dispatch("usingHeroControlFun","getRandomPosNearHero"),o=p("Canvas/bulletLayer");e.parent=o,e.setWorldPosition(t.x,t.y,0),e.getComponent("FireBloom").init()}else this.unschedule(this.createFireBloom)}},r.usingSkillHellFire=function(){for(var e=this,t=0;t<20;t++){var o=C.getFromPool("hellFire");o?(this._hellFireQueue.enqueue(o),0===t&&this.schedule(this.createHellFire,1)):this.loadPrefab("hellFire",(function(t){C.addPoolToPools("hellFire",new c,t);var o=C.getFromPool("hellFire");e._hellFireQueue.enqueue(o)}))}},r.createHellFire=function(){if(!w.stopAll){var e=this._hellFireQueue.dequeue();if(e){var t=y.dispatch("getHeroWorldPos"),o=p("Canvas/bulletLayer");e.parent=o,e.setWorldPosition(t.x,t.y+50,0),e.getComponent("HellFire").init()}else this.unschedule(this.createHellFire)}},r.usingSkillMoveLikeFire=function(){this.schedule(this.createMoveLikeFire,.2)},r.createMoveLikeFire=function(){if(!w.stopAll){var e=C.getFromPool("moveLikeFire");if(e){var t=y.dispatch("getHeroWorldPos"),o=p("Canvas/bulletLayer");e.parent=o,e.setWorldPosition(t.x,t.y,0),e.getComponent("MoveLikeFire").init()}else this.loadPrefab("moveLikeFire",(function(e){C.addPoolToPools("moveLikeFire",new c,e);var t=C.getFromPool("moveLikeFire"),o=y.dispatch("getHeroWorldPos"),i=p("Canvas/bulletLayer");t.parent=i,t.setWorldPosition(o.x,o.y,0),t.getComponent("MoveLikeFire").init()}))}},r.usingSkillDangerWindToNear=function(){for(var e=this,t=y.dispatch("getHeroWorldPos"),o=function(){var o=a[i],n=C.getFromPool("dangerWindToNear");n?(n.parent=p("Canvas/bulletLayer"),n.setWorldPosition(t.x,t.y,0),n.getComponent("DangerWindToNear").init(o)):e.loadPrefab("dangerWindToNear",(function(e){C.addPoolToPools("dangerWindToNear",new c,e);var i=C.getFromPool("dangerWindToNear");i.parent=p("Canvas/bulletLayer"),i.setWorldPosition(t.x,t.y,0),i.getComponent("DangerWindToNear").init(o)}))},i=0,a=[[-1,1],[0,1],[1,1],[-1,0],[1,0],[-1,-1],[0,-1],[1,-1]];i<a.length;i++)o()},r.usingSkillDoomsdayStorm=function(){for(var e=this,t=[[-1,1],[0,1],[1,1],[-1,0],[1,0],[-1,-1],[0,-1],[1,-1]],o=50,i=new W;o;){var a=C.getFromPool("doomsdayStorm");a?i.enqueue(a):this.loadPrefab("doomsdayStorm",(function(e){C.addPoolToPools("doomsdayStorm",new c,e);var t=C.getFromPool("doomsdayStorm");i.enqueue(t)})),o--}var n=0;this.schedule((function o(){if(!w.stopAll){var a=i.dequeue();if(a){var r=t[n%t.length],s=y.dispatch("getHeroWorldPos");a.parent=p("Canvas/bulletLayer"),a.setWorldPosition(s.x,s.y,0),a.getComponent("DoomsdayStorm").init(r),n++}else e.unschedule(o)}}),1)},r.usingSkillThunderRunning=function(){for(var e=this,t=[[0,1],[0,-1],[1,0],[-1,0]],o=new W,i=0;i<20;i++){var a=C.getFromPool("thunderRunning");a?o.enqueue(a):this.loadPrefab("thunderRunning",(function(e){C.addPoolToPools("thunderRunning",new c,e);var t=C.getFromPool("thunderRunning");o.enqueue(t)}))}var n=0;this.schedule((function i(){if(!w.stopAll){var a=o.dequeue();if(a){var r=t[n%t.length];a.parent=p("Canvas/bulletLayer");var s=y.dispatch("getHeroWorldPos");a.setWorldPosition(s),a.getComponent("ThunderRunning").init({x:r[0],y:r[1]}),n++}else e.unschedule(i)}}),1)},r.usingSkillThunderFissionBead=function(){var e=this.getFlyDir(y.dispatch("getHeroControlProperty","_curAimDir")),t=C.getFromPool("thunderFissionBead");if(t){t.parent=p("Canvas/bulletLayer");var o=y.dispatch("getHeroWorldPos");t.setWorldPosition(o),t.getComponent("ThunderFissionBead").init(5,e)}else this.loadPrefab("thunderFissionBead",(function(t){C.addPoolToPools("thunderFissionBead",new c,t);var o=C.getFromPool("thunderFissionBead");o.parent=p("Canvas/bulletLayer");var i=y.dispatch("getHeroWorldPos");o.setWorldPosition(i),o.getComponent("ThunderFissionBead").init(5,e)}))},r.usingEqu=function(){var e=this,t=y.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");if(console.log("usingEqu",t),t){this.usingEquWeapon(),this.equWeaponCDProgress.node.parent.active=!0;var o=this.getCurUsingWeaponAttackInterval();if(this._equWeaTotalCD=o,this._equWeaCurTime=0,t.qData.effect.indexOf(5002)>-1)return this._equWeaCurTime=this._equWeaTotalCD,void this.updateEquWeaProgress();this.schedule((function(){w.stopAll||(e._equWeaCurTime+=.025,e.updateEquWeaProgress(),e._equWeaCurTime>=e._equWeaTotalCD&&(e._equWeaCurTime=0,e.usingEquWeapon()))}),.025)}else this.equWeaponCDProgress.node.parent.active=!1},r.updateEquWeaProgress=function(){this.equWeaponCDProgress.fillRange=this._equWeaCurTime/this._equWeaTotalCD},r.usingEquWeapon=function(){switch(y.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponType")){case"长剑":this.createLongSword();break;case"巨剑":this.createGiantSword();break;case"巨斧":this.createGiantAxe();break;case"旋转斧":this.createRotationAxe();break;case"巨弩":this.createGiantArrow();break;case"连弩":this.createContinueArrow()}},r.usingLongSword=function(){var e=this,t=this.getCurUsingWeaponAttackInterval();this.schedule((function(){e.createLongSword()}),t)},r.createLongSword=function(){var e=this;if(!w.stopAll){var t=2,o=y.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData");console.log("createLongSword",o),o.qData.effect.indexOf(5003)>-1&&(t=4),o.qData.effect.indexOf(5004)>-1&&(t=8);for(var i=[{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:-1},{x:-1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1}],a=function(t){var o=C.getFromPool("longSword");o?e.initLongSword(o,i[t]):e.loadPrefab("longSword",(function(a){C.addPoolToPools("longSword",new c,a),o=C.getFromPool("longSword"),e.initLongSword(o,i[t])}))},n=0;n<t;n++)a(n)}},r.initLongSword=function(e,t){e.setPosition(0,0,0);var o=p("Canvas/bulletLayer");e.parent=o;var i=y.dispatch("getHeroWorldPos");console.log("initLongSword",i),e.setWorldPosition(i.x,i.y,i.z),e.getComponent("LongSword").init(t),console.log("long sword",e)},r.usingGiantSword=function(){var e=this;if(y.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData").qData.effect.indexOf(5002)>-1)this.createGiantSword();else{var t=this.getCurUsingWeaponAttackInterval();this.schedule((function(){e.createGiantSword()}),t)}},r.createGiantSword=function(){var e=this;if(!w.stopAll){var t=C.getFromPool("giantSword");t?this.initGiantSword(t):this.loadPrefab("giantSword",(function(o){C.addPoolToPools("giantSword",new c,o),t=C.getFromPool("giantSword"),e.initGiantSword(t)}))}},r.initGiantSword=function(e){e.setPosition(0,0,0),e.parent=p("Canvas/heroLayer/skillParent");var t=y.dispatch("getHeroWorldPos");e.setWorldPosition(t.x,t.y,t.z),e.getComponent("GiantSword").init(),console.log("initGiantSword",e)},r.usingGiantAxe=function(){var e=this,t=this.getCurUsingWeaponAttackInterval();this.schedule((function(){e.createGiantAxe()}),t)},r.createGiantAxe=function(){var e=this;if(!w.stopAll){var t=C.getFromPool("giantAxe");t?this.initGiantAxe(t):this.loadPrefab("giantAxe",(function(o){C.addPoolToPools("giantAxe",new c,o),t=C.getFromPool("giantAxe"),e.initGiantAxe(t)}))}},r.initGiantAxe=function(e){e.setPosition(0,0,0);var t=p("Canvas/heroLayer/skillParent");e.parent=t;var o=y.dispatch("getHeroWorldPos");e.setWorldPosition(o.x,o.y,o.z),e.getComponent("GiantAxe").init(),console.log("initGiantAxe",e)},r.usingRotationAxe=function(){var e=this,t=this.getCurUsingWeaponAttackInterval();this.schedule((function(){e.createRotationAxe()}),t)},r.createRotationAxe=function(){var e=this;if(!w.stopAll){var t=C.getFromPool("rotationAxe");t?this.initRotationAxe(t):this.loadPrefab("rotationAxe",(function(o){C.addPoolToPools("rotationAxe",new c,o),t=C.getFromPool("rotationAxe"),e.initRotationAxe(t)}))}},r.initRotationAxe=function(e){e.setPosition(0,0,0),e.parent=p("Canvas/heroLayer/skillParent");var t=y.dispatch("getHeroWorldPos");e.setWorldPosition(t.x,t.y,t.z),e.getComponent("RotationAxe").init()},r.usingGiantArrow=function(){var e=this,t=this.getCurUsingWeaponAttackInterval();this.createGiantArrow(),this.schedule((function(){e.createGiantArrow()}),t)},r.createGiantArrow=function(){var e=this;if(!w.stopAll){var t=C.getFromPool("giantArrow");t?this.initGiantArrow(t):this.loadPrefab("giantArrow",(function(o){C.addPoolToPools("giantArrow",new c,o),t=C.getFromPool("giantArrow"),e.initGiantArrow(t)}))}},r.initGiantArrow=function(e){e.setPosition(0,0,0),e.parent=p("Canvas/bulletLayer");var t=y.dispatch("getHeroWorldPos");e.setWorldPosition(t.x,t.y,t.z),e.getComponent("GiantArrow").init()},r.usingContinueArrow=function(){var e=this,t=this.getCurUsingWeaponAttackInterval();this.schedule((function(){e.createContinueArrow()}),t)},r.createContinueArrow=function(){var e=this;if(!w.stopAll){var t=C.getFromPool("continueArrow");t?this.initContinueArrow(t):this.loadPrefab("continueArrow",(function(o){C.addPoolToPools("continueArrow",new c,o),t=C.getFromPool("continueArrow"),e.initContinueArrow(t)}))}},r.initContinueArrow=function(e){e.setPosition(0,0,0),e.parent=p("Canvas/bulletLayer");var t=y.dispatch("getHeroWorldPos"),o=30*Math.random(),i=30*Math.random();e.setWorldPosition(t.x+o,t.y+i,t.z),e.getComponent("ContinueArrow").init()},r.getCurUsingWeaponAttackInterval=function(){var e=y.dispatch("usingHeroBasePropertyFun","getCurHeroUsingWeaponData"),t=e.lData.attackInterval;return e.qData.effect.indexOf(2)>-1&&(t*=2),e.qData.effect.indexOf(1001)>-1&&(t*=.5),console.log("getCurUsingWeaponAttackInterval",t),t},r.createShockWave=function(e,t){var o=this,i=C.getFromPool("shockWave");i?this.initShockWave(i,e,t):this.loadPrefab("shockWave",(function(a){C.addPoolToPools("shockWave",new c,a),i=C.getFromPool("shockWave"),o.initShockWave(i,e,t)}))},r.initShockWave=function(e,t,o){e.setPosition(0,0,0),e.parent=p("Canvas/bulletLayer"),e.setWorldPosition(t),e.getComponent("ShockWave").init(o)},t}(v)).prototype,"equWeaponCDProgress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(D.prototype,"weaponDataJson",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"btnNodes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(D.prototype,"defaultMaterial",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=D))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/wxGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./globalData.ts","./globalFun.ts"],(function(e){"use strict";var o,i,s,n,t,a,c,d,r,l;return{setters:[function(e){o=e.inheritsLoose},function(e){i=e.cclegacy,s=e._decorator,n=e.sys,t=e.director,a=e.Component},function(e){c=e.em},function(e){d=e.ggd,r=e.ggConfig},function(e){l=e.glf}],execute:function(){var h;i._RF.push({},"1c8cbW2NUxMCoMPVVuv5wHA","wxGame",void 0);var w=s.ccclass;s.property,e("WX_GAME",w("WX_GAME")(h=function(e){function i(){for(var o,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(o=e.call.apply(e,[this].concat(s))||this)._videoAd=null,o._bannerAd=null,o._curAdIndex=0,o}o(i,e);var s=i.prototype;return s.onLoad=function(){d.isOpenAd&&(c.add("showWxVideoAd",this.showWxVideoAd.bind(this)),c.add("showBanner",this.showBanner.bind(this)),c.add("hideBanner",this.hideBanner.bind(this)),n.platform==n.Platform.WECHAT_GAME&&(t.addPersistRootNode(this.node),this.init()))},s.init=function(){console.log("初始化微信场景"),wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),this.initRewardAd()},s.initBannerAd=function(){this._bannerAd=wx.createBannerAd({adUnitId:"adunit-fa354a32215cecf4",style:{left:0,top:wx.getSystemInfoSync().screenHeight-100,width:wx.getSystemInfoSync().screenWidth}}),this._bannerAd.onLoad((function(){console.log("banner 广告加载成功")})),this._bannerAd.onError((function(e){switch(console.log(e),e.errCode){case 1e3:console.log("后端接口调用失败"),c.dispatch("tipsViewShow","后端接口调用失败");break;case 1001:console.log("参数错误"),c.dispatch("tipsViewShow","参数错误");break;case 1002:console.log("广告单元无效"),c.dispatch("tipsViewShow","广告单元无效");break;case 1003:console.log("内部错误"),c.dispatch("tipsViewShow","内部错误");break;case 1004:console.log("无合适的广告"),c.dispatch("tipsViewShow","无合适的广告");break;case 1005:console.log("广告组件审核中"),c.dispatch("tipsViewShow","广告组件审核中");break;case 1006:console.log("广告组件被驳回"),c.dispatch("tipsViewShow","广告组件被驳回");break;case 1007:console.log("广告组件被封禁"),c.dispatch("tipsViewShow","广告组件被封禁");break;case 1008:console.log("广告单元已关闭"),c.dispatch("tipsViewShow","广告单元已关闭")}})),this._bannerAd.show()},s.showBanner=function(){this._bannerAd&&this._bannerAd.show()},s.hideBanner=function(){this._bannerAd&&this._bannerAd.hide()},s.initRewardAd=function(){this._videoAd=wx.createRewardedVideoAd({adUnitId:"adunit-4fd8f9b38c4adb1f"}),this._videoAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this._videoAd.onError((function(e){switch(console.log(e),e.errCode){case 1e3:console.log("后端接口调用失败"),c.dispatch("tipsViewShow","后端接口调用失败");break;case 1001:console.log("参数错误"),c.dispatch("tipsViewShow","参数错误");break;case 1002:console.log("广告单元无效"),c.dispatch("tipsViewShow","广告单元无效");break;case 1003:console.log("内部错误"),c.dispatch("tipsViewShow","内部错误");break;case 1004:console.log("无合适的广告"),c.dispatch("tipsViewShow","无合适的广告");break;case 1005:console.log("广告组件审核中"),c.dispatch("tipsViewShow","广告组件审核中");break;case 1006:console.log("广告组件被驳回"),c.dispatch("tipsViewShow","广告组件被驳回");break;case 1007:console.log("广告组件被封禁"),c.dispatch("tipsViewShow","广告组件被封禁");break;case 1008:console.log("广告单元已关闭"),c.dispatch("tipsViewShow","广告单元已关闭")}l.afterPlayAdError()})),this._videoAd.onClose((function(e){e&&e.isEnded||void 0===e?l.afterPlayAdComplete():(console.log("播放中途退出，不下发游戏奖励"),l.afterPlayAdError())}))},s.initRewardAdByPlayTimes=function(){var e=this,o=this.getIndexByPlayTimes(),i=r.adUnitIds[o];this._videoAd=wx.createRewardedVideoAd({adUnitId:i}),this._videoAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this._videoAd.onError((function(e){switch(console.log(e),e.errCode){case 1e3:console.log("后端接口调用失败"),c.dispatch("tipsViewShow","后端接口调用失败");break;case 1001:console.log("参数错误"),c.dispatch("tipsViewShow","参数错误");break;case 1002:console.log("广告单元无效"),c.dispatch("tipsViewShow","广告单元无效");break;case 1003:console.log("内部错误"),c.dispatch("tipsViewShow","内部错误");break;case 1004:console.log("无合适的广告"),c.dispatch("tipsViewShow","无合适的广告");break;case 1005:console.log("广告组件审核中"),c.dispatch("tipsViewShow","广告组件审核中");break;case 1006:console.log("广告组件被驳回"),c.dispatch("tipsViewShow","广告组件被驳回");break;case 1007:console.log("广告组件被封禁"),c.dispatch("tipsViewShow","广告组件被封禁");break;case 1008:console.log("广告单元已关闭"),c.dispatch("tipsViewShow","广告单元已关闭")}l.afterPlayAdError()})),this._videoAd.onClose((function(o){o&&o.isEnded||void 0===o?(d.playAdTimes++,e.getIndexByPlayTimes()!==e._curAdIndex&&e.initRewardAdByPlayTimes(),l.afterPlayAdComplete()):(console.log("播放中途退出，不下发游戏奖励"),l.afterPlayAdError())}))},s.getIndexByPlayTimes=function(){var e=0;return d.playAdTimes>3&&(e=1),d.playAdTimes>6&&(e=2),e},s.showWxVideoAd=function(){var e=this;this._videoAd.show().catch((function(){e._videoAd.load().then((function(){return e._videoAd.show()})).catch((function(e){console.log("激励视频 广告显示失败")}))}))},i}(a))||h);i._RF.pop()}}}));
